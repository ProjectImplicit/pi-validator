{"version":3,"file":"main.js","sources":["../src/utils/modelHelpers.js","../src/study/studiesComponent.js","../src/study/editors/jshintOptions.js","../src/study/fileModel.js","../src/study/studyModel.js","../src/utils/fullHeight.js","../src/study/editors/imgEditor.js","../src/study/editors/pdfEditor.js","../src/study/editors/unknownEditor.js","../src/utils/messagesComponent.js","../src/study/sidebar/fileActions.js","../src/study/editors/ace/aceComponent.js","../src/utils/observer.js","../src/study/editors/ace/syntaxComponent.js","../src/study/editors/ace/parser/messages.js","../src/study/editors/ace/parser/parser.js","../src/study/editors/ace/parser/pipValidator.js","../src/study/editors/ace/parser/questValidator.js","../src/study/editors/ace/parser/managerValidator.js","../src/study/editors/ace/parser/validator.js","../src/study/editors/ace/validatorComponent.js","../src/study/editors/textMenu.js","../src/study/editors/textEditor.js","../src/study/editorComponent.js","../src/utils/formHelpers.js","../src/utils/prettyPrint.js","../src/study/wizards/ratingWizard.js","../src/study/wizardComponent.js","../src/utils/classNames.js","../src/utils/contextMenuComponent.js","../src/study/sidebar/wizardActions.js","../src/study/sidebar/wizardHash.js","../src/study/sidebar/fileContext.js","../src/utils/uploader.js","../src/study/sidebar/nodeComponent.js","../src/study/sidebar/folderComponent.js","../src/study/sidebar/filesComponent.js","../src/study/sidebar/sidebarButtons.js","../src/study/sidebar/sidebarComponent.js","../src/study/studyComponent.js","../src/pool/poolModel.js","../src/utils/spinnerComponent.js","../src/pool/poolEditComponent.js","../src/pool/poolCreateComponent.js","../src/pool/poolActions.js","../src/login/authModel.js","../src/utils/sortTable.js","../src/utils/formatDate.js","../src/pool/poolComponent.js","../src/utils/dateRange.js","../src/pool/historyComponent.js","../src/downloads/downloadsModel.js","../src/downloads/downloadsCreate.js","../src/downloads/downloadsActions.js","../src/downloads/downloadsComponent.js","../src/login/loginComponent.js","../src/routes.js","../src/layoutWrapper.js","../src/main.js"],"sourcesContent":["export let checkStatus = response => {\n\n\tif (response.status >= 200 && response.status < 300) {\n\t\treturn response;\n\t}\n\n\tlet error = new Error(response.statusText);\n\n\terror.response = response;\n\n\tthrow error;\n};\n\nexport let toJSON = response => response\n\t.json()\n\t.catch(\t);\n\n// extract info from status error\nexport let catchJSON = err => (err.response ? err.response.json() : Promise.reject())\n\t.catch(() => Promise.reject(err))\n\t.then(json => Promise.reject(json));\n\n\nexport function fetchVoid(url, options = {}){\n\tlet opts = Object.assign({\n\t\tcredentials: 'same-origin',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json'\n\t\t}\n\t}, options);\n\n\topts.body = JSON.stringify(options.body);\n\treturn fetch(url, opts)\n\t\t.then(checkStatus)\n\t\t.catch(catchJSON);\n}\n\nexport function fetchJson(url, options){\n\treturn fetchVoid(url, options)\n\t\t.then(toJSON);\n}\n\nexport function fetchText(url, options){\n\treturn fetchVoid(url, options)\n\t\t.then(response => response.text());\n}\n\nexport function fetchUpload(url, options){\n\tlet opts = Object.assign({\n\t\tcredentials: 'same-origin'\n\t}, options);\n\n\treturn fetch(url, opts)\n\t\t.then(checkStatus)\n\t\t.then(toJSON)\n\t\t.catch(catchJSON);\n}\n","import {toJSON, checkStatus} from 'utils/modelHelpers';\nexport default mainComponent;\n\nvar mainComponent = {\n\tcontroller: function(){\n\t\tvar ctrl = {\n\t\t\tstudies:m.prop(),\n\t\t\tloaded:false\n\t\t};\n\t\tfetch('/dashboard/dashboard/studies', {credentials: 'same-origin'})\n\t\t\t.then(checkStatus)\n\t\t\t.then(toJSON)\n\t\t\t.then(ctrl.studies)\n\t\t\t.then(()=>ctrl.loaded = true)\n\t\t\t.then(m.redraw);\n\n\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\treturn m('.container', [\n\t\t\tm('h3', 'My studies'),\n\t\t\t!ctrl.loaded\n\t\t\t\t?\n\t\t\t\tm('.loader')\n\t\t\t\t:\n\t\t\t\tm('.list-group',ctrl.studies().studies.map(study => m('a.list-group-item',{\n\t\t\t\t\thref: `/editor/${study.id}`,\n\t\t\t\t\tconfig: m.route\n\t\t\t\t}, study.name)))\n\t\t]);\n\t}\n};","export default jshintOptions;\nvar jshintOptions = {\n\t// JSHint Default Configuration File (as on JSHint website)\n\t// See http://jshint.com/docs/ for more details\n\n\t'curly'         : false,    // true: Require {} for every new block or scope\n\t'latedef'       : 'nofunc', // true: Require variables/functions to be defined before being used\n\t'undef'         : true,     // true: Require all non-global variables to be declared (prevents global leaks)\n\t'unused'        : 'vars',   // Unused variables:\n\t'strict'        : false,    // true: Requires all functions run in ES5 Strict Mode\n\n\t'browser'       : true,     // Web Browser (window, document, etc)\n\t'devel'         : true,     // Development/debugging (alert, confirm, etc)\n\n\tesversion\t: 3,\t    // Require es3 syntax for backward compatibility\n\n\t// Custom Globals\n\tpredef: ['piGlobal','define','require','requirejs','angular']\n};\n","import jshintOptions from './editors/jshintOptions';\nimport {fetchVoid, fetchJson} from 'utils/modelHelpers';\nexport default fileFactory;\nlet baseUrl = '/dashboard/dashboard';\n\nlet filePrototype = {\n\tapiUrl(){\n\t\treturn `${baseUrl}/files/${encodeURIComponent(this.studyId)}/file/${encodeURIComponent(this.id)}`;\n\t},\n\n\tget(){\n\t\treturn fetchJson(this.apiUrl())\n\t\t\t.then(response => {\n\t\t\t\tlet content = response.content.replace(/\\r\\n?|\\n?$/g, '\\n'); // replace carriage returns and add new line to EOF. this makes sure all files are unix encoded...\n\t\t\t\tthis.sourceContent(content);\n\t\t\t\tthis.content(content);\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.error = false;\n\t\t\t})\n\t\t\t.catch(reason => {\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.error = true;\n\t\t\t\treturn Promise.reject(reason); // do not swallow error\n\t\t\t});\n\t},\n\n\tsave(){\n\t\treturn fetchVoid(this.apiUrl(), {\n\t\t\tmethod:'put',\n\t\t\tbody: {content: this.content}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tthis.sourceContent(this.content()); // update source content\n\t\t\t\treturn response;\n\t\t\t});\n\t},\n\n\tmove(path, study){\n\t\tlet basePath = (path.substring(0, path.lastIndexOf('/')));\n\t\tlet folderExists = basePath === '' || study.files().some(f => f.isDir && f.path === basePath);\n\n\t\tif (!folderExists) return Promise.reject({message: `Folder ${basePath} does not exist.`});\n\t\tif (study.files().some(f=>f.path === path)) return Promise.reject({message: `File ${path} already exists.`});\n\n\t\tlet oldPath = this.path;\n\t\tthis.setPath(path);\n\t\tthis.content(this.content()); // in case where changing into a file type that needs syntax checking\n\n\t\treturn fetchJson(this.apiUrl() + `/move/`, {\n\t\t\tmethod:'put',\n\t\t\tbody: {path}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tthis.id = response.id;\n\t\t\t\tthis.url = response.url;\n\t\t\t})\n\t\t\t.catch(response => {\n\t\t\t\tthis.setPath(oldPath);\n\t\t\t\treturn Promise.reject(response);\n\t\t\t});\n\t},\n\n\tdel(){\n\t\treturn fetchVoid(this.apiUrl(), {method:'delete'});\n\t},\n\n\n\thasChanged() {\n\t\treturn this.sourceContent() !== this.content();\n\t},\n\n\tdefine(context = window){\n\t\tvar requirejs = context.requirejs;\n\t\tvar name = this.url;\n\t\tvar content = this.content();\n\n\t\treturn new Promise((resolve) => {\n\t\t\trequirejs.undef(name);\n\t\t\tcontext.eval(content.replace(`define(`,`define('` + name + `',`));\n\t\t\tresolve();\n\t\t});\n\t},\n\n\trequire(context = window){\n\t\tvar requirejs = context.requirejs;\n\t\treturn new Promise((resolve, reject) => {\n\t\t\trequirejs([this.url], resolve,reject);\n\t\t});\n\t},\n\n\tcheckSyntax(){\n\t\tvar jshint = window.JSHINT;\n\t\tthis.syntaxValid = jshint(this.content(), jshintOptions);\n\t\tthis.syntaxData = jshint.data();\n\t\treturn this.syntaxValid;\n\t},\n\n\tsetPath(path = ''){\n\t\tthis.path = path;\n\t\tthis.name = path.substring(path.lastIndexOf('/')+1);\n\t\tthis.basePath = (path.substring(0, path.lastIndexOf('/'))) + '/';\n\t\tthis.type = path.substring(path.lastIndexOf('.')+1).toLowerCase();\n\t}\n};\n\n/**\n * fileObj = {\n * \tid: #hash,\n *\tpath: path, \t\n * \turl: URL\n * }\n */\n\nconst fileFactory = fileObj => {\n\tlet file = Object.create(filePrototype);\n\tlet path = decodeURIComponent(fileObj.path);\n\n\n\tfile.setPath(path);\n\n\tObject.assign(file, fileObj, {\n\t\tid\t\t\t: fileObj.id,\n\t\tsourceContent\t\t: m.prop(fileObj.content || ''),\n\t\tcontent \t\t: contentProvider.call(file, fileObj.content || ''), // custom m.prop, alows checking syntax on change\n\n\t\t// keep track of loaded state\n\t\tloaded\t\t\t: false,\n\t\terror \t\t\t: false,\n\n\t\t// these are defined when calling checkSyntax\n\t\tsyntaxValid \t: undefined,\n\t\tsyntaxData \t\t: undefined\n\t});\n\n\tfile.content(fileObj.content || '');\n\n\tif (fileObj.files) file.files = fileObj.files.map(fileFactory).map(file => Object.assign(file, {studyId: fileObj.studyId}));\n\n\treturn file;\n\n\n\tfunction contentProvider (store) {\n\t\tvar prop = (...args) => {\n\t\t\tif (args.length) {\n\t\t\t\tstore = args[0];\n\t\t\t\tthis.type === 'js' && this.checkSyntax();\n\t\t\t}\n\t\t\treturn store;\n\t\t};\n\n\t\tprop.toJSON = () => store;\n\n\t\treturn prop;\n\t}\n};\n","import {fetchJson, fetchUpload} from 'utils/modelHelpers';\nimport fileFactory from './fileModel';\nexport default studyFactory;\n\nlet baseUrl = '/dashboard/dashboard';\n\nlet studyPrototype = {\n\tapiURL(path = ''){\n\t\treturn `${baseUrl}/files/${encodeURIComponent(this.id)}${path}`;\n\t},\n\n\tget(){\n\t\treturn fetchJson(this.apiURL())\n\t\t\t.then(study => {\n\t\t\t\tthis.loaded = true;\n\t\t\t\tlet files = flattenFiles(study.files)\n\t\t\t\t\t.map(assignStudyId(this.id))\n\t\t\t\t\t.map(fileFactory);\n\n\t\t\t\tthis.files(files);\n\t\t\t\tthis.sort();\n\t\t\t})\n\t\t\t.catch(reason => {\n\t\t\t\tthis.error = true;\n\t\t\t\treturn Promise.reject(reason); // do not swallow error\n\t\t\t});\n\n\t\tfunction flattenFiles(files){\n\t\t\tif (!files) return [];\n\t\t\treturn files\n\t\t\t\t\t.map(spreadFile)\n\t\t\t\t\t.reduce((result, fileArr) => result.concat(fileArr),[]);\n\t\t}\n\n\t\tfunction assignStudyId(id){\n\t\t\treturn f => Object.assign(f, {studyId: id});\n\t\t}\n\n\t\tfunction spreadFile(file){\n\t\t\treturn [file].concat(flattenFiles(file.files));\n\t\t}\n\n\n\t},\n\n\tgetFile(id){\n\t\treturn this.files().find(f => f.id === id);\n\t},\n\n\tcreateFile({name, content='',isDir}){\n\t\t// validation (make sure there are no invalid characters)\n\t\tif(/[^\\/-_.A-Za-z0-9]/.test(name)) return Promise.reject({message: `The file name \"${name}\" is not valid`});\n\n\t\t// validation (make sure file does not already exist)\n\t\tlet exists = this.files().some(file => file.path === name);\n\t\tif (exists) return Promise.reject({message: `The file \"${name}\" already exists`});\n\n\t\t// validateion (make sure direcotry exists)\n\t\tlet basePath = (name.substring(0, name.lastIndexOf('/'))).replace(/^\\//, '');\n\t\tlet dirExists = basePath === '' || this.files().some(file => file.isDir && file.path === basePath);\n\t\tif (!dirExists) return Promise.reject({message: `The directory \"${basePath}\" does not exist`});\n\n\t\treturn fetchJson(this.apiURL('/file'), {method:'post', body: {name, content, isDir}})\n\t\t\t.then(response => {\n\t\t\t\tObject.assign(response, {studyId: this.id, content, path:name, isDir});\n\t\t\t\tlet file = fileFactory(response);\n\t\t\t\tfile.loaded = true;\n\t\t\t\tthis.files().push(file);\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.then(this.sort.bind(this));\n\t},\n\n\tsort(response){\n\t\tlet files = this.files().sort(sort);\n\t\tthis.files(files);\n\t\treturn response;\n\n\t\tfunction sort(a,b){\n\t\t\t// sort by isDir then name\n\t\t\tlet nameA= +!a.isDir + a.name.toLowerCase(), nameB=+!b.isDir + b.name.toLowerCase();\n\t\t\tif (nameA < nameB) return -1;//sort string ascending\n\t\t\tif (nameA > nameB) return 1;\n\t\t\treturn 0; //default return value (no sorting)\n\t\t}\n\t},\n\n\tuploadFiles(path, files){\n\t\tlet paths = Array.from(files, file => path === '/' ? file.name : path + '/' + file.name);\n\t\tlet formData = buildFormData(path === '/' ? '' : path, files);\n\t\t// validation (make sure files do not already exist)\n\t\tlet exists = this.files().find(file => paths.includes(file.path));\n\t\tif (exists) return Promise.reject({message: `The file \"${exists.path}\" already exists`});\n\n\t\treturn fetchUpload(this.apiURL(`/upload/${path === '/' ? '' : path}`), {method:'post', body:formData})\n\t\t\t.then(response => {\n\t\t\t\tresponse.forEach(src => {\n\t\t\t\t\tlet file = fileFactory(Object.assign({studyId: this.id},src));\n\t\t\t\t\tthis.files().push(file);\n\t\t\t\t});\n\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.then(this.sort.bind(this));\n\n\t\tfunction buildFormData(path, files) {\n\t\t\tvar formData = new FormData;\n\t\t\t// formData.append('path', path);\n\n\t\t\t// for (let file in files) {\n\t\t\t// \tformData.append('files', files[file]);\n\t\t\t// }\n\n\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\tformData.append(i, files[i]);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t}\n\t},\n\n\tdel(fileId){\n\t\tlet file = this.getFile(fileId);\n\t\treturn file.del()\n\t\t\t.then(() => {\n\t\t\t\tlet files = this.files()\n\t\t\t\t\t.filter(f => f.path.indexOf(file.path) !== 0); // all paths that start with the same path are deleted\n\t\t\t\tthis.files(files);\n\t\t\t});\n\t}\n};\n\nlet studyFactory = \tid =>{\n\tlet study = Object.create(studyPrototype);\n\tObject.assign(study, {\n\t\tid \t\t: id,\n\t\tfiles \t: m.prop([]),\n\t\tloaded \t: false,\n\t\terror \t:false\n\t});\n\n\treturn study;\n};\n","export default fullHeight;\nlet fullHeight = (element, isInitialized, ctx) => {\n\tif (!isInitialized){\n\t\tonResize();\n\n\t\twindow.addEventListener('resize', onResize, true);\n\n\t\tctx.onunload = function(){\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t};\n\n\t}\n\n\tfunction onResize(){\n\t\telement.style.height = document.documentElement.clientHeight - element.getBoundingClientRect().top + 'px';\n\t}\n};","export default imgEditor;\n\nlet imgEditor = ({file}) => m('div.img-editor.centrify', [\n\tm('img', {src:file.url})\n]);","export default pdfEditor;\n\nlet pdfEditor = ({file}) => m('object', {\n\tdata: file.url,\n\ttype: 'application/pdf',\n\twidth: '100%',\n\theight: '100%'\n});\n\n","export default unknownComponent;\n\nlet unknownComponent = () => m('.centrify', [\n\tm('i.fa.fa-file.fa-5x'),\n\tm('h5', 'Unknow file type')\n]);","export default messages;\n\nlet noop = ()=>{};\n\nlet messages = {\n\tvm: {isOpen: false},\n\n\topen: (type, opts={}) => {\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\tmessages.vm = {resolve,reject,type, opts, isOpen:true};\n\t\t});\n\t\tm.redraw();\n\n\t\treturn promise;\n\t},\n\n\tclose: response => {\n\t\tlet vm = messages.vm;\n\t\tvm.isOpen = false;\n\t\tif (typeof vm.resolve === 'function') vm.resolve(response);\n\t\tm.redraw();\n\t},\n\n\tcustom: opts=>messages.open('custom', opts),\n\talert: opts => messages.open('alert', opts),\n\tconfirm: opts => messages.open('confirm', opts),\n\tprompt: opts => messages.open('prompt', opts),\n\n\tview: () => {\n\t\tlet vm = messages.vm;\n\t\tlet close = messages.close.bind(null, null);\n\t\tlet stopPropagation = e => e.stopPropagation();\n\t\treturn m('#messages.backdrop', [\n\t\t\t!vm || !vm.isOpen\n\t\t\t\t? ''\n\t\t\t\t:[\n\t\t\t\t\tm('.overlay', {config:messages.config()}),\n\t\t\t\t\tm('.backdrop-content', {onclick:close}, [\n\t\t\t\t\t\tm('.card', {class: vm.opts.wide ? 'col-sm-8' : 'col-sm-5', config:maxHeight}, [\n\t\t\t\t\t\t\tm('.card-block', {onclick: stopPropagation}, [\n\t\t\t\t\t\t\t\tmessages.views[vm.type](vm.opts)\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t]);\n\n\t},\n\n\tconfig: () => {\n\t\treturn (element, isInitialized, context) => {\n\t\t\tif (!isInitialized) {\n\t\t\t\tlet handleKey = function(e) {\n\t\t\t\t\tif (e.keyCode == 27) {\n\t\t\t\t\t\tmessages.close(null);\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode == 13) {\n\t\t\t\t\t\tmessages.close(true);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tdocument.body.addEventListener('keyup', handleKey);\n\n\t\t\t\tcontext.onunload = function() {\n\t\t\t\t\tdocument.body.removeEventListener('keyup', handleKey);\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t},\n\n\tviews: {\n\t\tcustom: (opts={}) => opts.content,\n\n\t\talert: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('p.card-text', opts.content),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t},\n\n\t\tconfirm: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('p.card-text', opts.content),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(null)}, opts.okText || 'Cancel'),\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t},\n\n\t\t/**\n\t\t * Promise prompt(Object opts{header: String, content: String, name: Prop})\n\t\t *\n\t\t * where:\n\t\t *   any Prop(any value)\n\t\t */\n\t\tprompt: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\tlet prop = opts.prop || noop;\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('.card-text', opts.content),\n\t\t\t\tm('.card-block', [\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tkey: 'prompt',\n\t\t\t\t\t\tvalue: prop(),\n\t\t\t\t\t\tonchange: m.withAttr('value', prop),\n\t\t\t\t\t\tconfig: (element, isInitialized) => {\n\t\t\t\t\t\t\tif (!isInitialized) element.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t]),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(null)}, opts.okText || 'Cancel'),\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t}\n\t}\n};\n\n\n// set message max height, so that content can scroll within it.\nlet maxHeight = (element, isInitialized, ctx) => {\n\tif (!isInitialized){\n\t\tonResize();\n\n\t\twindow.addEventListener('resize', onResize, true);\n\n\t\tctx.onunload = function(){\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t};\n\n\t}\n\n\tfunction onResize(){\n\t\telement.style.maxHeight = document.documentElement.clientHeight * 0.9 + 'px';\n\t}\n\n};","import messages from 'utils/messagesComponent';\n\nexport let uploadFiles = (path,study) => files => {\n\tstudy\n\t\t.uploadFiles(path, files)\n\t\t.catch(response => messages.alert({\n\t\t\theader: 'Upload File',\n\t\t\tcontent: response.message\n\t\t}))\n\t\t.then(m.redraw);\n};\n\n\nexport let moveFile = (file,study) => () => {\n\tlet newPath = m.prop(file.path);\n\treturn messages.prompt({\n\t\theader: 'Move/Rename File',\n\t\tprop: newPath\n\t})\n\t\t.then(response => {\n\t\t\tif (response) return moveAction(file,study);\n\t\t});\n\n\tfunction moveAction(file,study){\n\t\tlet def = file\n\t\t\t.move(newPath(),study) // the actual movement\n\t\t\t.then(redirect)\n\t\t\t.catch(response => messages.alert({\n\t\t\t\theader: 'Move/Rename File',\n\t\t\t\tcontent: response.message\n\t\t\t}))\n\t\t\t.then(m.redraw); // redraw after server response\n\n\t\tm.redraw();\n\t\treturn def;\n\t}\n\n\tfunction redirect(response){\n\t\tm.route(`/editor/${study.id}/file/${file.id}`);\t\n\t\treturn response;\n\t}\n};\n\nlet playground;\nexport let play = (file,study) => () => {\n\tlet isSaved = study.files().every(file => !file.hasChanged());\t\n\n\tif (isSaved) open();\n\telse messages.confirm({\n\t\theader: 'Play task',\n\t\tcontent: 'You have unsaved files, the player will use the saved version, are you sure you want to proceed?'\t\n\t}).then(response => response && open());\n\n\tfunction open(){\n\t\t// this is important, if we don't close the original window we get problems with onload\n\t\tif (playground && !playground.closed) playground.close();\n\n\t\tplayground = window.open('playground.html', 'Playground');\n\t\tplayground.onload = function(){\n\t\t\t// first set the unload listener\n\t\t\tplayground.addEventListener('unload', function() {\n\t\t\t\t// get focus back here\n\t\t\t\twindow.focus();\n\t\t\t});\n\n\t\t\t// then activate the player (this ensures that when )\n\t\t\tplayground.activate(file);\n\t\t\tplayground.focus();\n\t\t};\n\t}\n};\n\nexport let save = file => () => {\n\tfile.save()\n\t\t.then(m.redraw)\n\t\t.catch(err => messages.alert({\n\t\t\theader: 'Error Saving:',\n\t\t\tcontent: err.message\n\t\t}));\n};\n\nexport let copyUrl = file => () => {\n\tlet input = document.createElement('input');\n\tinput.value = file.url;\n\tdocument.body.appendChild(input);\n\tinput.select();\n\tif (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){\n\t\tmessages.alert({\n\t\t\theader: 'Copy URL',\n\t\t\tcontent: m('.card-block', [\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Copy Url by clicking Ctrl + C'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: el => el.select(),\n\t\t\t\t\t\tvalue: file.url\n\t\t\t\t\t})\n\t\t\t\t])\n\t\t\t])\n\t\t});\n\t}\n\n\ttry {\n\t\tdocument.execCommand('copy');\n\t} catch(err){\n\t\tmessages.alert({\n\t\t\theader: 'Copy URL',\n\t\t\tcontent: 'Copying the URL has failed.'\n\t\t});\n\t}\n\n\tinput.parentNode.removeChild(input);\n};\n\n\n// add trailing slash if needed, and then remove proceeding slash\n// return prop\nlet pathProp = path => m.prop(path.replace(/\\/?$/, '/').replace(/^\\//, ''));\n\nexport let  createFile = (study, name, content) => {\n\tstudy.createFile({name:name(), content:content()})\n\t\t.then(response => {\n\t\t\tm.route(`/editor/${study.id}/file/${encodeURIComponent(response.id)}`);\n\t\t\treturn response;\n\t\t})\n\t\t.catch(err => messages.alert({\n\t\t\theader: 'Failed to create file:',\n\t\t\tcontent: err.message\n\t\t}));\n};\n\nexport let createDir = (study, path='') => () => {\n\tlet name = pathProp(path);\n\n\tmessages.prompt({\n\t\theader: 'Create Directory',\n\t\tcontent: 'Please insert directory name',\n\t\tprop: name\n\t})\n\t\t.then(response => {\n\t\t\tif (response) return study.createFile({name:name(), isDir:true});\n\t\t})\n\t\t.then(m.redraw)\n\t\t.catch(err => messages.alert({\n\t\t\theader: 'Failed to create directory:',\n\t\t\tcontent: err.message\n\t\t}));\n};\n\nexport let createEmpty = (study, path = '') => () => {\n\tlet name = pathProp(path);\n\tlet content = ()=>'';\n\n\tmessages.prompt({\n\t\theader: 'Create file',\n\t\tcontent: 'Please insert the file name:',\n\t\tprop: name\n\t}).then(response => {\n\t\tif (response) return createFile(study, name,content);\n\t});\n};\n","import fullHeight from 'utils/fullHeight';\nexport default ace;\n\nlet ace = args => m.component(aceComponent, args);\n\nlet noop = function(){};\n\nlet aceComponent = {\n\tview: function editorView(ctrl, args){\n\t\treturn m('.editor', {config: aceComponent.config(args)});\n\t},\n\n\tconfig: function({content, observer, settings = {}}){\n\t\treturn function(element, isInitialized, ctx){\n\t\t\tlet editor;\n\t\t\tlet mode = settings.mode || 'javascript';\n\t\t\tlet paste = text => {\n\t\t\t\tif (editor) {\n\t\t\t\t\teditor.insert(text);\n\t\t\t\t\teditor.focus();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (!isInitialized){\n\t\t\t\tfullHeight(element, isInitialized, ctx);\n\n\t\t\t\trequire(['ace/ace'], function(ace){\n\t\t\t\t\tace.config.set('packaged', true);\n\t\t\t\t\tace.config.set('basePath', require.toUrl('ace'));\n\n\t\t\t\t\teditor = ctx.editor = ace.edit(element);\n\t\t\t\t\tlet session = editor.getSession();\n\t\t\t\t\tlet commands = editor.commands;\n\n\t\t\t\t\teditor.setTheme('ace/theme/cobalt');\n\t\t\t\t\tsession.setMode('ace/mode/' + mode);\n\t\t\t\t\tif (mode !== 'javascript') session.setUseWorker(false);\n\t\t\t\t\teditor.setHighlightActiveLine(true);\n\t\t\t\t\teditor.setShowPrintMargin(false);\n\t\t\t\t\teditor.setFontSize('18px');\n\t\t\t\t\teditor.$blockScrolling = Infinity; // scroll to top\n\n\t\t\t\t\t// set jshintOptions\n\t\t\t\t\teditor.session.on('changeMode', function(e, session){\n\t\t\t\t\t\tif (session.getMode().$id === 'ace/mode/javascript' && !!session.$worker && settings.jshintOptions) {\n\t\t\t\t\t\t\tsession.$worker.send('setOptions', [settings.jshintOptions]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.on('change', function(){\n\t\t\t\t\t\tcontent(editor.getValue());\n\t\t\t\t\t\tm.redraw();\n\t\t\t\t\t});\n\n\t\t\t\t\tcommands.addCommand({\n\t\t\t\t\t\tname: 'save',\n\t\t\t\t\t\tbindKey: {win: 'Ctrl-S', mac: 'Command-S'},\n\t\t\t\t\t\texec: settings.onSave || noop\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(observer) observer.on('paste',paste );\n\t\t\t\t\t\n\t\t\t\t\tsetContent();\n\t\t\t\t\tsession.setUndoManager(new ace.UndoManager()); // reset undo manager so that ctrl+z doesn't erase file\n\t\t\t\t\teditor.focus();\n\t\t\t\t\t\n\t\t\t\t\tctx.onunload = () => {\n\t\t\t\t\t\teditor.destroy();\n\t\t\t\t\t\tif(observer) observer.off(paste );\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t}\n\t\t\t\n\t\t\t// each redraw set content from model (the function makes sure that this is not done when not needed...)\n\t\t\tsetContent();\n\n\t\t\tfunction setContent(){\n\t\t\t\tlet editor = ctx.editor;\n\t\t\t\tif (!editor) return;\n\t\t\t\t\n\t\t\t\t// this should trigger only drastic changes such as the first time the editor is set\n\t\t\t\tif (editor.getValue() !== content()){\n\t\t\t\t\teditor.setValue(content());\n\t\t\t\t\teditor.moveCursorTo(0,0);\n\t\t\t\t\teditor.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n};\n","export  default observer;\n\nfunction observer(){\n\tlet channels = {};\n\treturn {\n\t\ton(channel,cb){\n\t\t\tchannels[channel] || (channels[channel] = []);\n\t\t\tchannels[channel].push(cb);\n\t\t},\n\t\toff(cb){\n\t\t\tfor (let channel in channels) {\n\t\t\t\tlet index = channels[channel].indexOf(cb);\n\t\t\t\tif (index > -1) channels[channel].splice(index, 1);\n\t\t\t}\n\t\t},\n\t\ttrigger(channel, ...args){\n\t\t\tif (!channels[channel]) return;\n\t\t\tchannels[channel].forEach(cb => cb.apply(null, args));\n\t\t}\n\t};\n}\n","export default syntax;\n\nlet syntax = args => m.component(syntaxComponent, args);\n\n/**\n * Syntax component\n * Takes an argument as follows:\n *\n * {valid: Boolean, data: jshint(script).data()}\n */\nvar syntaxComponent = {\n\n\t/**\n\t * Analyze script\n\t * @param  {String} script A script to analyze\n\t * @return {Object}\n\t * {\n\t *      isValid: Boolean,\n\t *      data: Object, // raw data\n\t *      errors: Array, // an array of analyzed errors\n\t *      errorCount: Number, // the number of errors\n\t *      warningCount: Number // the number of warnings\n\t * }\n\t */\n\tanalize: (isValid, data) => {\n\t\tvar errorCount = 0;\n\t\tvar warningCount = 0;\n\t\tvar errors = isValid ? [] : data.errors\n\t\t\t.filter(e => e) // clean null values\n\t\t\t.map(err => {\n\t\t\t\tvar isError = err.code && (err.code[0] === 'E');\n\n\t\t\t\tisError ? errorCount++ : warningCount++;\n\n\t\t\t\treturn {\n\t\t\t\t\tisError: isError,\n\t\t\t\t\tline: err.line,\n\t\t\t\t\tcol: err.character,\n\t\t\t\t\treason: err.reason,\n\t\t\t\t\tevidence: err.evidence\n\t\t\t\t};\n\t\t\t});\n\t\treturn {\n\t\t\tisValid: isValid,\n\t\t\tdata: data,\n\t\t\terrors : errors,\n\t\t\terrorCount: errorCount,\n\t\t\twarningCount: warningCount\n\t\t};\n\t},\n\n\tcontroller:  args => {\n\t\tvar file = args.file;\n\t\treturn syntaxComponent.analize(file.syntaxValid, file.syntaxData);\n\t},\n\n\tview: ctrl => {\n\t\treturn m('div', [\n\t\t\tctrl.isValid\n\t\t\t\t?\n\t\t\t\tm('div', {class:'alert alert-success'}, [\n\t\t\t\t\tm('strong','Well done!'),\n\t\t\t\t\t'Your script is squeaky clean'\n\t\t\t\t])\n\t\t\t\t:\n\t\t\t\tm('div', [\n\t\t\t\t\tm('table.table', [\n\t\t\t\t\t\tm('tbody', ctrl.errors.map(err => {\n\t\t\t\t\t\t\treturn m('tr',[\n\t\t\t\t\t\t\t\tm('td.text-muted', `line ${err.line}`),\n\t\t\t\t\t\t\t\tm('td.text-muted', `col ${err.col}`),\n\t\t\t\t\t\t\t\tm('td', {class: err.isError ? 'text-danger' : 'text-info'}, err.reason),\n\t\t\t\t\t\t\t\tm('td',err.evidence)\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t}))\n\t\t\t\t\t]),\n\n\t\t\t\t\tm('.row',[\n\t\t\t\t\t\tm('.col-md-6', [\n\t\t\t\t\t\t\tm('div', {class:'alert alert-danger'}, [\n\t\t\t\t\t\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t\t\t\t\t\t`You have ${ctrl.errorCount} critical errors.`\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('.col-md-6', [\n\t\t\t\t\t\t\tm('div', {class:'alert alert-info'}, [\n\t\t\t\t\t\t\t\tm('strong',{class:'glyphicon glyphicon-warning-sign'}),\n\t\t\t\t\t\t\t\t`You have ${ctrl.warningCount} non standard syntax errors.`\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\n\t\t\t\t])\n\t\t]);\n\t}\n};\n","export function warn(message, test){\n\treturn {level:'warn', message: message, test:test};\n}\n\nexport function error(message, test){\n\treturn {level:'error', message: message, test:test};\n}\n\nexport function row(element, testArr){\n\tvar messages = flatten(testArr)\n\t\t.filter(msg => msg) // clean empty\n\t\t.filter(msg => typeof msg.test == 'function' ? msg.test(element) : !!msg.test); // run test...\n\n\treturn !messages.length ? null : {\n\t\telement: element,\n\t\tmessages: messages\n\t};\n}\n\nfunction flatten(arr) {\n\treturn arr.reduce(function (flat, toFlatten) {\n\t\treturn flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n\t}, []);\n}","function multiPick(arr, propArr){\n\treturn arr\n\t\t.map(e=> e && [].concat(e[propArr[0]], e[propArr[1]], e[propArr[2]])) // gather all stim arrays\n\t\t.reduce((previous, current)=>previous.concat(current),[]) // flatten arrays\n\t\t.filter(t=>t); // remove all undefined stim\n}\n\nfunction flattenSequence(sequence){\n\tfunction unMix(e){\n\t\treturn flattenSequence([].concat(e.data, e.elseData, (e.branches || []).map(e=>e.data)));\n\t}\n\n\treturn sequence\n\t\t.reduce((previous, current) => {return previous.concat(current && current.mixer ? unMix(current) : current);},[])\n\t\t.filter(t=>t); // remove all undefined stim;\n}\n\nfunction concatClean(){\n\tvar args = [].splice.call(arguments,0);\n\treturn [].concat.apply([], args).filter(e=>e);\n}\n\nexport function pipElements(script){\n\tvar trials, stimuli, media;\n\n\ttrials = concatClean(flattenSequence(script.sequence), script.trialSets);\n\tstimuli = concatClean(\n\t\tscript.stimulusSets,\n\t\tmultiPick(trials,['stimuli', 'layout'])\n\t);\n\tmedia = concatClean(\n\t\tscript.mediaSets,\n\t\tmultiPick(stimuli,['media','touchMedia'])\n\t);\n\n\treturn {trials:trials, stimuli:stimuli, media:media};\n}\n\nexport function questElements(script){\n\tvar pages, questions;\n\n\tpages = [].concat(\n\t\tflattenSequence(script.sequence),\n\t\tscript.pagesSets\n\t).filter(t=>t);\n\n\tquestions = [].concat(\n\t\tscript.questionsSets,\n\t\tflattenSequence(multiPick(pages,['questions']))\n\t).filter(t=>t);\n\n\treturn {pages:pages, questions:questions};\n}\n\nexport function managerElements(script){\n\tvar tasks;\n\n\ttasks = [].concat(\n\t\tflattenSequence(script.sequence),\n\t\tscript.pagesSets\n\t).filter(t=>t);\n\n\treturn {tasks:tasks};\n}","import {warn, error, row} from './messages';\nimport {pipElements} from './parser';\n\nexport default pipValidator;\n\nfunction pipValidator(script, url){\n\tvar errors = [];\n\tvar elements = pipElements(script);\n\n\terrors.push({type:'Settings',errors: checkSettings(script, url)});\n\terrors.push({type:'Trials',errors: filterMap(elements.trials, trialTest)});\n\t// errors.push({type:'Stimuli',errors: filterMap(elements.stimuli, stimuliTest)});\n\t// errors.push({type:'Media',errors: filterMap(elements.media, mediaTest)});\n\n\treturn errors;\n}\n\nfunction filterMap(arr, fn){\n\treturn arr.map(fn).filter(e=>e);\n}\n\n/**\n * Check settings\n * @param  {Object} script The script to be tested\n * @param  {String} url    The script origin URL\n * @return {Array}        Array of error rows\n */\nfunction checkSettings(script, url){\n\tvar settings = script.settings || {};\n\n\tvar w = byProp(warn);\n\t// var e = byProp(error);\n\n\tvar errors = [\n\t\tr('base_url', [\n\t\t\tw('Your base_url is not in the same directory as your script.', e => {\n\t\t\t\t// use this!!!\n\t\t\t\t// http://stackoverflow.com/questions/4497531/javascript-get-url-path\n\t\t\t\tvar getPath = url => {\n\t\t\t\t\tvar a = document.createElement('a');\n\t\t\t\t\ta.href = url;\n\t\t\t\t\treturn a.pathname;\n\t\t\t\t};\n\n\t\t\t\tvar path = getPath(url).substring(0, url.lastIndexOf('/') + 1); // get path but remove file name\n\t\t\t\tvar t = s => (!s || getPath(s).indexOf(path) !== 0);\n\n\t\t\t\treturn (typeof e == 'object') ? t(e.image) && t(e.template) : t(e);\n\t\t\t})\n\t\t])\n\t];\n\n\treturn errors.filter(function(err){return !!err;});\n\n\tfunction r(prop, arr){\n\t\tvar el = {};\n\t\tel[prop] = settings[prop];\n\t\treturn prop in settings && row(el, arr);\n\t}\n\n\t// wrap warn/error so that I don't have to individually\n\tfunction byProp(fn){\n\t\treturn function(msg, test){\n\t\t\treturn fn(msg, e => {\n\t\t\t\tfor (var prop in e) {\n\t\t\t\t\treturn test(e[prop]);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t}\n}\n\nfunction trialTest(trial) {\n\tvar tests = [\n\t\ttestInteractions(trial.interactions),\n\t\ttestInput(trial.input)\n\t];\n\n\treturn row(trial, tests);\n\n\tfunction testInteractions(interactions){\n\t\tif (!interactions) {return;}\n\n\t\tif (!Array.isArray(interactions)){\n\t\t\treturn [error('Interactions must be an array.', true)];\n\t\t}\n\n\t\treturn  interactions.map((interaction, index) => {\n\t\t\treturn [\n\t\t\t\t!interaction.conditions ? error(`Interaction [${index}] must have conditions`, true) : [\n\t\t\t\t\terror(`Interaction conditon [${index}] must have a type`, toArray(interaction.conditions).some(c=>!c.type))\n\t\t\t\t],\n\t\t\t\t!interaction.actions ? error(`Interaction [${index}] must have actions`, true) : [\n\t\t\t\t\terror(`Interaction action [${index}] must have a type`, toArray(interaction.actions).some(a=>!a.type))\n\t\t\t\t]\n\t\t\t];\n\t\t});\n\n\n\t\tfunction toArray(arr){\n\t\t\treturn Array.isArray(arr) ? arr : [arr];\n\t\t}\n\n\t}\n\n\tfunction testInput(input){\n\t\tif (!input) {return;}\n\n\t\tif (!Array.isArray(trial.input)){\n\t\t\treturn [error('Input must be an Array', true)];\n\t\t}\n\n\t\treturn [\n\t\t\terror('Input must always have a handle', input.some(i=>!i.handle)),\n\t\t\terror('Input must always have an on attribute', input.some(i=>!i.on))\n\t\t];\n\t}\n}\n\nfunction stimuliTest(stim){\n\tvar tests = [];\n\treturn row(stim, tests);\n}\n\nfunction mediaTest(media){\n\tvar tests = [\n\n\t];\n\treturn row(media, tests);\n}","import messages from './messages';\nimport {questElements} from './parser';\n\nexport default function questValidator(script){\n\tvar errors = [];\n\n\terrors.push({type:'Settings', errors:[]});\n\terrors.push({type:'Pages', errors:[]});\n\terrors.push({type:'Questions', errors:[]});\n\n\treturn errors;\n}","\nimport {warn, error} from './messages';\nimport {managerElements} from './parser';\n\nexport default function managerValidator(script){\n\tvar errors = [];\n\tvar elements = managerElements(script);\n\n\terrors.push({type:'Settings', errors:[]});\n\terrors.push({type:'Tasks', errors:[]});\n\n\treturn errors;\n}\n\n\n\n","import pipValidate from './pipValidator';\nimport questValidate from './questValidator';\nimport managerValidate from './managerValidator';\n\nexport default function validate(script){\n\tvar type = script.type && script.type.toLowerCase();\n\tswitch (type){\n\tcase 'pip' : return pipValidate.apply(null, arguments);\n\tcase 'quest' : return questValidate.apply(null, arguments);\n\tcase 'manager' : return managerValidate.apply(null, arguments);\n\tdefault:\n\t\tthrow new Error('Unknown script.type: ' + type);\n\t}\n}\n\nexport function dd(){\n\treturn [\n\t\t{\n\t\t\ttype: 'task',\n\t\t\terrosrs:[],\n\t\t\terrors: [\n\t\t\t\t{\n\t\t\t\t\telement: {name:'myName', content: [1,2,3]},\n\t\t\t\t\tmessages: [\n\t\t\t\t\t\t{level:'error', message: 'error message1'},\n\t\t\t\t\t\t{level:'warn', message: 'warn message2'},\n\t\t\t\t\t\t{level:'warn', message: 'warn message3'},\n\t\t\t\t\t\t{level:'error', message: 'error message4'}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\telement: {name:'otherName', content: [1,2,3]},\n\t\t\t\t\tmessages: [\n\t\t\t\t\t\t{level:'warn', message: 'warn message1'},\n\t\t\t\t\t\t{level:'error', message: 'error message2'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\n\t];\n}\n","import validator from './parser/validator';\nexport default validate;\n\nlet validate = args => m.component(validateComponent, args);\n\nvar validateComponent = {\n\tcontroller: args => {\n\t\tvar file = args.file;\n\t\tvar ctrl = {\n\t\t\tvalidations : m.prop([]),\n\t\t\tisError: false\n\t\t};\n\n\t\tm.startComputation();\n\t\tfile\n\t\t\t.define()\n\t\t\t.then(()=>{\n\t\t\t\treturn file.require();\n\t\t\t})\n\t\t\t.then(script => {\n\t\t\t\tctrl.validations(validator(script, file.url));\n\t\t\t\tm.endComputation();\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tctrl.isError = true;\n\t\t\t\tm.endComputation();\n\t\t\t});\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\treturn  m('div', [\n\t\t\t!ctrl.isError ? '' :\tm('div', {class:'alert alert-danger'}, [\n\t\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t\t`There was a problem parsing this script. Are you sure that it is a valid PI script? Make sure you fix all syntax errors.`\n\t\t\t]),\n\n\t\t\tctrl.validations().map(validationReport => {\n\t\t\t\treturn [\n\t\t\t\t\tm('h4', validationReport.type),\n\t\t\t\t\t!validationReport.errors.length\n\t\t\t\t\t\t?\n\t\t\t\t\t\tm('div', {class:'alert alert-success'}, [\n\t\t\t\t\t\t\tm('strong','Well done!'),\n\t\t\t\t\t\t\t'Your script is squeaky clean'\n\t\t\t\t\t\t])\n\t\t\t\t\t\t:\n\t\t\t\t\t\tvalidationReport.errors.map(err => {\n\t\t\t\t\t\t\treturn m('.row',[\n\t\t\t\t\t\t\t\tm('.col-md-4.stringified',\n\t\t\t\t\t\t\t\t\tm('div', {class:'pre'}, m.trust(stringify(err.element)))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tm('.col-md-8',[\n\t\t\t\t\t\t\t\t\tm('ul', err.messages.map(msg => {\n\t\t\t\t\t\t\t\t\t\treturn m('li.list-unstyled', {class: msg.level == 'error' ? 'text-danger' : 'text-info'}, [\n\t\t\t\t\t\t\t\t\t\t\tm('strong', msg.level),\n\t\t\t\t\t\t\t\t\t\t\tmsg.message\n\t\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t})\n\n\t\t]);\n\t}\n};\n\n\nfunction stringify(value, pretty) {\n\tif (value == null) { // null || undefined\n\t\treturn '<i class=\"text-muted\">undefined</i>';\n\t}\n\tif (value === '') {\n\t\treturn '<i class=\"text-muted\">an empty string</i>';\n\t}\n\n\tswitch (typeof value) {\n\t\tcase 'string':\n\t\t\tbreak;\n\t\tcase 'number':\n\t\t\tvalue = '' + value;\n\t\t\tbreak;\n\t\tcase 'object':\n\t\t\t// display the error message not the full thing...\n\t\t\tif (value instanceof Error){\n\t\t\t\tvalue = value.message;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t/* fall through */\n\t\tdefault:\n\t\t\t// @TODO: implement this: http://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript\n\t\t\tvalue = syntaxHighlight(JSON.stringify(value, null, 4));\n\t}\n\n\treturn value;\n}\n\n\nfunction syntaxHighlight(json) {\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n            if (/:$/.test(match)) {\n                cls = 'key';\n            } else {\n                cls = 'string';\n            }\n        } else if (/true|false/.test(match)) {\n            cls = 'boolean';\n        } else if (/null/.test(match)) {\n            cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n    });\n}\n","import {play, save} from '../sidebar/fileActions';\n\nexport default textMenuView;\n\nlet textMenuView = ({mode, file, study, observer}) => {\n\tlet setMode = value => () => mode(value);\n\tlet modeClass = value => mode() === value ? 'active' : '';\n\tlet isJs = file.type === 'js';\n\tlet isExpt = /\\.expt\\.xml$/.test(file.path);\n\n\treturn m('.btn-toolbar.editor-menu', [\n\t\tm('.file-name', {class: file.hasChanged() ? 'text-danger' : ''},\n\t\t\tm('span',{class: file.hasChanged() ? '' : 'invisible'}, '*'),\n\t\t\tfile.path\n\t\t),\n\n\t\tm('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\tm('a.btn.btn-secondary', {href: `http://projectimplicit.github.io/PIquest/0.0/basics/overview.html`, target: '_blank', title:'API documentation'},[\n\t\t\t\tm('strong.fa.fa-book'),\n\t\t\t\tm('strong', ' Docs')\n\t\t\t]),\n\t\t\tm('a.btn.btn-secondary', {href: `https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts`, target: '_blank', title:'Editor help'},[\n\t\t\t\tm('strong.fa.fa-info')\n\t\t\t])\n\t\t]),\n\n\t\t!isJs ? '' : m('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\tm('a.btn.btn-secondary', {onclick: setMode('edit'), class: modeClass('edit')},[\n\t\t\t\tm('strong','Edit')\n\t\t\t]),\n\t\t\tm('a.btn.btn-secondary', {onclick: setMode('syntax'), class: modeClass('syntax')},[\n\t\t\t\tm('strong',\n\t\t\t\t\t'Syntax ',\n\t\t\t\t\tfile.syntaxValid\n\t\t\t\t\t\t? m('i.fa.fa-check-square.text-success')\n\t\t\t\t\t\t: m('span.label.label-danger', file.syntaxData.errors.length)\n\t\t\t\t)\n\t\t\t])\n\t\t\t//m('a.btn.btn-secondary', {onclick: setMode('validator'), class: modeClass('validator')},[\n\t\t\t//\tm('strong','Validator')\n\t\t\t//])\n\t\t]),\n\t\tm('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\tm('a.btn.btn-secondary', {onclick:() => observer.trigger('paste', '<%= %>'), title:'Paste a template wizard'},[\n\t\t\t\tm('strong.fa.fa-percent')\n\t\t\t])\n\t\t]),\n\t\tm('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\t!isJs ? '' :  m('a.btn.btn-secondary', {onclick: play(file,study), title:'Play this task'},[\n\t\t\t\tm('strong.fa.fa-play')\n\t\t\t]),\n\t\t\t\n\t\t\t!isExpt ? '' :  m('a.btn.btn-secondary', {href: `https://app-prod-03.implicit.harvard.edu/implicit/Launch?study=${file.url.replace(/^.*?\\/implicit\\//, '')}`, target: '_blank', title:'Play this task'},[\n\t\t\t\tm('strong.fa.fa-play')\n\t\t\t]),\n\n\t\t\tm('a.btn.btn-secondary', {onclick: save(file), title:'Save (ctrl+s)',class: file.hasChanged() ? 'btn-danger-outline' : ''},[\n\t\t\t\tm('strong.fa.fa-save')\n\t\t\t])\n\t\t])\n\t]);\n};\n\n","import {save} from '../sidebar/fileActions';\nimport ace from './ace/aceComponent';\nimport observerFactory from 'utils/observer';\n\nimport jshintOptions from './jshintOptions';\nimport syntaxComponent from './ace/syntaxComponent';\nimport validatorComponent from './ace/validatorComponent';\n\nimport textMenu from './textMenu';\n\nexport default textEditor;\n\nlet textEditor = args => m.component(textEditorComponent, args);\n\nlet textEditorComponent = {\n\tcontroller: function({file,study}){\n\t\tfile.loaded || file.get()\n\t\t\t.then(m.redraw)\n\t\t\t.catch(m.redraw);\n\n\t\tlet ctrl = {mode:m.prop('edit'), observer: observerFactory(), study};\n\n\t\treturn ctrl;\n\t},\n\n\tview: function(ctrl, {file,study}){\n\t\tlet observer = ctrl.observer;\n\n\t\tif (!file.loaded) return m('.loader');\n\n\t\tif (file.error) return m('div', {class:'alert alert-danger'}, [\n\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t`The file \"${file.path}\" was not found`\n\t\t]);\n\n\t\treturn m('.editor', [\n\t\t\ttextMenu({mode: ctrl.mode, file, study, observer}),\n\t\t\ttextContent(ctrl, {file,observer})\n\t\t]);\n\t}\n};\n\nlet textContent = (ctrl, {file, observer}) => {\n\tlet textMode = modeMap[file.type] || 'javascript';\n\tswitch (ctrl.mode()){\n\t\tcase 'edit' : return ace({content:file.content, observer, settings: {onSave: save(file), mode: textMode, jshintOptions}});\n\t\tcase 'validator': return validatorComponent({file});\n\t\tcase 'syntax': return syntaxComponent({file});\n\t}\n};\n\nlet modeMap = {\n\tjs: 'javascript',\n\tjsp: 'jsp',\n\tjst: 'ejs',\n\thtml: 'ejs',\n\thtm: 'ejs',\n\txml: 'xml'\n};\n","import fullHeight from 'utils/fullHeight';\nimport imgEditor from './editors/imgEditor';\nimport pdfEditor from './editors/pdfEditor';\nimport unknowEditor from './editors/unknownEditor';\nimport textEditor from './editors/textEditor';\n\nexport default fileEditorComponent;\n\nlet editors = {\n\tjs: textEditor,\n\thtml: textEditor,\n\thtm: textEditor,\n\tjst: textEditor,\n\txml: textEditor,\n\n\tjpg: imgEditor,\n\tbmp: imgEditor,\n\tpng: imgEditor,\n\n\tpdf: pdfEditor\n};\n\nlet fileEditorComponent = {\n\tcontroller: function({study}) {\n\t\tvar id = m.route.param('fileID');\n\t\tvar file = study.getFile(id);\n\t\tvar ctrl = {file,study};\n\n\t\treturn ctrl;\n\t},\n\n\tview: ({file, study}, args = {}) => {\n\t\tlet editor = file && editors[file.type] || unknowEditor;\n\n\t\treturn m('div', {config:fullHeight}, [\n\t\t\tfile\n\t\t\t\t? editor({file, study,  settings: args.settings})\n\t\t\t\t: m('.centrify', [\n\t\t\t\t\tm('i.fa.fa-smile-o.fa-5x'),\n\t\t\t\t\tm('h5', 'Please select a file to start working')\n\t\t\t\t])\n\t\t]);\n\t}\n};\n","export function formFactory(){\n\tlet validationHash = [];\n\treturn {\n\t\tregister(fn){\n\t\t\tvalidationHash.push(fn);\n\t\t},\n\t\tisValid() {\n\t\t\treturn validationHash.every(fn => fn.call());\n\t\t},\n\t\tshowValidation: m.prop(false)\n\t};\n}\n\nlet viewWrapper = (view,opts={}) => (ctrl, args) => {\n\tlet isValid = !ctrl.validity || ctrl.validity();\n\tlet groupClass;\n\tlet inputClass;\n\tlet isFormControl = opts.isFormControl !== false;\n\n\tif (ctrl.showValidation && ctrl.showValidation() && !isValid){\n\t\tgroupClass = isValid ? 'has-success' : 'has-danger';\n\t\tinputClass = isValid ? 'form-controll-success' : 'form-control-error';\n\t}\n\n\treturn m('.form-group.row', {class: groupClass}, [\n\t\tm('label.col-sm-2', {class: isFormControl ? 'form-control-label' : ''}, args.label),\n\t\tm('.col-sm-10', [\n\t\t\tview(ctrl, args, {inputClass})\n\t\t]),\n\t\targs.help && m('small.text-muted.col-sm-offset-2.col-sm-10.m-y-0', args.help )\n\t]);\n};\n\nexport let textInput = args => m.component(textInputComponent, args);\nlet textInputComponent  = {\n\tcontroller({prop, form, required = false}) {\n\t\tif (!form) throw new Error('Text input requires a form');\n\t\t\n\t\tlet validity = () => !required || prop().length;\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation};\n\t},\n\n\tview: viewWrapper((ctrl, {prop, isArea = false, isFirst = false, placeholder = '', help, rows = 3}, {inputClass}) => {\n\t\treturn !isArea\n\t\t\t? m('input.form-control', {\n\t\t\t\tclass: inputClass,\n\t\t\t\tplaceholder: placeholder,\n\t\t\t\tvalue: prop(),\n\t\t\t\tonkeyup: m.withAttr('value', prop),\n\t\t\t\tconfig: (element, isInit) => isFirst && isInit && element.focus()\n\t\t\t})\n\t\t\t: m('textarea.form-control', {\n\t\t\t\tclass: inputClass,\n\t\t\t\tplaceholder: placeholder,\n\t\t\t\tonkeyup: m.withAttr('value', prop),\n\t\t\t\trows,\n\t\t\t\tconfig: (element, isInit) => isFirst && isInit && element.focus()\n\t\t\t} , [prop()]);\n\t})\n};\n\nexport let checkboxInput = args => m.component(checkboxInputComponent, args);\nlet  checkboxInputComponent = {\n\tcontroller({prop, form, required}){\n\t\tif (!form) throw new Error('Inputs require a form');\n\t\t\n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation};\n\t},\n\tview: viewWrapper((ctrl, {prop, description = ''}) => {\n\t\treturn m('.checkbox', [\n\t\t\tm('label.c-input.c-checkbox', [\n\t\t\t\tm('input.form-control', {\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tonclick: m.withAttr('checked', prop),\n\t\t\t\t\tchecked: prop()\n\t\t\t\t}),\n\t\t\t\tm('span.c-indicator'),\n\t\t\t\tm.trust('&nbsp;'),\n\t\t\t\tm('span.text-muted', description)\n\t\t\t])\n\t\t]);\n\t},{isFormControl:false})\n};\n\n\nexport let maybeInput = args => m.component(maybeInputComponent, args);\nlet  maybeInputComponent = {\n\tcontroller({prop, form, required}){\n\t\tif (!form) throw new Error('Inputs require a form');\n\n\t\tlet text = m.prop(typeof prop() == 'boolean' ? '' : prop());\n\t\tlet checked = m.prop(typeof prop() == 'string' ? true : prop()); \n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation,\n\t\t\ttext: function(value){\n\t\t\t\tif (arguments.length){\n\t\t\t\t\ttext(value);\n\t\t\t\t\tprop(value || true);\n\t\t\t\t}\n\t\t\t\treturn text();\n\t\t\t},\n\t\t\tchecked: function(value){\n\t\t\t\tif (arguments.length) {\n\t\t\t\t\tchecked(value);\n\t\t\t\t\tif (checked() && text()) prop(text());\n\t\t\t\t\telse prop(checked());\n\t\t\t\t}\n\t\t\t\treturn checked();\n\t\t\t}\t\n\t\t};\n\t},\n\tview: viewWrapper(({text, checked}, {placeholder = ''}) => {\n\t\treturn m('.input-group', [\n\t\t\tm('span.input-group-addon', [\n\t\t\t\tm('input', {\n\t\t\t\t\ttype:'checkbox',\n\t\t\t\t\tonclick: m.withAttr('checked', checked),\n\t\t\t\t\tchecked: checked()\n\t\t\t\t})\n\t\t\t]),\n\t\t\tm('input.form-control', {\n\t\t\t\tplaceholder: placeholder,\n\t\t\t\tvalue: text(),\n\t\t\t\tonkeyup: m.withAttr('value', text),\n\t\t\t\tdisabled: !checked()\n\t\t\t})\n\t\t]);\n\t})\n};\n","const END_LINE = '\\n';\nconst TAB = '\\t';\nexport let indent = (str, tab = TAB) => str.replace(/^/gm, tab);\n\nexport let print = obj => {\n\tswitch (typeof obj) {\n\t\tcase 'boolean': return obj ? 'true' : 'false';\n\t\tcase 'string' : return printString(obj); \n\t\tcase 'number' : return obj + '';\n\t\tcase 'function': \n\t\t\tif (obj.toJSON) return print(obj()); // Support m.prop\n\t\t\telse return obj.toString();\n\t}\n\n\tif (Array.isArray(obj)) return printArray(obj);\n\t\n\treturn printObj(obj);\n\n\tfunction printString(str){\n\t\treturn `'` + str.replace(/[\\\\\"']/g, '\\\\$&').replace(/\\u0000/g, '\\\\0') + `'`; // escape string and add parenthesis\n\t}\n\n\t\n\tfunction printArray(arr){\n\t\tlet isShort = arr.every(element => ['string', 'number', 'boolean'].includes(typeof element) && (element.length === undefined || element.length < 15) );\n\t\tlet content = arr\n\t\t\t.map(value => print(value))\n\t\t\t.join(isShort ? ', ' : ',\\n');\n\n\t\treturn isShort\n\t\t\t? `[${content}]`\n\t\t\t: `[\\n${indent(content)}\\n]`;\n\t}\n\n\tfunction printObj(obj){\n\t\tlet content = Object.keys(obj)\n\t\t\t.map(key => `${key} : ${print(obj[key])}`)\n\t\t\t.map(row => indent(row))\n\t\t\t.join(',' + END_LINE);\n\t\treturn `{\\n${content}\\n}`;\n\t}\n};\n","import {print, indent} from 'utils/prettyPrint';\n\nexport default function ratingWizard({basicPage, basicSelect, questionList, sequence}){\n\tconst NEW_LINE = '\\n';\n\tlet content = [\n\t\t`var API = new Quest();`,\n\n\t\t``,\n\t\t`// The structure for the basic questionnaire page`,\n\t\t`API.addPagesSet('basicPage', ${print(basicPage)});`,\n\n\t\t``,\n\t\t`// The structure for the basic question\t`,\n\t\t`API.addQuestionsSet('basicSelect', ${print(basicSelect)});`,\n\n\t\t`// This is the question pool, the sequence picks the questions from here`,\n\t\t`API.addQuestionsSet('questionList', ${print(questionList)});`,\n\t\t``,\n\n\t\t`// This is the sequence of questions`,\n\t\t`// Note that you may want to update the \"times\" property if you change the number of questions`,\n\t\t`API.addSequence(${print(sequence)});`,\n\n\t\t``,\n\t\t`return API.script;`\n\t].join(NEW_LINE);\n\n\treturn `define(['questAPI'], function(Quest){\\n${indent(content)}\\n});`;\n}\n","import {formFactory, textInput, checkboxInput, maybeInput} from 'utils/formHelpers';\nimport {createFile} from './sidebar/fileActions';\nimport ratingWizard from './wizards/ratingWizard';\nexport default wizardComponent;\n\nlet wizardComponent = {\n\tcontroller({study}){\n\t\tlet path = m.prop('');\n\t\tlet form = formFactory();\n\t\tlet submit = () => {\n\t\t\tform.showValidation(true);\n\t\t\tif (form.isValid()){\n\t\t\t\tcreateFile(study, path, compileScript(script) );\n\t\t\t}\n\t\t\t\n\t\t};\n\n\t\tlet compileScript = script => () => {\n\t\t\tscript.basicPage.questions = [\n\t\t\t\t{inherit: {type:script.randomize() ? 'exRandom' : 'sequential', set:'questionList'}}\n\t\t\t];\n\t\t\tscript.sequence = [\n\t\t\t\t{\n\t\t\t\t\tmixer:'repeat',\n\t\t\t\t\ttimes: script.times() || script.questionList().length,\n\t\t\t\t\tdata:[\n\t\t\t\t\t\t{inherit: 'basicPage'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\treturn ratingWizard(script);\n\t\t};\n\n\n\t\tlet script ={\n\t\t\tbasicPage: {\n\t\t\t\theader: m.prop(''),\n\t\t\t\tdecline: m.prop(true),\n\t\t\t\tautoFocus:true,\n\t\t\t\tv1style: 2\n\t\t\t},\n\t\t\tbasicSelect: {\n\t\t\t\ttype: 'selectOne',\n\t\t\t\tautoSubmit: m.prop(false),\n\t\t\t\tnumericValues: m.prop(true),\n\t\t\t\thelp: m.prop('<%= pagesMeta.number < 3 %>'),\n\t\t\t\thelpText: m.prop('Tip: For quick response, click to select your answer, and then click again to submit.'),\n\t\t\t\tanswers: m.prop([\n\t\t\t\t\t'Very much',\n\t\t\t\t\t'Somewhat',\n\t\t\t\t\t'Undecided',\n\t\t\t\t\t'Not realy',\n\t\t\t\t\t'Not at all'\n\t\t\t\t]) \n\t\t\t},\n\t\t\tquestionList: m.prop([\n\t\t\t\t{stem:'Do you like chocolate?', name:'q1', inherit:'basicSelect'},\n\t\t\t\t{stem:'Do you like bannanas?', name:'q2', inherit:'basicSelect'}\n\t\t\t]),\n\t\t\ttimes: m.prop(false),\n\t\t\trandomize: m.prop(true),\n\t\t\tsequence: [\n\t\t\t\t{\n\t\t\t\t\tmixer: 'repeat',\n\t\t\t\t\ttimes: m.prop(10),\n\t\t\t\t\tdata: [\n\t\t\t\t\t\t{inherit:'basicPage'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\treturn {path, form, submit, script};\n\t},\n\tview({form,submit, script, path}){\t\t\n\t\tlet basicPage = script.basicPage;\n\t\tlet basicSelect = script.basicSelect;\n\n\t\treturn m('.wizard.container', [\n\t\t\tm('h3', 'Rating wizard'),\n\t\t\tm('p', 'This wizard is responsible for rating stuff'),\n\t\t\ttextInput({label:'File Name',  placeholder: 'Path to file', prop: path ,form, required:true}), \n\n\t\t\tm('h4', 'Basic Page'),\n\t\t\ttextInput({label:'Header',  placeholder: 'Page header', help: 'The header for all pages.', prop: basicPage.header,form}), \n\t\t\tcheckboxInput({label: 'Decline', description: 'Allow users to decline', prop: basicPage.decline, form}),\n\n\t\t\tm('h4', 'Basic Select'),\n\t\t\tcheckboxInput({label: 'autoSubmit', description: 'Submit upon second click', prop: basicSelect.autoSubmit, form}),\n\t\t\ttextInput({label: 'answers', prop: str2Answers(basicSelect.answers), rows:7,  form, isArea:true, help: 'Each row here represents an answer option', required:true}),\n\t\t\tcheckboxInput({label: 'numericValues', description: 'Responses are recorded as numbers', prop: basicSelect.numericValues, form}),\n\t\t\tmaybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: basicSelect.help,form}),\n\t\t\tbasicSelect.help()\n\t\t\t\t? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: basicSelect.helpText,form, isArea: true})\n\t\t\t\t: '',\n\n\t\t\tm('h4', 'Sequence'),\n\t\t\tcheckboxInput({label: 'Randomize', description: 'Randomize questions', prop: script.randomize, form}),\n\t\t\tmaybeInput({label: 'Choose', help:'Set a number of questions to choose from the pool. If this option is not selected all questions will be used.', form, prop: script.times}),\n\t\t\ttextInput({label: 'questions', prop: str2Questions(script.questionList), rows:20,  form, isArea:true, help: 'Each row here represents a questions', required:true}),\n\n\t\t\tm('.row', [\n\t\t\t\tm('.col-cs-12.text-xs-right', [\n\t\t\t\t\t!form.showValidation() || form.isValid()\n\t\t\t\t\t\t? m('button.btn.btn-primary', {onclick: submit}, 'Create')\t\n\t\t\t\t\t\t: m('button.btn.btn-danger', {disabled: true}, 'Not Valid')\n\t\t\t\t])\n\t\t\t])\n\t\t]); \n\t} \n};\n\nlet transformProp = (prop, input, output) => {\n\tlet p = (...args) => {\n\t\tif (args.length) prop(input(args[0]));\n\t\treturn output(prop());\n\t};\n\n\tp.toJSON = () => output(prop());\n\n\treturn p;\n};\n\n// transorm a \"m.prop\" so that an array is expressed as a \"\\n\" separated string.\nlet str2Answers = prop => transformProp(prop, str => str.replace(/\\n*$/, '').split('\\n'), arr => arr.join('\\n'));\n\n// Create the plain text version of the question list\nlet str2Questions = prop => transformProp(prop,\n\tstr => str.replace(/\\n*$/, '').split('\\n').map((stem, index) => ({stem, name: `q${index}`, inherit:'basicSelect'})),\n\tarr => arr.map(q => q.stem).join('\\n')\n);\n","// taken from here:\n// https://github.com/JedWatson/classnames/blob/master/index.js\nvar hasOwn = {}.hasOwnProperty;\n\nfunction classNames () {\n\tvar classes = '';\n\n\tfor (var i = 0; i < arguments.length; i++) {\n\t\tvar arg = arguments[i];\n\t\tif (!arg) continue;\n\n\t\tvar argType = typeof arg;\n\n\t\tif (argType === 'string' || argType === 'number') {\n\t\t\tclasses += ' ' + arg;\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tclasses += ' ' + classNames.apply(null, arg);\n\t\t} else if (argType === 'object') {\n\t\t\tfor (var key in arg) {\n\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\tclasses += ' ' + key;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn classes.substr(1);\n}\n\nexport default classNames;\n","import classNames from './classNames';\nexport default contextMenuComponent;\n\n/**\n * Set this component into your layout then use any mouse event to open the context menu:\n * oncontextmenu: contextMenuComponent.open([...menu])\n *\n * Example menu:\n * [\n * \t{icon:'fa-play', text:'begone'},\n *\t{icon:'fa-play', text:'asdf'},\n *\t{separator:true},\n *\t{icon:'fa-play', text:'wertwert', menu: [\n *\t\t{icon:'fa-play', text:'asdf'}\n *\t]}\n * ]\n */\n\nlet contextMenuComponent = {\n\tvm: {\n\t\tshow: m.prop(false),\n\t\tstyle: m.prop({}),\n\t\tmenu: m.prop([])\n\t},\n\tview: () => {\n\t\treturn m(\n\t\t\t'.context-menu',\n\t\t\t{\n\t\t\t\tclass: classNames({'show-context-menu': contextMenuComponent.vm.show()}),\n\t\t\t\tstyle: contextMenuComponent.vm.style()\n\t\t\t},\n\t\t\tcontextMenuComponent.vm.menu().map(menuNode)\n\t\t);\n\t},\n\n\topen: menu => e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tcontextMenuComponent.vm.menu(menu);\n\t\tcontextMenuComponent.vm.show(true);\n\t\tcontextMenuComponent.vm.style({\n\t\t\tleft:e.pageX + 'px',\n\t\t\ttop:e.pageY + 'px'\n\t\t});\n\n\t\tdocument.addEventListener('mousedown', onClick, false);\n\t\tfunction onClick(){\n\t\t\tcontextMenuComponent.vm.show(false);\n\t\t\tdocument.removeEventListener('mousedown', onClick);\n\t\t\tm.redraw();\n\t\t}\n\t}\n};\n\nlet menuNode = (node, key) => {\n\treturn node.separator\n\t\t? m('.context-menu-separator', {key:key})\n\t\t: m('.context-menu-item', {class: classNames({disabled: node.disabled, submenu:node.menu, key: key})}, [\n\t\t\tm('button.context-menu-btn',{onmousedown: node.disabled || node.action}, [\n\t\t\t\tm('i.fa', {class:node.icon}),\n\t\t\t\tm('span.context-menu-text', node.text)\n\t\t\t]),\n\t\t\tnode.menu ? m('.context-menu', node.menu.map(menuNode)) : ''\n\t\t]);\n};","import {fetchText} from 'utils/modelHelpers';\nimport {createFile} from './fileActions';\nimport messages from 'utils/messagesComponent';\n\n// add trailing slash if needed, and then remove proceeding slash\n// return prop\nlet pathProp = path => m.prop(path.replace(/\\/?$/, '/').replace(/^\\//, ''));\n\nexport let createFromTemplate = ({study, path, url, templateName}) => () => {\n\tlet name = pathProp(path);\n\tlet template = fetchText(url);\n\n\treturn messages.prompt({\n\t\theader: `Create from \"${templateName}\"`,\n\t\tcontent: 'Please insert the file name:',\n\t\tprop: name\n\t})\n\t\t.then(response => {\n\t\t\tif (response) return template.then(content => createFile(study, name,() => content));\n\t\t})\n\t\t.catch(err => {\n\t\t\tlet message = (err.response && err.response.status === 404)\n\t\t\t\t? `Template file not found at ${url}`\n\t\t\t\t: err.message;\n\n\t\t\treturn messages.alert({\n\t\t\t\theader: `Create from \"${templateName}\" failed`,\n\t\t\t\tcontent: message\n\t\t\t});\n\t\t});\n};\n","export default hash;\n\nlet hash = {};\n\nhash.piPlayer = {\n\t'Empty': '/implicit/user/yba/wizards/emptypip.js',\n\t'Typical': '/implicit/user/yba/wizards/typical.js',\n\t'Simple sorting task': '/implicit/user/yba/wizards/sorting.js',\n\t'IAT (images)': '/implicit/user/yba/wizards/iatimages.js',\n\t'IAT (words)': '/implicit/user/yba/wizards/iatwords.js',\n\t'IAT (modify attributes)': '/implicit/user/yba/wizards/iatatt.js',\n\t'IAT (all the parameters)': '/implicit/user/yba/wizards/iatall.js',\n\t'Mobile IAT': '/implicit/user/yba/wizards/iatmobile.js',\n\t'ST-IAT': '/implicit/user/yba/wizards/stiatsimple.js',\n\t'ST-IAT (all parameters)': '/implicit/user/yba/wizards/stiatall.js',\n\t'AMP (with words as primes)': '/implicit/user/yba/wizards/ampwords.js',\n\t'AMP (all parameters)': '/implicit/user/yba/wizards/ampall.js',\n\t'Brief-IAT': '/implicit/user/yba/wizards/batsimple.js',\n\t'Brief-IAT (all parameters)': '/implicit/user/yba/wizards/batall.js',\n\t'Attitude induction (behaviors)': '/implicit/user/yba/wizards/attitude.js',\n\t'Evaluative Conditioning': '/implicit/user/yba/wizards/ec.js'\n};\n\nhash.piQuest = {\n\t'Empty': '/implicit/user/yba/wizards/emptyquest.js',\n\t'Rating Questionnaire': '/implicit/user/yba/wizards/rating.js',\n\t'Rating Questionnaire (with images)': '/implicit/user/yba/wizards/ratingimages.js'\n};\n\nhash.piMessage = {\n\t'Consent (Yoav lab)': '/implicit/user/yba/wizards/consent.jst',\n\t'Intro': '/implicit/user/yba/wizards/intro.jst',\n\t'Debriefing': '/implicit/user/yba/wizards/debriefing.jst'\n};\n\nhash.piManager = {\n\t'Empty': '/implicit/user/yba/wizards/emptymanager.js',\n\t'Typical': '/implicit/user/yba/wizards/emptymanager.js'\n};\n","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nimport {createDir, createEmpty, moveFile, copyUrl} from './fileActions';\nimport {createFromTemplate} from './wizardActions';\nimport wizardHash from './wizardHash';\nexport default fileContext;\n\n// download support according to modernizer\nlet downloadSupport = !window.externalHost && 'download' in document.createElement('a');\n\nlet fileContext = (file, study) => {\n\tlet path = file.isDir ? file.path : file.basePath;\n\tlet menu = [\n\t\t// {icon:'fa-copy', text:'Duplicate', action: () => messages.alert({header:'Duplicate: ' + file.name, content:'Duplicate has not been implemented yet'})},\n\n\t\t{icon:'fa-folder', text:'New Directory', action: createDir(study, path)},\n\t\t{icon:'fa-file', text:'New File', action: createEmpty(study, path)},\n\t\t{icon:'fa-file-text', text:'New from template', menu: mapWizardHash(wizardHash)},\n\t\t{icon:'fa-magic', text:'New from wizard', menu: [\n\t\t\t{text: 'Rating wizard', action: activateWizard(`rating`)}\n\t\t]},\n\t\t{separator:true},\n\t\t{icon:'fa-refresh', text: 'Refresh/Reset', action: refreshFile, disabled: file.content() == file.sourceContent()},\n\t\t{icon:'fa-download', text:'Download', action: downloadFile},\n\t\t{icon:'fa-link', text: 'Copy URL', action: copyUrl(file)},\n\n\t\t{icon:'fa-close', text:'Delete', action: deleteFile},\n\t\t{icon:'fa-exchange', text:'Move/Rename...', action: moveFile(file,study)}\n\t];\n\n\treturn contextMenu.open(menu);\n\n\tfunction activateWizard(route){\n\t\treturn () => m.route(`/editor/${study.id}/wizard/` + route);\n\t}\n\t\n\tfunction mapWizardHash(wizardHash){\n\t\treturn Object.keys(wizardHash).map((text) => {\n\t\t\tlet value = wizardHash[text];\n\t\t\treturn typeof value === 'string'\n\t\t\t\t? {text, action: createFromTemplate({study, path, url:value, templateName:text})}\n\t\t\t\t: {text, menu: mapWizardHash(value)};\n\t\t});\n\t}\n\n\tfunction refreshFile(){\n\t\tfile.content(file.sourceContent());\n\t\tm.redraw();\n\t}\n\n\tfunction downloadFile(){\n\t\tif (downloadSupport){\n\t\t\tlet link = document.createElement('a');\n\t\t\tlink.href = file.url;\n\t\t\tlink.download = file.name;\n\t\t\tlink.target = '_blank';\n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\t\t\tdocument.body.removeChild(link);\n\t\t} else {\n\t\t\tlet win = window.open(file.url, '_blank');\n\t\t\twin.focus();\n\t\t}\n\t}\n\n\tfunction deleteFile(){\n\t\tmessages.confirm({\n\t\t\theader:['Delete ',m('small', file.name)],\n\t\t\tcontent: 'Are you sure you want to delete this file? This action is permanent!'\n\t\t})\n\t\t.then(ok => {\n\t\t\tif (ok) return study.del(file.id);\n\t\t})\n\t\t.then(m.redraw)\n\t\t.catch( err => {\n\t\t\terr.response.json()\n\t\t\t\t.then(response => {\n\t\t\t\t\tmessages.alert({\n\t\t\t\t\t\theader: 'Delete failed:',\n\t\t\t\t\t\tcontent: response.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\treturn err;\n\t\t});\n\t} // end delete file\n};\n\n","const DRAGOVER_CLASS = 'is-dragover';\nfunction dragdrop(element, options) {\n\toptions = options || {};\n\n\telement.addEventListener('dragover', activate);\n\telement.addEventListener('dragleave', deactivate);\n\telement.addEventListener('dragend', deactivate);\n\telement.addEventListener('drop', deactivate);\n\telement.addEventListener('drop', update);\n\n\tfunction activate(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation(); // so that only the lowest level element gets focused\n\t\telement.classList.add(DRAGOVER_CLASS);\n\t}\n\tfunction deactivate() {\n\t\telement.classList.remove(DRAGOVER_CLASS);\n\t}\n\tfunction update(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tonchange(options)(e);\n\t}\n}\n\nexport let uploadConfig = ctrl => (element, isInitialized) => {\n\tif (!isInitialized) {\n\t\tdragdrop(element, {onchange: ctrl.onchange});\n\t}\n};\n\nexport let uploadBox = args => m('form.upload', {method:'post', enctype:'multipart/form-data', config:uploadConfig(args)},[\n\tm('i.fa.fa-download\t.fa-3x.m-b-1'),\n\tm('input.box__file', {id:'upload', type:'file', name:'files[]', 'data-multiple-caption':'{count} files selected', multiple:true, onchange:onchange(args)}),\n\tm('label', {for:'upload'},\n\t\tm('strong', 'Choose a file'),\n\t\tm('span', ' or drag it here')\n\t)\n]);\n\n// call onchange with files\nlet onchange = args => e => {\n\tif (typeof args.onchange == 'function') {\n\t\targs.onchange((e.dataTransfer || e.target).files);\n\t}\n};","import folder from './folderComponent';\nimport classNames from 'utils/classNames';\nimport fileContext from './fileContext';\nimport {uploadConfig} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\n\nexport default node;\n\nlet node = (file, args) => m.component(nodeComponent, file, args);\n\nlet nodeComponent = {\n\tcontroller: (file) => {\n\t\treturn {\n\t\t\tisCurrent: m.route.param('fileID') === file.id\n\t\t};\n\t},\n\tview: (ctrl, file, {folderHash, study, filesVM}) => {\n\t\tlet vm = filesVM(file.id); // vm is created by the study component, it exposes a \"isOpen\" and \"isChanged\" properties\n\t\treturn m('li.file-node',\n\t\t\t{\n\t\t\t\tkey: file.id,\n\t\t\t\tclass: classNames({\n\t\t\t\t\topen : vm.isOpen()\n\t\t\t\t}),\n\t\t\t\tonclick: file.isDir ? () => vm.isOpen(!vm.isOpen()) : choose(file),\n\t\t\t\toncontextmenu: fileContext(file, study),\n\t\t\t\tconfig: file.isDir ? uploadConfig({onchange:uploadFiles(file.path, study)}) : null\n\t\t\t},\n\t\t\t[\n\t\t\t\tm('a.wholerow', {\n\t\t\t\t\tunselectable:'on',\n\t\t\t\t\tclass:classNames({\n\t\t\t\t\t\t'current': ctrl.isCurrent\n\t\t\t\t\t})\n\t\t\t\t}, m.trust('&nbsp;')),\n\t\t\t\tm('i.fa.fa-fw', {\n\t\t\t\t\tclass: classNames({\n\t\t\t\t\t\t'fa-caret-right' : file.isDir && !vm.isOpen(),\n\t\t\t\t\t\t'fa-caret-down': file.isDir && vm.isOpen()\n\t\t\t\t\t})\n\t\t\t\t}),\n\n\t\t\t\tm('a', [\n\t\t\t\t\tm('i.fa.fa-fw.fa-file-o', {\n\t\t\t\t\t\tclass: classNames({\n\t\t\t\t\t\t\t'fa-file-code-o': /(js)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-text-o': /(jst|html|xml)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-image-o': /(jpg|png|bmp)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-pdf-o': /(pdf)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-folder-o': file.isDir\n\t\t\t\t\t\t})\n\t\t\t\t\t}),\n\t\t\t\t\tm('span',{class:classNames({'font-weight-bold':file.hasChanged()})},` ${file.name}`),\n\t\t\t\t\tfile.isDir ? folder(file.path + '/', {folderHash, study, filesVM}) : ''\n\t\t\t\t])\n\t\t\t]\n\t\t);\n\t}\n};\n\nlet choose = (file) => e => {\n\te.stopPropagation();\n\te.preventDefault();\n\tm.route(`/editor/${file.studyId}/file/${encodeURIComponent(file.id)}`);\n};\n","import node from './nodeComponent';\nexport default folder;\n\nlet folder = (path, args) => m.component(folderComponent, path, args);\n\nlet folderComponent = {\n\tview(ctrl, path, {folderHash, study, filesVM}){\n\t\tlet files = folderHash[path] || [];\n\n\t\treturn m('.files',[\n\t\t\tm('ul', files.map(file => node(file, {folderHash, study, filesVM})))\n\t\t]);\n\t}\n};\n","import folderComponent from './folderComponent';\nimport {uploadConfig} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\nexport default filesComponent;\n\nlet currentStudy, filesVM;\n\n\nlet filesComponent = {\n\tcontroller(){\n\t\t// Create new VM only if we change study name\n\t\tlet studyId = m.route.param('studyId');\n\t\tif (!filesVM || (currentStudy !== studyId)){\n\t\t\tcurrentStudy = studyId;\n\t\t\tfilesVM = viewModelMap({\n\t\t\t\tisOpen: m.prop(false),\n\t\t\t\tisChanged: m.prop(false)\n\t\t\t});\n\t\t}\n\n\t\treturn {filesVM, parseFiles};\n\t},\n\tview({parseFiles, filesVM}, {study}){\n\t\tlet folderHash = parseFiles(study.files());\n\t\tlet config = uploadConfig({onchange:uploadFiles('/', study)});\n\t\treturn m('div', {config}, folderComponent('/', {folderHash, study, filesVM}));\n\t}\n};\n\n\n// http://lhorie.github.io/mithril-blog/mapping-view-models.html\nvar viewModelMap = function(signature) {\n\tvar map = {};\n\treturn function(key) {\n\t\tif (!map[key]) {\n\t\t\tmap[key] = {};\n\t\t\tfor (var prop in signature) map[key][prop] = m.prop(signature[prop]());\n\t\t}\n\t\treturn map[key];\n\t};\n};\n\nlet parseFiles = files => files.reduce((hash, file)=>{\n\tlet path = file.basePath;\n\tif (!hash[path]) hash[path] = [];\n\thash[path].push(file);\n\treturn hash;\n}, {});","import {createEmpty} from './fileActions';\nexport default sidebarButtons;\n\nlet sidebarButtons = {\n\tcontroller: ({study}) => {\n\t\tlet ctrl = {\n\t\t\tnewOpen: false,\n\t\t\ttoggleNew: () => ctrl.newOpen = !ctrl.newOpen,\n\t\t\tcreateEmpty: createEmpty(study),\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\n\tview: ctrl => {\n\t\treturn m('.btn-group', {class: ctrl.newOpen ? 'open' : ''}, [\n\t\t\tm('.btn.btn-sm.btn-secondary', {onclick:ctrl.createEmpty}, [\n\t\t\t\tm('i.fa.fa-plus'), ' New'\n\t\t\t]),\n\t\t\tm('.btn.btn-sm.btn-secondary.dropdown-toggle', {onclick:ctrl.toggleNew}),\n\t\t\tm('.dropdown-menu', {onclick: ctrl.toggleNew}, [\n\t\t//\t\tm('a.dropdown-item', {onclick: ctrl.createPIP}, 'piPlayer'),\n\t\t//\t\tm('a.dropdown-item', {onclick: ctrl.createQuest}, 'piQuest'),\n\t\t//\t\tm('a.dropdown-item', {onclick: ctrl.createManager}, 'piManager')\n\t\t\t])\n\t\t]);\n\t}\n};\n","import filesComponent from './filesComponent';\nimport sidebarButtons from './sidebarButtons';\nimport {uploadBox} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\nexport default sidebarComponent;\n\nlet sidebarComponent = {\n\tview: (ctrl , {study, filesVM}) => {\n\t\treturn m('.sidebar', [\n\t\t\tm('h5', study.id),\n\t\t\tm('p.text-muted.m-a-1', [\n\t\t\t\tm('small', 'Right click the file list in order to perform actions.')\n\t\t\t]),\n//\t\t\tm.component(sidebarButtons, {study}),\n\t\t\tm.component(filesComponent, {study,filesVM, files: study.files() || []}),\n\t\t\tuploadBox({onchange: uploadFiles('/', study)})\n\t\t]);\n\t}\n};\n","export default editorLayoutComponent;\nimport studyFactory from './studyModel';\nimport editorComponent from './editorComponent';\nimport wizardComponent from './wizardComponent';\nimport sidebarComponent from './sidebar/sidebarComponent';\n\nlet study, filesVM;\n\nlet editorLayoutComponent = {\n\tcontroller: ()=>{\n\t\tlet id = m.route.param('studyId');\n\n\t\tif (!study || (study.id !== id)){\n\t\t\tstudy = studyFactory(id);\n\t\t\tstudy\n\t\t\t\t.get()\n\t\t\t\t.then(m.redraw);\n\t\t}\n\n\t\tif (!filesVM) filesVM = viewModelMap({\n\t\t\tisOpen: m.prop(false),\n\t\t\tisChanged: m.prop(false)\n\t\t});\n\n\t\tlet ctrl = {study, filesVM, onunload};\n\n\t\twindow.addEventListener('beforeunload', beforeunload);\n\n\t\treturn ctrl;\n\n\t\tfunction hasUnsavedData(){\n\t\t\treturn study.files().some(f => f.content() !== f.sourceContent());\n\t\t}\n\n\t\tfunction beforeunload(event) {\n\t\t\tif (hasUnsavedData()) return event.returnValue = 'You have unsaved data are you sure you want to leave?';\n\t\t}\n\n\t\tfunction onunload(e){\n\t\t\tlet leavingEditor = () => !/^\\/editor\\//.test(m.route());\n\t\t\tif (leavingEditor() && hasUnsavedData() && !window.confirm('You have unsaved data are you sure you want to leave?')){\n\t\t\t\te.preventDefault();\n\t\t\t} else {\n\t\t\t\twindow.removeEventListener('beforeunload', beforeunload);\n\t\t\t}\n\t\t}\n\t},\n\tview: ({study, filesVM}) => {\n\t\treturn m('.row.study', [\n\t\t\tstudy.loaded\n\t\t\t\t? [\n\t\t\t\t\tm('.col-md-2', [\n\t\t\t\t\t\tm.component(sidebarComponent, {study, filesVM})\n\t\t\t\t\t]),\n\t\t\t\t\tm('.col-md-10',[\n\t\t\t\t\t\tm.route.param('resource') === 'wizard'\n\t\t\t\t\t\t\t? m.component(wizardComponent, {study})\n\t\t\t\t\t\t\t: m.component(editorComponent, {study, filesVM})\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t\t\t:\n\t\t\t\t''\n\t\t]);\n\t}\n};\n\n// http://lhorie.github.io/mithril-blog/mapping-view-models.html\nvar viewModelMap = function(signature) {\n\tvar map = {};\n\treturn function(key) {\n\t\tif (!map[key]) {\n\t\t\tmap[key] = {};\n\t\t\tfor (var prop in signature) map[key][prop] = m.prop(signature[prop]());\n\t\t}\n\t\treturn map[key];\n\t};\n};\n","import {fetchJson} from 'utils/modelHelpers';\nconst url = '/dashboard/StudyData';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_PAUSED = 'P';\nexport const STATUS_STOP = 'S';\n\nexport function createStudy(study){\n\tlet body = Object.assign({\n\t\taction:'insertRulesTable',\n\t\tcreationDate: new Date(),\n\t\tstudyStatus: STATUS_RUNNING\n\t}, study);\n\n\treturn fetchJson(url, {method: 'post', body: body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateStudy(study){\n\tlet body = Object.assign({\n\t\taction:'updateRulesTable'\n\t}, study);\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateStatus(study, status){\n\tlet body = Object.assign({\n\t\taction:'updateStudyStatus'\n\t}, study,{studyStatus: status});\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function getAllPoolStudies(){\n\treturn fetchJson(url, {method:'post', body: {action:'getAllPoolStudies'}})\n\t\t.then(interceptErrors);\n}\n\nexport function getLast100PoolUpdates(){\n\treturn fetchJson(url, {method:'post', body: {action:'getLast100PoolUpdates'}})\n\t\t.then(interceptErrors);\n}\n\nexport function getStudyId(study){\n\tlet body = Object.assign({\n\t\taction:'getStudyId'\n\t}, study);\n\n\treturn  fetchJson(url, {method: 'post',body:body});\n}\n\nexport function resetStudy(study){\n\treturn fetchJson(url, {method:'post', body: Object.assign({action:'resetCompletions'}, study)})\n\t\t.then(interceptErrors);\n}\n\nfunction interceptErrors(response){\n\tif (!response.error){\n\t\treturn response;\n\t}\n\n\tlet errors = {\n\t\t1: 'This ID already exists.',\n\t\t2: 'The study could not be found.',\n\t\t3: 'The rule file could not be found.',\n\t\t4: 'The rules file does not fit the \"research\" schema.'\n\t};\n\n\treturn Promise.reject({message: errors[response.error]});\n}","export default spinner;\n\nlet spinner = {\n\tdisplay: m.prop(false),\n\tshow(response){\n\t\tspinner.display(true);\n\t\tm.redraw();\n\t\treturn response;\n\t},\n\thide(response){\n\t\tspinner.display(false);\n\t\tm.redraw();\n\t\treturn response;\n\t},\n\tview(){\n\t\treturn m('.backdrop', {hidden:!spinner.display()}, // spinner.show()\n\t\t\tm('.overlay'),\n\t\t\tm('.backdrop-content.spinner.icon.fa.fa-cog.fa-spin')\n\t\t);\n\t}\n};","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default editMessage;\n\n/**\n * Create edit component\n * Promise editMessage({input:Object, output:Prop})\n */\nlet editMessage = args => messages.custom({\n\tcontent: m.component(editComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet editComponent = {\n\tcontroller({input, output, close}){\n\t\tlet study = ['rulesUrl', 'targetCompletions', 'autopauseUrl', 'userEmail'].reduce((study, prop)=>{\n\t\t\tstudy[prop] = m.prop(input[prop] || '');\n\t\t\treturn study;\n\t\t}, {});\n\n\t\t// export study to calling component\n\t\toutput(study);\n\n\n\t\tlet ctrl = {\n\t\t\tstudy,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet isEmail = str  => /\\S+@\\S+\\.\\S+/.test(str);\n\t\t\t\tlet isNormalInteger = str => /^\\+?(0|[1-9]\\d*)$/.test(str);\n\n\t\t\t\tlet response = {\n\t\t\t\t\trulesUrl: study.rulesUrl(),\n\t\t\t\t\ttargetCompletions: isNormalInteger(study.targetCompletions()),\n\t\t\t\t\tautopauseUrl: study.autopauseUrl(),\n\t\t\t\t\tuserEmail: isEmail(study.userEmail())\n\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) {\n\t\t\t\t\tstudy.targetCompletions(+study.targetCompletions());// targetCompletions should be cast as a number\n\t\t\t\t\tclose(true);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl, {input}){\n\t\tlet study = ctrl.study;\n\t\tlet validity = ctrl.validity();\n\t\tlet miniButtonView = (prop, name, url) => m('button.btn.btn-secondary.btn-sm', {onclick: prop.bind(null,url)}, name);\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Study Editor'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Study ID'),\n\t\t\t\t\tm('p',[\n\t\t\t\t\t\tm('strong.form-control-static', input.studyId)\n\t\t\t\t\t])\n\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Study URL'),\n\t\t\t\t\tm('p',[\n\t\t\t\t\t\tm('strong.form-control-static', input.studyUrl)\n\t\t\t\t\t])\n\t\t\t\t]),\n\n\t\t\t\tm('.form-group', {class:groupClasses(validity.rulesUrl)}, [\n\t\t\t\t\tm('label', 'Rules File URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Rules file URL',\n\t\t\t\t\t\tvalue: study.rulesUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.rulesUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.rulesUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tminiButtonView(study.rulesUrl, 'Priority26', '/research/library/rules/Priority26.xml')\n\t\t\t\t\t]),\n\t\t\t\t\tvalidationView(validity.rulesUrl, 'This row is required')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.autopauseUrl)}, [\n\t\t\t\t\tm('label', 'Auto-pause file URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tplaceholder:'Auto pause file URL',\n\t\t\t\t\t\tvalue: study.autopauseUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.autopauseUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.autopauseUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Default', '/research/library/pausefiles/pausedefault.xml'),\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Never', '/research/library/pausefiles/neverpause.xml'),\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Low restrictions', '/research/library/pausefiles/pauselowrestrictions.xml')\n\t\t\t\t\t]),\n\t\t\t\t\tvalidationView(validity.autopauseUrl, 'This row is required')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.targetCompletions)}, [\n\t\t\t\t\tm('label','Target number of sessions'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'number',\n\t\t\t\t\t\tplaceholder:'Target Sessions',\n\t\t\t\t\t\tvalue: study.targetCompletions(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.targetCompletions),\n\t\t\t\t\t\tonclick: m.withAttr('value', study.targetCompletions),\n\t\t\t\t\t\tclass:inputClasses(validity.targetCompletions)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.targetCompletions, 'This row is required and has to be an integer above 0')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.userEmail)}, [\n\t\t\t\t\tm('label','User Email'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'email',\n\t\t\t\t\t\tplaceholder:'Email',\n\t\t\t\t\t\tvalue: study.userEmail(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.userEmail),\n\t\t\t\t\t\tclass:inputClasses(validity.userEmail)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.userEmail, 'This row is required and must be a valid Email')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default createMessage;\n\n/**\n * Create edit component\n * Promise editMessage({output:Prop})\n */\nlet createMessage = args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet study = output({\n\t\t\tstudyUrl: m.prop('')\n\t\t});\n\n\t\tlet ctrl = {\n\t\t\tstudy,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyUrl: study.studyUrl()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet study = ctrl.study;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Create Study'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyUrl)}, [\n\t\t\t\t\tm('label', 'Study URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study URL',\n\t\t\t\t\t\tvalue: study.studyUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.studyUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.studyUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyUrl, 'This row is required')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};","import {updateStudy, createStudy, updateStatus, getStudyId, resetStudy, STATUS_RUNNING, STATUS_PAUSED, STATUS_STOP} from './poolModel';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport editMessage from './poolEditComponent';\nimport createMessage from './poolCreateComponent';\n\n\nexport function play(study){\n\treturn messages.confirm({\n\t\theader: 'Continue Study:',\n\t\tcontent: `Are you sure you want to continue \"${study.studyId}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_RUNNING)\n\t\t\t\t.then(()=>study.studyStatus = STATUS_RUNNING)\n\t\t\t\t.catch(reportError('Continue Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n}\n\nexport function pause(study){\n\treturn messages.confirm({\n\t\theader: 'Pause Study:',\n\t\tcontent: `Are you sure you want to pause \"${study.studyId}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_PAUSED)\n\t\t\t\t.then(()=>study.studyStatus = STATUS_PAUSED)\n\t\t\t\t.catch(reportError('Pause Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n}\n\nexport let remove  = (study, list) => {\n\treturn messages.confirm({\n\t\theader: 'Remove Study:',\n\t\tcontent: `Are you sure you want to remove \"${study.studyId}\" from the pool?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_STOP)\n\t\t\t\t.then(() => list(list().filter(el => el !== study)))\n\t\t\t\t.catch(reportError('Remove Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n};\n\nexport let edit  = (input) => {\n\tlet output = m.prop();\n\treturn editMessage({input, output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tstudyPending(input, true)();\n\t\t\t\tlet study = Object.assign({}, input, unPropify(output()));\n\t\t\t\treturn updateStudy(study)\n\t\t\t\t\t.then(() => Object.assign(input, study)) // update study in view\n\t\t\t\t\t.catch(reportError('Study Editor'))\n\t\t\t\t\t.then(studyPending(input, false));\n\t\t\t}\n\t\t});\n};\n\nexport let create = (list) => {\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tspinner.show();\n\t\t\t\tgetStudyId(output())\n\t\t\t\t\t.then(response => Object.assign(unPropify(output()), response)) // add response data to \"newStudy\"\n\t\t\t\t\t.then(spinner.hide)\n\t\t\t\t\t.then(editNewStudy);\n\t\t\t}\n\t\t});\n\n\tfunction editNewStudy(input){\n\t\tlet output = m.prop();\n\t\treturn editMessage({input, output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tlet study = Object.assign({\n\t\t\t\t\t\tstartedSessions: 0,\n\t\t\t\t\t\tcompletedSessions: 0,\n\t\t\t\t\t\tcreationDate:new Date(),\n\t\t\t\t\t\tstudyStatus: STATUS_RUNNING\n\t\t\t\t\t}, input, unPropify(output()));\n\t\t\t\t\treturn createStudy(study)\n\t\t\t\t\t\t.then(() => list().push(study))\n\t\t\t\t\t\t.then(m.redraw)\n\t\t\t\t\t\t.catch(reportError('Create Study'));\n\t\t\t\t}\n\t\t\t});\n\t}\n};\n\nexport let reset = study => {\n\tmessages.confirm({\n\t\theader: 'Restart study',\n\t\tcontent: 'Are you sure you want to restart this study? This action will reset all started and completed sessions.'\n\t}).then(response => {\n\t\tif (response) {\n\t\t\tlet old = {\n\t\t\t\tstartedSessions: study.startedSessions,\n\t\t\t\tcompletedSessions: study.completedSessions\n\t\t\t};\n\t\t\tstudy.startedSessions = study.completedSessions = 0;\n\t\t\tm.redraw();\n\t\t\treturn resetStudy(study)\n\t\t\t\t.catch(response => {\n\t\t\t\t\tObject.assign(study, old);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t})\n\t\t\t\t.catch(reportError('Restart study'));\n\t\t}\n\t});\n};\n\nlet reportError = header => err => messages.alert({header, content: err.message});\n\nlet studyPending = (study, state) => () => {\n\tstudy.$pending = state;\n\tm.redraw();\n};\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst loginUrl = '/dashboard/dashboard/connect';\nconst logoutUrl = '/dashboard/logout';\n\nlet authorizeState = {};\n\nexport let isLoggedIn = () => !!authorizeState.isLoggedin;\nexport let getRole = () => authorizeState.role;\n\nexport function authorize(){\n\tauthorizeState = getAuth();\n}\n\nexport let login = (username, password) => fetchJson(loginUrl, {\n\tmethod: 'post',\n\tbody: {username, password}\n});\n\nexport let logout = () => fetchVoid(logoutUrl, {method:'post'}).then(getAuth);\n\nfunction getAuth(){\n\tvar cookieValue = decodeURIComponent(document.cookie.replace(/(?:(?:^|.*;\\s*)PiLogin\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1'));\n\ttry {\n\t\treturn cookieValue ? JSON.parse(cookieValue) : {};\n\t} catch (e) {\n\t\tsetTimeout(()=>{throw e;});\n\t\treturn {};\n\t}\n}","export default function sortTable(listProp, sortByProp) {\n\treturn function(e) {\n\t\tlet prop = e.target.getAttribute('data-sort-by');\n\t\tlet list = listProp();\n\t\tif (prop) {\n\t\t\tif (typeof sortByProp == 'function') sortByProp(prop); // record property so that we can change style accordingly\n\t\t\tvar first = list[0];\n\t\t\tlist.sort(function(a, b) {\n\t\t\t\treturn a[prop] > b[prop] ? 1 : a[prop] < b[prop] ? -1 : 0;\n\t\t\t});\n\t\t\tif (first === list[0]) list.reverse();\n\t\t}\n\t};\n}\n","export default function formatDate(date){\n\tlet pad = num => num < 10 ? '0' + num : num;\n\treturn `${pad(date.getMonth() + 1)}\\\\${pad(date.getDate())}\\\\${date.getFullYear()}`;\n}\n","import {getAllPoolStudies, STATUS_PAUSED, STATUS_RUNNING} from './poolModel';\nimport {play, pause, remove, edit, create, reset} from './poolActions';\nimport {getRole} from 'login/authModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default poolComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nconst TABLE_WIDTH = 8;\n\nlet poolComponent = {\n\tcontroller: () => {\n\t\tconst ctrl = {\n\t\t\tplay, pause, remove, edit, reset, create,\n\t\t\tcanCreate: () => getRole() === 'SU',\n\t\t\tlist: m.prop([]),\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop(),\n\t\t\terror: m.prop('')\n\t\t};\n\n\t\tgetAllPoolStudies()\n\t\t\t.then(ctrl.list)\n\t\t\t.catch(ctrl.error)\n\t\t\t.then(m.redraw);\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet list = ctrl.list;\n\t\treturn m('.pool', [\n\t\t\tm('h2', 'Study pool'),\n\t\t\tctrl.error()\n\t\t\t\t?\n\t\t\t\tm('.alert.alert-warning',\n\t\t\t\t\tm('strong', 'Warning!! '), ctrl.error().message\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\t\tm('thead', [\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', {colspan:TABLE_WIDTH - 1}, [\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\tm('th', [\n\t\t\t\t\t\t\t\tm('a.btn.btn-secondary', {href:'/pool/history', config:m.route}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-history'), '  History'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tctrl.canCreate() ? m('tr', [\n\t\t\t\t\t\t\tm('th.text-xs-center', {colspan:TABLE_WIDTH}, [\n\t\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Add new study'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', thConfig('studyUrl',ctrl.sortBy), 'Study'),\n\t\t\t\t\t\t\tm('th', thConfig('rulesUrl',ctrl.sortBy), 'Rules'),\n\t\t\t\t\t\t\tm('th', thConfig('autopauseUrl',ctrl.sortBy), 'Autopause'),\n\t\t\t\t\t\t\tm('th', thConfig('completedSessions',ctrl.sortBy), 'Completion'),\n\t\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date'),\n\t\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tbody', [\n\t\t\t\t\t\tlist().length === 0\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\tm('tr.table-info',\n\t\t\t\t\t\t\t\tm('td.text-xs-center', {colspan: TABLE_WIDTH},\n\t\t\t\t\t\t\t\t\tm('strong', 'Heads up! '), 'There are no pool studies yet'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(study => m('tr', [\n\t\t\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\t\t\tm('td', study.studyId),\n\n\t\t\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.studyUrl, target: '_blank'}, 'Study')\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Rules url\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.rulesUrl, target: '_blank'}, 'Rules')\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Autopause url\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.autopauseUrl, target: '_blank'}, 'Autopause')\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Completions\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tstudy.startedSessions ? (100 * study.completedSessions / study.startedSessions).toFixed(1) + '% ' : 'n/a ',\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\t\t\tm('.card-header', 'Completion Details'),\n\t\t\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Target Completions: '), study.targetCompletions\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Started Sessions: '), study.startedSessions\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Completed Sessions: '), study.completedSessions\n\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Date\n\t\t\t\t\t\t\t\tm('td', formatDate(new Date(study.creationDate))),\n\n\t\t\t\t\t\t\t\t// ### Status\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t\t\t}[study.studyStatus]\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tstudy.$pending\n\t\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\tm('.l', 'Loading...')\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\t\t\t\tstudy.canUnpause && study.studyStatus === STATUS_PAUSED ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.play.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-play')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canPause && study.studyStatus === STATUS_RUNNING ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.pause.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-pause')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canReset ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.edit.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-edit')\n\t\t\t\t\t\t\t\t\t\t\t]): '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canReset ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.reset.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-refresh')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canStop ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, study, list)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t\t\t\t]) : ''\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]))\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\treturn study =>\n\t\tincludes(study.studyId, ctrl.globalSearch()) ||\n\t\tincludes(study.studyUrl, ctrl.globalSearch()) ||\n\t\tincludes(study.rulesUrl, ctrl.globalSearch());\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}\n","// import $ from 'jquery';\nlet Pikaday = window.Pikaday;\n\nexport let datePicker = (prop, options) => m.component(pikaday, {prop,options});\nexport let dateRangePicker = args => m.component(pikadayRange, args);\n\nlet pikaday = {\n\tview(ctrl, {prop, options}){\n\t\treturn m('div', {config: pikaday.config(prop, options)});\n\t},\n\tconfig(prop, options){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tif (!isInitialized){\n\t\t\t\tctx.picker = new Pikaday(Object.assign({\n\t\t\t\t\tonSelect: prop,\n\t\t\t\t\tcontainer: element\n\t\t\t\t},options));\n\n\t\t\t\telement.appendChild(ctx.picker.el);\n\t\t\t}\n\n\t\t\tctx.picker.setDate(prop());\n\t\t};\n\t}\n};\n\n/**\n * args = {\n * \tstartValue: m.prop,\n *  endValue: m.prop,\n *  options: Object // specific daterange plugin options\n * }\n */\n\nlet pikadayRange = {\n\tview: function(ctrl, args){\n\t\treturn m('.date-range',[\n\t\t\tm('.figure', [\n\t\t\t\tm('strong','Start Date'),\n\t\t\t\tm('br'),\n\t\t\t\tm('.figure', {config:pikadayRange.configStart(args)})\n\t\t\t]),\n\t\t\tm.trust('&nbsp;'),\n\t\t\tm('.figure', [\n\t\t\t\tm('strong','End Date'),\n\t\t\t\tm('br'),\n\t\t\t\tm('.figure', {config:pikadayRange.configEnd(args)})\n\t\t\t])\n\t\t]);\n\t},\n\tconfigStart({startDate, endDate}){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tlet picker = ctx.picker;\n\n\t\t\tif (!isInitialized){\n\t\t\t\tpicker = ctx.picker = new Pikaday({\n\t\t\t\t\tmaxDate: new Date(),\n\t\t\t\t\tonSelect: date => startDate(date) && update() || m.redraw()\n\t\t\t\t});\n\t\t\t\telement.appendChild(picker.el);\n\n\t\t\t\tctx.onunload = picker.destroy.bind(picker);\n\t\t\t\tpicker.setDate(startDate());\n\t\t\t}\n\n\t\t\t// resset picker date only if the date has changed externaly\n\t\t\tif (!datesEqual(startDate() ,picker.getDate())){\n\t\t\t\tpicker.setDate(startDate(),true);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\tfunction update(){\n\t\t\t\tpicker.setStartRange(startDate());\n\t\t\t\tpicker.setEndRange(endDate());\n\t\t\t\tpicker.setMaxDate(endDate());\n\t\t\t}\n\t\t};\n\t},\n\tconfigEnd({startDate, endDate}){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tlet picker = ctx.picker;\n\n\t\t\tif (!isInitialized){\n\t\t\t\tpicker = ctx.picker = new Pikaday({\n\t\t\t\t\tmaxDate: new Date(),\n\t\t\t\t\tonSelect: date => endDate(date) && update() || m.redraw()\n\t\t\t\t});\n\t\t\t\telement.appendChild(picker.el);\n\n\t\t\t\tctx.onunload = picker.destroy.bind(picker);\n\t\t\t\tpicker.setDate(endDate());\n\t\t\t}\n\n\t\t\t// resset picker date only if the date has changed externaly\n\t\t\tif (!datesEqual(endDate() ,picker.getDate())){\n\t\t\t\tpicker.setDate(endDate(),true);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\tfunction update(){\n\t\t\t\tpicker.setStartRange(startDate());\n\t\t\t\tpicker.setEndRange(endDate());\n\t\t\t\tpicker.setMinDate(startDate());\n\t\t\t}\n\t\t};\n\t}\n};\n\nlet datesEqual = (date1, date2) => date1 instanceof Date && date2 instanceof Date && date1.getTime() === date2.getTime();","import {getLast100PoolUpdates} from './poolModel';\nimport {dateRangePicker} from 'utils/dateRange';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default poolComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nlet poolComponent = {\n\tcontroller: () => {\n\t\tconst ctrl = {\n\t\t\tlist: m.prop([]),\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tstartDate: m.prop(new Date(0)),\n\t\t\tendDate: m.prop(new Date()),\n\t\t\tsortBy: m.prop()\n\t\t};\n\n\t\tgetLast100PoolUpdates()\n\t\t\t.then(ctrl.list)\n\t\t\t.then(m.redraw);\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet list = ctrl.list;\n\t\treturn m('.pool', [\n\t\t\tm('h2', 'Pool history'),\n\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\tm('thead', [\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th.row', {colspan:8}, [\n\t\t\t\t\t\t\tm('.col-sm-4',\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tm('.col-sm-8',\n\t\t\t\t\t\t\t\tdateRangePicker(ctrl),\n\t\t\t\t\t\t\t\tm('.btn-group-vertical.history-button-group',[\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'Last 7 Days', 7),\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'Last 30 Days', 30),\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'Last 90 Days', 90),\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'All times', 3650)\n\t\t\t\t\t\t\t\t])\n\n\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', thConfig('studyUrl',ctrl.sortBy), 'Study'),\n\t\t\t\t\t\t\tm('th', thConfig('rulesUrl',ctrl.sortBy), 'Rules'),\n\t\t\t\t\t\t\tm('th', thConfig('autopauseUrl',ctrl.sortBy), 'Autopause'),\t\t\n\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Creation Date'),\n\t\t\t\t\t\tm('th', thConfig('completedSessions',ctrl.sortBy), 'Completion'),\n\t\t\t\t\t\tm('th','New Status'),\n\t\t\t\t\t\tm('th','Old Status'),\n\t\t\t\t\t\tm('th', thConfig('updaterId',ctrl.sortBy), 'Updater'),\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('tbody', [\n\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(study => m('tr', [\n\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\tm('td', study.studyId),\n\n\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.studyUrl, target: '_blank'}, 'Study')\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Rules url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.rulesUrl, target: '_blank'}, 'Rules')\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Autopause url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.autopauseUrl, target: '_blank'}, 'Autopause')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t\t\t// ### Date\n\t\t\t\t\t\tm('td', formatDate(new Date(study.creationDate))),\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ### Target Completionss\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tstudy.startedSessions ? (100 * study.completedSessions / study.startedSessions).toFixed(1) + '% ' : 'n/a ',\n\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\tm('.card-header', 'Completion Details'),\n\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Target Completions: '), study.targetCompletions\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Started Sessions: '), study.startedSessions\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Completed Sessions: '), study.completedSessions\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### New Status\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t}[study.newStatus]\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t// ### Old Status\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t}[study.studyStatus]\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('td', study.updaterId),\n\t\t\t\t\t]))\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\treturn study =>\n\t\t(includes(study.studyId, ctrl.globalSearch()) ||\tincludes(study.updaterId, ctrl.globalSearch()) || includes(study.rulesUrl, ctrl.globalSearch())\n\t\t \t|| includes(study.targetCompletions, ctrl.globalSearch()))\n\t\t&& (new Date(study.creationDate)).getTime() >= ctrl.startDate().getTime()\n\t&& (new Date(study.creationDate)).getTime() <= ctrl.endDate().getTime()+86000000; //include the end day selected\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}\n\nlet dayButtonView = (ctrl, name, days) => m('button.btn.btn-secondary.btn-sm', {onclick: () => {\n\tlet d = new Date();\n\td.setDate(d.getDate() - days);\n\tctrl.startDate(d);\n\tctrl.endDate(new Date());\n}}, name);","import {fetchJson, fetchVoid} from 'utils/modelHelpers';\nconst url = '/dashboard/DashboardData';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_COMPLETE = 'C';\nexport const STATUS_ERROR = 'X';\n\nexport let getAllDownloads = () => fetchJson(url, {\n\tmethod:'post',\n\tbody: {action:'getAllDownloads'}\n}).then(interceptErrors);\n\nexport let removeDownload = download => fetchVoid(url, {\n\tmethod:'post',\n\tbody: Object.assign({action:'removeDownload'}, download)\n}).then(interceptErrors);\n\nexport let createDownload = download => fetchJson(url, {\n\tmethod: 'post',\n\tbody: Object.assign({action:'download'}, download)\n}).then(interceptErrors);\n\n\n\nfunction interceptErrors(response){\n\tif (!response || !response.error){\n\t\treturn response;\n\t}\n\n\treturn Promise.reject({message: response.msg});\n}","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\n\nexport default args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet download ={\n\t\t\tstudyId: m.prop(''),\n\t\t\tdb: m.prop('test'),\n\t\t\tstartDate: m.prop(new Date(0)),\n\t\t\tendDate: m.prop(new Date())\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(download);\n\n\n\t\tlet ctrl = {\n\t\t\tdownload,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: download.studyId()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet download = ctrl.download;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Request Download'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: download.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', download.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to request a download.')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label','Database'),\n\t\t\t\t\tm('select.form-control', {onchange: m.withAttr('value',download.db)}, [\n\t\t\t\t\t\tm('option',{value:'test', selected: download.db() === 'test'}, 'Development'),\n\t\t\t\t\t\tm('option',{value:'warehouse', selected: download.db() === 'warehouse'}, 'Production')\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Date Range'),\n\t\t\t\t\tdateRangePicker(download),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tdayButtonView(download, 'Last 7 Days', 7),\n\t\t\t\t\t\tdayButtonView(download, 'Last 30 Days', 30),\n\t\t\t\t\t\tdayButtonView(download, 'Last 90 Days', 90),\n\t\t\t\t\t\tdayButtonView(download, 'All times', 3650)\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\nlet dayButtonView = (download, name, days) => m('button.btn.btn-secondary.btn-sm', {onclick: () => {\n\tlet d = new Date();\n\td.setDate(d.getDate() - days);\n\tdownload.startDate(d);\n\tdownload.endDate(new Date());\n}}, name);","import {getAllDownloads, removeDownload, createDownload, STATUS_RUNNING} from './downloadsModel';\nimport createMessage from './downloadsCreate';\nimport messages from 'utils/messagesComponent';\n\n/**\n * Get all downloads\n */\n\nexport let recursiveGetAll = debounce(getAll, 5000);\nexport function getAll({list, cancel, error}){\n\treturn getAllDownloads()\n\t\t.then(list)\n\t\t.then(response => {\n\t\t\tif (!cancel() && response.some(download => download.studyStatus === STATUS_RUNNING)) {\n\t\t\t\trecursiveGetAll({list, cancel, error});\n\t\t\t}\n\t\t})\n\t\t.catch(error)\n\t\t.then(m.redraw);\n}\n\n\n// debounce but call at first iteration\nfunction debounce(func, wait) {\n\tlet first = true;\n\tlet timeout;\n\treturn function() {\n\t\tvar context = this, args = arguments;\n\t\tvar later = function() {\n\t\t\ttimeout = null;\n\t\t\tfunc.apply(context, args);\n\t\t};\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (first) {\n\t\t\tfunc.apply(context, args);\n\t\t\tfirst = false;\n\t\t}\n\t};\n}\n\n\n/**\n * Remove download\n */\n\nexport function remove(download, list) {\n\treturn messages.confirm({\n\t\theader: 'Delete Request:',\n\t\tcontent: [\n\t\t\t'Are you sure you want to delete this request from your queue?',\n\t\t\tm('.text-xs-center',\n\t\t\t\tm('small.muted-text','(Don\\'t worry, the data will stay on our servers and you can request it again in the future)')\n\t\t\t)\n\t\t]\n\t})\n\t.then(function(response){\n\t\tif (response) return doRemove(download, list);\n\t});\n}\n\nfunction doRemove(download, list){\n\tlist(list().filter(el => el !== download));\n\tm.redraw();\n\tremoveDownload(download)\n\t\t.catch(err => {\n\t\t\tlist().push(download);\n\t\t\treturn messages.alert({\n\t\t\t\theader: 'Delete Request',\n\t\t\t\tcontent: err.message\n\t\t\t});\n\t\t});\n}\n\n/**\n * Create download\n */\n\nexport function create(list, cancel){\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response){\n\t\t\t\tlet download = unPropify(output());\n\t\t\t\tlist().unshift(Object.assign({\n\t\t\t\t\tstudyStatus: STATUS_RUNNING,\n\t\t\t\t\tcreationDate: new Date()\n\t\t\t\t},download));\n\t\t\t\tcancel(true);\n\t\t\t\treturn createDownload(download)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tcancel(false);\n\t\t\t\t\t\tgetAll({list, cancel});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reportError)\n\t\t\t\t\t.then(cancel.bind(null, false));\n\t\t\t}\n\t\t});\n}\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});\n\nlet reportError = header => err => messages.alert({header, content: err.message});","import {STATUS_RUNNING, STATUS_COMPLETE, STATUS_ERROR} from './downloadsModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nimport {getAll, remove, create} from './downloadsActions';\nexport default downloadsComponent;\n\nconst TABLE_WIDTH = 7;\nconst statusLabelsMap = {}; // defined at the bottom of this file\n\nconst downloadsComponent = {\n\tcontroller(){\n\t\tlet list = m.prop([]);\n\t\tlet cancelDownload = m.prop(false);\n\n\t\tconst ctrl = {\n\t\t\tlist,\n\t\t\tcancelDownload,\n\t\t\tcreate,\n\t\t\tremove,\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop('studyId'),\n\t\t\tonunload(){\n\t\t\t\tcancelDownload(true);\n\t\t\t},\n\t\t\terror: m.prop('')\n\t\t};\n\n\t\tgetAll({list:ctrl.list, cancel: cancelDownload, error: ctrl.error});\n\n\t\treturn ctrl;\n\t},\n\n\tview(ctrl) {\n\t\tlet list = ctrl.list;\n\t\treturn m('.downloads', [\n\t\t\tm('h2', 'Downloads'),\n\t\t\tctrl.error()\n\t\t\t\t?\n\t\t\t\tm('.alert.alert-warning',\n\t\t\t\t\tm('strong', 'Warning!! '), ctrl.error().message\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\t\tm('thead', [\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', {colspan:TABLE_WIDTH}, [\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th.text-xs-center', {colspan:TABLE_WIDTH}, [\n\t\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list, ctrl.cancelDownload)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Download request'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', 'Data file'),\n\t\t\t\t\t\t\tm('th', thConfig('db',ctrl.sortBy), 'Database'),\n\t\t\t\t\t\t\tm('th', thConfig('fileSize',ctrl.sortBy), 'File Size'),\n\t\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date Added'),\n\t\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tbody', [\n\t\t\t\t\t\tlist().length === 0\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\tm('tr.table-info',\n\t\t\t\t\t\t\t\tm('td.text-xs-center', {colspan: TABLE_WIDTH},\n\t\t\t\t\t\t\t\t\tm('strong', 'Heads up! '), 'There are no downloads running yet'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t:\n\n\t\t\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(download => m('tr', [\n\t\t\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\t\t\tm('td', download.studyId),\n\n\t\t\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\t\t\tm('td',\n\t\t\t\t\t\t\t\t\tdownload.studyStatus == STATUS_RUNNING\n\t\t\t\t\t\t\t\t\t\t? m('i.text-muted', 'Loading...')\n\t\t\t\t\t\t\t\t\t\t: download.fileSize\n\t\t\t\t\t\t\t\t\t\t\t? m('a', {href:download.studyUrl, download:true, target: '_blank'}, 'Download')\n\t\t\t\t\t\t\t\t\t\t\t: m('i.text-muted', 'No Data')\n\t\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\t\t\t// ### Database\n\t\t\t\t\t\t\t\tm('td', download.db),\n\n\t\t\t\t\t\t\t\t// ### Filesize\n\t\t\t\t\t\t\t\tm('td', download.fileSize !== 'unknown'\n\t\t\t\t\t\t\t\t\t? download.fileSize\n\t\t\t\t\t\t\t\t\t: m('i.text-muted', 'Unknown')\n\t\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\t\t\t// ### Date Added\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tformatDate(new Date(download.creationDate)),\n\t\t\t\t\t\t\t\t\t'  ',\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\t\t\tm('.card-header', 'Creation Details'),\n\t\t\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Creation Date: '), formatDate(new Date(download.creationDate))\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Start Date: '), formatDate(new Date(download.startDate))\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'End Date: '), formatDate(new Date(download.endDate))\n\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Status\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tstatusLabelsMap[download.studyStatus]\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\t\t\tm('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, download, list)}, [\n\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]))\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\tlet search = ctrl.globalSearch();\n\treturn study =>\n\t\tincludes(study.studyId, search) ||\n\t\tincludes(study.studyUrl, search);\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}\n\nstatusLabelsMap[STATUS_COMPLETE] = m('span.label.label-success', 'Complete');\nstatusLabelsMap[STATUS_RUNNING] = m('span.label.label-info', 'Running');\nstatusLabelsMap[STATUS_ERROR] = m('span.label.label-danger', 'Error');\n","import {login, isLoggedIn} from './authModel';\nimport fullHeight from 'utils/fullHeight';\nexport default loginComponent;\n\nlet loginComponent = {\n\tcontroller(){\n\t\tconst username = m.prop('');\n\t\tconst password = m.prop('');\n\t\tconst ctrl = {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tisLoggedIn,\n\t\t\terror: m.prop(''),\n\t\t\tlogin: loginAction\n\t\t};\n\n\t\treturn ctrl;\n\n\t\tfunction loginAction(){\n\t\t\tconsole.log('va', username(), password())\n\t\t\tlogin(username, password)\n\t\t\t\t.then(() => {\n\t\t\t\t\tm.route('/');\n\t\t\t\t})\n\t\t\t\t.catch(response => {\n\t\t\t\t\tctrl.error(response.message);\n\t\t\t\t\tm.redraw();\n\t\t\t\t});\n\t\t}\n\t},\n\tview(ctrl){\n\t\treturn m('.login.centrify', {config:fullHeight},[\n\t\t\tisLoggedIn()\n\t\t\t\t?\n\t\t\t\t[\n\t\t\t\t\tm('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n\t\t\t\t\tm('h5', 'You are already logged in!')\n\t\t\t\t]\n\t\t\t\t:\n\t\t\t\tm('.card.card-inverse.col-md-4', [\n\t\t\t\t\tm('.card-block',[\n\t\t\t\t\t\tm('h4', 'Please sign in'),\n\n\t\t\t\t\t\tm('form', {onsubmit:ctrl.login}, [\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'username',\n\t\t\t\t\t\t\t\tplaceholder: 'Username / Email',\n\t\t\t\t\t\t\t\tvalue: ctrl.username(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.username)\n\t\t\t\t\t\t\t}),\n\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'password',\n\t\t\t\t\t\t\t\tplaceholder: 'Password',\n\t\t\t\t\t\t\t\tvalue: ctrl.password(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.password),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.password)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\tctrl.error() ? m('.alert.alert-warning', m('strong', 'Warning!! '), ctrl.error()) : '',\n\n\t\t\t\t\t\tm('button.btn.btn-primary.btn-block', {onclick: ctrl.login},'Sign in'),\n\n\t\t\t\t\t\t// m('p.text-center',\n\t\t\t\t\t\t// \tm('a', m('small.text-muted','Lost your password?'))\n\t\t\t\t\t\t// )\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\nfunction getStartValue(prop){\n\tconsole.log('horrible hack to manage chrome pw autocomplete')\n\treturn (element, isInit) => {// !isInit && prop(element.value);\n\t\tif (!isInit) setTimeout(()=>prop(element.value), 30);\n\t}\n}","import studiesComponent from './study/studiesComponent';\nimport studyComponent from './study/studyComponent';\nimport wizardComponent from './study/wizardComponent';\nimport poolComponent from './pool/poolComponent';\nimport historyComponent from './pool/historyComponent';\nimport downloadsComponent from './downloads/downloadsComponent';\nimport loginComponent from './login/loginComponent';\nexport default routes;\n\nlet routes = {\n\t'/login': loginComponent,\n\t'/studies' : studiesComponent,\n\t'/editor/:studyId': studyComponent,\n\t'/editor/:studyId/:resource/:fileID': studyComponent,\n\t'/pool': poolComponent,\n\t'/pool/history': historyComponent,\n\t'/downloads': downloadsComponent\n};\n\n","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport {authorize, isLoggedIn, logout} from 'login/authModel';\nexport default layout;\n\nlet layout = route => {\n\treturn {\n\t\tcontroller(){\n\t\t\tauthorize();\n\t\t\tif (!isLoggedIn() && m.route() !== '/login') m.route('/login');\n\n\t\t\treturn {doLogout};\n\n\t\t\tfunction doLogout(){\n\t\t\t\tlogout().then(() => m.route('/login'));\n\t\t\t}\n\t\t},\n\t\tview(ctrl){\n\t\t\treturn  m('.dashboard-root', {class: window.top!=window.self ? 'is-iframe' : ''}, [\n\t\t\t\tm('nav.navbar.navbar-dark.navbar-fixed-top', [\n\t\t\t\t\tm('a.navbar-brand', {href:'/dashboard/dashboard'}, 'Dashboard'),\n\t\t\t\t\tm('ul.nav.navbar-nav',[\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/studies', config:m.route},'Studies')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/pool', config:m.route},'Pool')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/downloads', config:m.route},'Downloads')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item.pull-xs-right',[\n\t\t\t\t\t\t\tm('button.btn.btn-info', {onclick:ctrl.doLogout}, [\n\t\t\t\t\t\t\t\tm('i.fa.fa-sign-out'), '  Logout'\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\t\t\t\t]),\n\n\t\t\t\tm('.main-content.container-fluid', [\n\t\t\t\t\troute\n\t\t\t\t]),\n\n\t\t\t\tm.component(contextMenu), // register context menu\n\t\t\t\tm.component(messages), // register modal\n\t\t\t\tm.component(spinner) // register spinner\n\t\t\t]);\n\t\t}\n\t};\n\n};","import routes from './routes';\nimport layoutWrapper from './layoutWrapper';\n\nlet wrappedRoutes = mapObject(routes, layoutWrapper);\nm.route(document.body, '/studies', wrappedRoutes);\n\n/**\n * Map Object\n * A utility function to transform objects\n * @param  {Object} \tobj \tThe object to transform\n * @param  {Function} \tcb \t\tThe transforming function\n * @return {Object}        [description]\n *\n * Signature:\n *\n * Object mapObject(Object obj, callbackFunction cb)\n *\n * where:\n * \tcallbackFunction :: any Function(any value, String key, Object object)\n */\nfunction mapObject(obj, cb) {\n\treturn Object.keys(obj)\n\t\t.reduce(function(result, key) {\n\t\t\tresult[key] = cb(obj[key], key, obj);\n\t\t\treturn result;\n\t\t}, {});\n}\n"],"names":["let","baseUrl","this","const","noop","validate","pipValidate","questValidate","managerValidate","validator","observerFactory","textMenu","validatorComponent","syntaxComponent","unknowEditor","arguments","pathProp","wizardHash","contextMenu","filesVM","viewModelMap","folderComponent","editorComponent","focusConfig","play","PRODUCTION_URL","poolComponent","thConfig","studyFilter","url","STATUS_RUNNING","interceptErrors","createComponent","dayButtonView","remove","create","createMessage","unPropify","reportError","TABLE_WIDTH","studiesComponent","studyComponent","historyComponent","layoutWrapper"],"mappings":"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"}