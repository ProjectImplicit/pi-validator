{"version":3,"file":"main.js","sources":["../src/utils/modelHelpers.js","../src/study/studiesComponent.js","../src/study/editors/jshintOptions.js","../src/study/fileModel.js","../src/study/studyModel.js","../src/utils/fullHeight.js","../src/study/editors/imgEditor.js","../src/study/editors/pdfEditor.js","../src/study/editors/unknownEditor.js","../src/utils/messagesComponent.js","../src/study/sidebar/fileActions.js","../src/study/editors/ace/aceComponent.js","../src/utils/observer.js","../src/study/editors/ace/syntaxComponent.js","../src/study/editors/ace/parser/messages.js","../src/study/editors/ace/parser/parser.js","../src/study/editors/ace/parser/pipValidator.js","../src/study/editors/ace/parser/questValidator.js","../src/study/editors/ace/parser/managerValidator.js","../src/study/editors/ace/parser/validator.js","../src/study/editors/ace/validatorComponent.js","../src/utils/prettyPrint.js","../src/utils/forms/inputWrapper.js","../src/utils/forms/textInput.js","../src/utils/forms/maybeInput.js","../src/utils/forms/checkboxInput.js","../src/utils/forms/selectInput.js","../src/utils/transformProp.js","../src/utils/forms/arrayInput.js","../src/utils/forms/radioInput.js","../src/utils/formHelpers.js","../src/study/editors/snippets/inheritInput.js","../src/study/editors/snippets/task.js","../src/study/editors/snippets/page.js","../src/study/editors/snippets/quest.js","../src/study/editors/snippetActions.js","../src/study/editors/textMenu.js","../src/study/editors/textEditor.js","../src/study/editorComponent.js","../src/study/wizards/ratingWizard.js","../src/study/wizardComponent.js","../src/utils/classNames.js","../src/utils/contextMenuComponent.js","../src/study/sidebar/wizardActions.js","../src/study/sidebar/wizardHash.js","../src/study/sidebar/fileContext.js","../src/utils/uploader.js","../src/study/sidebar/nodeComponent.js","../src/study/sidebar/folderComponent.js","../src/study/sidebar/filesComponent.js","../src/study/sidebar/sidebarButtons.js","../src/study/sidebar/sidebarComponent.js","../src/study/studyComponent.js","../src/pool/poolModel.js","../src/utils/spinnerComponent.js","../src/pool/poolEditComponent.js","../src/pool/poolCreateComponent.js","../src/pool/poolActions.js","../src/login/authModel.js","../src/utils/sortTable.js","../src/utils/formatDate.js","../src/pool/poolComponent.js","../src/utils/dateRange.js","../src/pool/historyComponent.js","../src/downloads/downloadsModel.js","../src/downloads/downloadsCreate.js","../src/downloads/downloadsActions.js","../src/downloads/downloadsComponent.js","../src/downloadsAccess/downloadsAccessModel.js","../src/downloadsAccess/downloadsAccessCreateComponent.js","../src/downloadsAccess/downloadsAccessGrantComponent.js","../src/downloadsAccess/downloadsAccessRevokeComponent.js","../src/downloadsAccess/downloadsAccessActions.js","../src/downloadsAccess/downloadsAccessComponent.js","../src/login/loginComponent.js","../src/deployList/deployListModel.js","../src/deployList/deployListComponent.js","../src/changeRequestList/changeRequestListModel.js","../src/changeRequestList/changeRequestListComponent.js","../src/removalList/removalListModel.js","../src/removalList/removalListComponent.js","../src/deploy/deployModel.js","../src/deploy/rulesComponent.js","../src/deploy/deployComponent.js","../src/studyRemoval/studyRemovalComponent.js","../src/studyChangeRequest/studyChangeRequestComponent.js","../src/addUser/addUserModel.js","../src/addUser/addUserComponent.js","../src/activation/activationModel.js","../src/changePassword/changePasswordView.js","../src/activation/activationComponent.js","../src/changePassword/changePasswordModel.js","../src/changePassword/changePasswordComponent.js","../src/recovery/recoveryModel.js","../src/recovery/recoveryComponent.js","../src/routes.js","../src/layoutWrapper.js","../src/main.js"],"sourcesContent":["export let checkStatus = response => {\n\n\tif (response.status >= 200 && response.status < 300) {\n\t\treturn response;\n\t}\n\n\tlet error = new Error(response.statusText);\n\n\terror.response = response;\n\n\tthrow error;\n};\n\nexport let toJSON = response => response\n\t.json()\n\t.catch(\t);\n\n// extract info from status error\nexport let catchJSON = err => (err.response ? err.response.json() : Promise.reject())\n\t.catch(() => Promise.reject(err))\n\t.then(json => Promise.reject(json));\n\n\nexport function fetchVoid(url, options = {}){\n\tlet opts = Object.assign({\n\t\tcredentials: 'same-origin',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json'\n\t\t}\n\t}, options);\n\n\topts.body = JSON.stringify(options.body);\n\treturn fetch(url, opts)\n\t\t.then(checkStatus)\n\t\t.catch(catchJSON);\n}\n\nexport function fetchJson(url, options){\n\treturn fetchVoid(url, options)\n\t\t.then(toJSON);\n}\n\nexport function fetchText(url, options){\n\treturn fetchVoid(url, options)\n\t\t.then(response => response.text());\n}\n\nexport function fetchUpload(url, options){\n\tlet opts = Object.assign({\n\t\tcredentials: 'same-origin'\n\t}, options);\n\n\treturn fetch(url, opts)\n\t\t.then(checkStatus)\n\t\t.then(toJSON)\n\t\t.catch(catchJSON);\n}\n","import {toJSON, checkStatus} from 'utils/modelHelpers';\nexport default mainComponent;\n\nvar mainComponent = {\n\tcontroller: function(){\n\t\tvar ctrl = {\n\t\t\tstudies:m.prop(),\n\t\t\tloaded:false\n\t\t};\n\t\tfetch('/dashboard/dashboard/studies', {credentials: 'same-origin'})\n\t\t\t.then(checkStatus)\n\t\t\t.then(toJSON)\n\t\t\t.then(ctrl.studies)\n\t\t\t.then(()=>ctrl.loaded = true)\n\t\t\t.then(m.redraw);\n\n\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\treturn m('.container', [\n\t\t\tm('h3', 'My studies'),\n\t\t\t!ctrl.loaded\n\t\t\t\t?\n\t\t\t\tm('.loader')\n\t\t\t\t:\n\t\t\t\tm('.list-group',ctrl.studies().studies.map(study => m('a.list-group-item',{\n\t\t\t\t\thref: `/editor/${study.id}`,\n\t\t\t\t\tconfig: m.route\n\t\t\t\t}, study.name)))\n\t\t]);\n\t}\n};","export default jshintOptions;\nvar jshintOptions = {\n\t// JSHint Default Configuration File (as on JSHint website)\n\t// See http://jshint.com/docs/ for more details\n\n\t'curly'         : false,    // true: Require {} for every new block or scope\n\t'latedef'       : 'nofunc', // true: Require variables/functions to be defined before being used\n\t'undef'         : true,     // true: Require all non-global variables to be declared (prevents global leaks)\n\t'unused'        : 'vars',   // Unused variables:\n\t'strict'        : false,    // true: Requires all functions run in ES5 Strict Mode\n\n\t'browser'       : true,     // Web Browser (window, document, etc)\n\t'devel'         : true,     // Development/debugging (alert, confirm, etc)\n\n\tesversion\t: 3,\t    // Require es3 syntax for backward compatibility\n\n\t// Custom Globals\n\tpredef: ['piGlobal','define','require','requirejs','angular']\n};\n","import jshintOptions from './editors/jshintOptions';\nimport {fetchVoid, fetchJson} from 'utils/modelHelpers';\nexport default fileFactory;\nlet baseUrl = '/dashboard/dashboard';\n\nlet filePrototype = {\n\tapiUrl(){\n\t\treturn `${baseUrl}/files/${encodeURIComponent(this.studyId)}/file/${encodeURIComponent(this.id)}`;\n\t},\n\n\tget(){\n\t\treturn fetchJson(this.apiUrl())\n\t\t\t.then(response => {\n\t\t\t\tlet content = response.content.replace(/\\r\\n?|\\n?$/g, '\\n'); // replace carriage returns and add new line to EOF. this makes sure all files are unix encoded...\n\t\t\t\tthis.sourceContent(content);\n\t\t\t\tthis.content(content);\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.error = false;\n\t\t\t})\n\t\t\t.catch(reason => {\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.error = true;\n\t\t\t\treturn Promise.reject(reason); // do not swallow error\n\t\t\t});\n\t},\n\n\tsave(){\n\t\treturn fetchVoid(this.apiUrl(), {\n\t\t\tmethod:'put',\n\t\t\tbody: {content: this.content}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tthis.sourceContent(this.content()); // update source content\n\t\t\t\treturn response;\n\t\t\t});\n\t},\n\n\tmove(path, study){\n\t\tlet basePath = (path.substring(0, path.lastIndexOf('/')));\n\t\tlet folderExists = basePath === '' || study.files().some(f => f.isDir && f.path === basePath);\n\n\t\tif (!folderExists) return Promise.reject({message: `Folder ${basePath} does not exist.`});\n\t\tif (study.files().some(f=>f.path === path)) return Promise.reject({message: `File ${path} already exists.`});\n\n\t\tlet oldPath = this.path;\n\t\tthis.setPath(path);\n\t\tthis.content(this.content()); // in case where changing into a file type that needs syntax checking\n\n\t\treturn fetchJson(this.apiUrl() + `/move/`, {\n\t\t\tmethod:'put',\n\t\t\tbody: {path}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tthis.id = response.id;\n\t\t\t\tthis.url = response.url;\n\t\t\t})\n\t\t\t.catch(response => {\n\t\t\t\tthis.setPath(oldPath);\n\t\t\t\treturn Promise.reject(response);\n\t\t\t});\n\t},\n\n\tdel(){\n\t\treturn fetchVoid(this.apiUrl(), {method:'delete'});\n\t},\n\n\n\thasChanged() {\n\t\treturn this.sourceContent() !== this.content();\n\t},\n\n\tdefine(context = window){\n\t\tvar requirejs = context.requirejs;\n\t\tvar name = this.url;\n\t\tvar content = this.content();\n\n\t\treturn new Promise((resolve) => {\n\t\t\trequirejs.undef(name);\n\t\t\tcontext.eval(content.replace(`define(`,`define('` + name + `',`));\n\t\t\tresolve();\n\t\t});\n\t},\n\n\trequire(context = window){\n\t\tvar requirejs = context.requirejs;\n\t\treturn new Promise((resolve, reject) => {\n\t\t\trequirejs([this.url], resolve,reject);\n\t\t});\n\t},\n\n\tcheckSyntax(){\n\t\tvar jshint = window.JSHINT;\n\t\tthis.syntaxValid = jshint(this.content(), jshintOptions);\n\t\tthis.syntaxData = jshint.data();\n\t\treturn this.syntaxValid;\n\t},\n\n\tsetPath(path = ''){\n\t\tthis.path = path;\n\t\tthis.name = path.substring(path.lastIndexOf('/')+1);\n\t\tthis.basePath = (path.substring(0, path.lastIndexOf('/'))) + '/';\n\t\tthis.type = path.substring(path.lastIndexOf('.')+1).toLowerCase();\n\t}\n};\n\n/**\n * fileObj = {\n * \tid: #hash,\n *\tpath: path, \t\n * \turl: URL\n * }\n */\n\nconst fileFactory = fileObj => {\n\tlet file = Object.create(filePrototype);\n\tlet path = decodeURIComponent(fileObj.path);\n\n\n\tfile.setPath(path);\n\n\tObject.assign(file, fileObj, {\n\t\tid\t\t\t: fileObj.id,\n\t\tsourceContent\t\t: m.prop(fileObj.content || ''),\n\t\tcontent \t\t: contentProvider.call(file, fileObj.content || ''), // custom m.prop, alows checking syntax on change\n\n\t\t// keep track of loaded state\n\t\tloaded\t\t\t: false,\n\t\terror \t\t\t: false,\n\n\t\t// these are defined when calling checkSyntax\n\t\tsyntaxValid \t: undefined,\n\t\tsyntaxData \t\t: undefined\n\t});\n\n\tfile.content(fileObj.content || '');\n\n\tif (fileObj.files) file.files = fileObj.files.map(fileFactory).map(file => Object.assign(file, {studyId: fileObj.studyId}));\n\n\treturn file;\n\n\n\tfunction contentProvider (store) {\n\t\tvar prop = (...args) => {\n\t\t\tif (args.length) {\n\t\t\t\tstore = args[0];\n\t\t\t\tthis.type === 'js' && this.checkSyntax();\n\t\t\t}\n\t\t\treturn store;\n\t\t};\n\n\t\tprop.toJSON = () => store;\n\n\t\treturn prop;\n\t}\n};\n","import {fetchJson, fetchUpload} from 'utils/modelHelpers';\nimport fileFactory from './fileModel';\nexport default studyFactory;\n\nlet baseUrl = '/dashboard/dashboard';\n\nlet studyPrototype = {\n\tapiURL(path = ''){\n\t\treturn `${baseUrl}/files/${encodeURIComponent(this.id)}${path}`;\n\t},\n\n\tget(){\n\t\treturn fetchJson(this.apiURL())\n\t\t\t.then(study => {\n\t\t\t\tthis.loaded = true;\n\t\t\t\tlet files = flattenFiles(study.files)\n\t\t\t\t\t.map(assignStudyId(this.id))\n\t\t\t\t\t.map(fileFactory);\n\n\t\t\t\tthis.files(files);\n\t\t\t\tthis.sort();\n\t\t\t})\n\t\t\t.catch(reason => {\n\t\t\t\tthis.error = true;\n\t\t\t\treturn Promise.reject(reason); // do not swallow error\n\t\t\t});\n\n\t\tfunction flattenFiles(files){\n\t\t\tif (!files) return [];\n\t\t\treturn files\n\t\t\t\t\t.map(spreadFile)\n\t\t\t\t\t.reduce((result, fileArr) => result.concat(fileArr),[]);\n\t\t}\n\n\t\tfunction assignStudyId(id){\n\t\t\treturn f => Object.assign(f, {studyId: id});\n\t\t}\n\n\t\tfunction spreadFile(file){\n\t\t\treturn [file].concat(flattenFiles(file.files));\n\t\t}\n\n\n\t},\n\n\tgetFile(id){\n\t\treturn this.files().find(f => f.id === id);\n\t},\n\n\tcreateFile({name, content='',isDir}){\n\t\t// validation (make sure there are no invalid characters)\n\t\tif(/[^\\/-_.A-Za-z0-9]/.test(name)) return Promise.reject({message: `The file name \"${name}\" is not valid`});\n\n\t\t// validation (make sure file does not already exist)\n\t\tlet exists = this.files().some(file => file.path === name);\n\t\tif (exists) return Promise.reject({message: `The file \"${name}\" already exists`});\n\n\t\t// validateion (make sure direcotry exists)\n\t\tlet basePath = (name.substring(0, name.lastIndexOf('/'))).replace(/^\\//, '');\n\t\tlet dirExists = basePath === '' || this.files().some(file => file.isDir && file.path === basePath);\n\t\tif (!dirExists) return Promise.reject({message: `The directory \"${basePath}\" does not exist`});\n\n\t\treturn fetchJson(this.apiURL('/file'), {method:'post', body: {name, content, isDir}})\n\t\t\t.then(response => {\n\t\t\t\tObject.assign(response, {studyId: this.id, content, path:name, isDir});\n\t\t\t\tlet file = fileFactory(response);\n\t\t\t\tfile.loaded = true;\n\t\t\t\tthis.files().push(file);\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.then(this.sort.bind(this));\n\t},\n\n\tsort(response){\n\t\tlet files = this.files().sort(sort);\n\t\tthis.files(files);\n\t\treturn response;\n\n\t\tfunction sort(a,b){\n\t\t\t// sort by isDir then name\n\t\t\tlet nameA= +!a.isDir + a.name.toLowerCase(), nameB=+!b.isDir + b.name.toLowerCase();\n\t\t\tif (nameA < nameB) return -1;//sort string ascending\n\t\t\tif (nameA > nameB) return 1;\n\t\t\treturn 0; //default return value (no sorting)\n\t\t}\n\t},\n\n\tuploadFiles(path, files){\n\t\tlet paths = Array.from(files, file => path === '/' ? file.name : path + '/' + file.name);\n\t\tlet formData = buildFormData(path === '/' ? '' : path, files);\n\t\t// validation (make sure files do not already exist)\n\t\tlet exists = this.files().find(file => paths.includes(file.path));\n\t\tif (exists) return Promise.reject({message: `The file \"${exists.path}\" already exists`});\n\n\t\treturn fetchUpload(this.apiURL(`/upload/${path === '/' ? '' : path}`), {method:'post', body:formData})\n\t\t\t.then(response => {\n\t\t\t\tresponse.forEach(src => {\n\t\t\t\t\tlet file = fileFactory(Object.assign({studyId: this.id},src));\n\t\t\t\t\tthis.files().push(file);\n\t\t\t\t});\n\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.then(this.sort.bind(this));\n\n\t\tfunction buildFormData(path, files) {\n\t\t\tvar formData = new FormData;\n\t\t\t// formData.append('path', path);\n\n\t\t\t// for (let file in files) {\n\t\t\t// \tformData.append('files', files[file]);\n\t\t\t// }\n\n\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\tformData.append(i, files[i]);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t}\n\t},\n\n\tdel(fileId){\n\t\tlet file = this.getFile(fileId);\n\t\treturn file.del()\n\t\t\t.then(() => {\n\t\t\t\tlet files = this.files()\n\t\t\t\t\t.filter(f => f.path.indexOf(file.path) !== 0); // all paths that start with the same path are deleted\n\t\t\t\tthis.files(files);\n\t\t\t});\n\t}\n};\n\nlet studyFactory = \tid =>{\n\tlet study = Object.create(studyPrototype);\n\tObject.assign(study, {\n\t\tid \t\t: id,\n\t\tfiles \t: m.prop([]),\n\t\tloaded \t: false,\n\t\terror \t:false\n\t});\n\n\treturn study;\n};\n","export default fullHeight;\nlet fullHeight = (element, isInitialized, ctx) => {\n\tif (!isInitialized){\n\t\tonResize();\n\n\t\twindow.addEventListener('resize', onResize, true);\n\n\t\tctx.onunload = function(){\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t};\n\n\t}\n\n\tfunction onResize(){\n\t\telement.style.height = document.documentElement.clientHeight - element.getBoundingClientRect().top + 'px';\n\t}\n};","export default imgEditor;\n\nlet imgEditor = ({file}) => m('div.img-editor.centrify', [\n\tm('img', {src:file.url})\n]);","export default pdfEditor;\n\nlet pdfEditor = ({file}) => m('object', {\n\tdata: file.url,\n\ttype: 'application/pdf',\n\twidth: '100%',\n\theight: '100%'\n});\n\n","export default unknownComponent;\n\nlet unknownComponent = () => m('.centrify', [\n\tm('i.fa.fa-file.fa-5x'),\n\tm('h5', 'Unknow file type')\n]);","export default messages;\n\nlet noop = ()=>{};\n\nlet messages = {\n\tvm: {isOpen: false},\n\n\topen: (type, opts={}) => {\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\tmessages.vm = {resolve,reject,type, opts, isOpen:true};\n\t\t});\n\t\tm.redraw();\n\n\t\treturn promise;\n\t},\n\n\tclose: response => {\n\t\tlet vm = messages.vm;\n\t\tvm.isOpen = false;\n\t\tif (typeof vm.resolve === 'function') vm.resolve(response);\n\t\tm.redraw();\n\t},\n\n\tcustom: opts=>messages.open('custom', opts),\n\talert: opts => messages.open('alert', opts),\n\tconfirm: opts => messages.open('confirm', opts),\n\tprompt: opts => messages.open('prompt', opts),\n\n\tview: () => {\n\t\tlet vm = messages.vm;\n\t\tlet close = messages.close.bind(null, null);\n\t\tlet stopPropagation = e => e.stopPropagation();\n\t\treturn m('#messages.backdrop', [\n\t\t\t!vm || !vm.isOpen\n\t\t\t\t? ''\n\t\t\t\t:[\n\t\t\t\t\tm('.overlay', {config:messages.config(vm.opts)}),\n\t\t\t\t\tm('.backdrop-content', {onclick:close}, [\n\t\t\t\t\t\tm('.card', {class: vm.opts.wide ? 'col-sm-8' : 'col-sm-5', config:maxHeight}, [\n\t\t\t\t\t\t\tm('.card-block', {onclick: stopPropagation}, [\n\t\t\t\t\t\t\t\tmessages.views[vm.type](vm.opts)\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t]);\n\n\t},\n\n\tconfig: (opts) => {\n\t\treturn (element, isInitialized, context) => {\n\t\t\tif (!isInitialized) {\n\t\t\t\tlet handleKey = function(e) {\n\t\t\t\t\tif (e.keyCode == 27) {\n\t\t\t\t\t\tmessages.close(null);\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode == 13 && !opts.preventEnterSubmits) {\n\t\t\t\t\t\tmessages.close(true);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tdocument.body.addEventListener('keyup', handleKey);\n\n\t\t\t\tcontext.onunload = function() {\n\t\t\t\t\tdocument.body.removeEventListener('keyup', handleKey);\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t},\n\n\tviews: {\n\t\tcustom: (opts={}) => opts.content,\n\n\t\talert: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('p.card-text', opts.content),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t},\n\n\t\tconfirm: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('p.card-text', opts.content),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(null)}, opts.okText || 'Cancel'),\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t},\n\n\t\t/**\n\t\t * Promise prompt(Object opts{header: String, content: String, name: Prop})\n\t\t *\n\t\t * where:\n\t\t *   any Prop(any value)\n\t\t */\n\t\tprompt: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\tlet prop = opts.prop || noop;\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('.card-text', opts.content),\n\t\t\t\tm('.card-block', [\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tkey: 'prompt',\n\t\t\t\t\t\tvalue: prop(),\n\t\t\t\t\t\tonchange: m.withAttr('value', prop),\n\t\t\t\t\t\tconfig: (element, isInitialized) => {\n\t\t\t\t\t\t\tif (!isInitialized) element.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t]),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(null)}, opts.okText || 'Cancel'),\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t}\n\t}\n};\n\n\n// set message max height, so that content can scroll within it.\nlet maxHeight = (element, isInitialized, ctx) => {\n\tif (!isInitialized){\n\t\tonResize();\n\n\t\twindow.addEventListener('resize', onResize, true);\n\n\t\tctx.onunload = function(){\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t};\n\n\t}\n\n\tfunction onResize(){\n\t\telement.style.maxHeight = document.documentElement.clientHeight * 0.9 + 'px';\n\t}\n\n};\n","import messages from 'utils/messagesComponent';\n\nexport let uploadFiles = (path,study) => files => {\n\tstudy\n\t\t.uploadFiles(path, files)\n\t\t.catch(response => messages.alert({\n\t\t\theader: 'Upload File',\n\t\t\tcontent: response.message\n\t\t}))\n\t\t.then(m.redraw);\n};\n\n\nexport let moveFile = (file,study) => () => {\n\tlet newPath = m.prop(file.path);\n\treturn messages.prompt({\n\t\theader: 'Move/Rename File',\n\t\tprop: newPath\n\t})\n\t\t.then(response => {\n\t\t\tif (response) return moveAction(file,study);\n\t\t});\n\n\tfunction moveAction(file,study){\n\t\tlet def = file\n\t\t\t.move(newPath(),study) // the actual movement\n\t\t\t.then(redirect)\n\t\t\t.catch(response => messages.alert({\n\t\t\t\theader: 'Move/Rename File',\n\t\t\t\tcontent: response.message\n\t\t\t}))\n\t\t\t.then(m.redraw); // redraw after server response\n\n\t\tm.redraw();\n\t\treturn def;\n\t}\n\n\tfunction redirect(response){\n\t\tm.route(`/editor/${study.id}/file/${file.id}`);\t\n\t\treturn response;\n\t}\n};\n\nlet playground;\nexport let play = (file,study) => () => {\n\tlet isSaved = study.files().every(file => !file.hasChanged());\t\n\n\tif (isSaved) open();\n\telse messages.confirm({\n\t\theader: 'Play task',\n\t\tcontent: 'You have unsaved files, the player will use the saved version, are you sure you want to proceed?'\t\n\t}).then(response => response && open());\n\n\tfunction open(){\n\t\t// this is important, if we don't close the original window we get problems with onload\n\t\tif (playground && !playground.closed) playground.close();\n\n\t\tplayground = window.open('playground.html', 'Playground');\n\t\tplayground.onload = function(){\n\t\t\t// first set the unload listener\n\t\t\tplayground.addEventListener('unload', function() {\n\t\t\t\t// get focus back here\n\t\t\t\twindow.focus();\n\t\t\t});\n\n\t\t\t// then activate the player (this ensures that when )\n\t\t\tplayground.activate(file);\n\t\t\tplayground.focus();\n\t\t};\n\t}\n};\n\nexport let save = file => () => {\n\tfile.save()\n\t\t.then(m.redraw)\n\t\t.catch(err => messages.alert({\n\t\t\theader: 'Error Saving:',\n\t\t\tcontent: err.message\n\t\t}));\n};\n\nexport let copyUrl = file => () => {\n\tlet input = document.createElement('input');\n\tinput.value = file.url;\n\tdocument.body.appendChild(input);\n\tinput.select();\n\tif (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){\n\t\tmessages.alert({\n\t\t\theader: 'Copy URL',\n\t\t\tcontent: m('.card-block', [\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Copy Url by clicking Ctrl + C'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: el => el.select(),\n\t\t\t\t\t\tvalue: file.url\n\t\t\t\t\t})\n\t\t\t\t])\n\t\t\t])\n\t\t});\n\t}\n\n\ttry {\n\t\tdocument.execCommand('copy');\n\t} catch(err){\n\t\tmessages.alert({\n\t\t\theader: 'Copy URL',\n\t\t\tcontent: 'Copying the URL has failed.'\n\t\t});\n\t}\n\n\tinput.parentNode.removeChild(input);\n};\n\n\n// add trailing slash if needed, and then remove proceeding slash\n// return prop\nlet pathProp = path => m.prop(path.replace(/\\/?$/, '/').replace(/^\\//, ''));\n\nexport let  createFile = (study, name, content) => {\n\tstudy.createFile({name:name(), content:content()})\n\t\t.then(response => {\n\t\t\tm.route(`/editor/${study.id}/file/${encodeURIComponent(response.id)}`);\n\t\t\treturn response;\n\t\t})\n\t\t.catch(err => messages.alert({\n\t\t\theader: 'Failed to create file:',\n\t\t\tcontent: err.message\n\t\t}));\n};\n\nexport let createDir = (study, path='') => () => {\n\tlet name = pathProp(path);\n\n\tmessages.prompt({\n\t\theader: 'Create Directory',\n\t\tcontent: 'Please insert directory name',\n\t\tprop: name\n\t})\n\t\t.then(response => {\n\t\t\tif (response) return study.createFile({name:name(), isDir:true});\n\t\t})\n\t\t.then(m.redraw)\n\t\t.catch(err => messages.alert({\n\t\t\theader: 'Failed to create directory:',\n\t\t\tcontent: err.message\n\t\t}));\n};\n\nexport let createEmpty = (study, path = '') => () => {\n\tlet name = pathProp(path);\n\tlet content = ()=>'';\n\n\tmessages.prompt({\n\t\theader: 'Create file',\n\t\tcontent: 'Please insert the file name:',\n\t\tprop: name\n\t}).then(response => {\n\t\tif (response) return createFile(study, name,content);\n\t});\n};\n","import fullHeight from 'utils/fullHeight';\nexport default ace;\n\nlet ace = args => m.component(aceComponent, args);\n\nlet noop = function(){};\n\nlet aceComponent = {\n\tview: function editorView(ctrl, args){\n\t\treturn m('.editor', {config: aceComponent.config(args)});\n\t},\n\n\tconfig: function({content, observer, settings = {}}){\n\t\treturn function(element, isInitialized, ctx){\n\t\t\tlet editor;\n\t\t\tlet mode = settings.mode || 'javascript';\n\n\t\t\t// paster with padding\n\t\t\tlet paste = text => {\n\t\t\t\tif (!editor) return false;\n\t\t\t\tlet pos = editor.getSelectionRange().start; \n\t\t\t\tlet line = editor.getSession().getLine(pos.row);\n\t\t\t\tlet padding = line.match(/^\\s*/);\n\t\t\t\t// replace all new lines with padding\n\t\t\t\tif (padding) text = text.replace(/(?:\\r\\n|\\r|\\n)/g, '\\n' + padding[0]);\n\t\t\t\t\n\t\t\t\teditor.insert(text);\n\t\t\t\teditor.focus();\n\t\t\t};\n\n\t\t\tif (!isInitialized){\n\t\t\t\tfullHeight(element, isInitialized, ctx);\n\n\t\t\t\trequire(['ace/ace'], function(ace){\n\t\t\t\t\tace.config.set('packaged', true);\n\t\t\t\t\tace.config.set('basePath', require.toUrl('ace'));\n\n\t\t\t\t\teditor = ctx.editor = ace.edit(element);\n\t\t\t\t\tlet session = editor.getSession();\n\t\t\t\t\tlet commands = editor.commands;\n\n\t\t\t\t\teditor.setTheme('ace/theme/cobalt');\n\t\t\t\t\tsession.setMode('ace/mode/' + mode);\n\t\t\t\t\tif (mode !== 'javascript') session.setUseWorker(false);\n\t\t\t\t\teditor.setHighlightActiveLine(true);\n\t\t\t\t\teditor.setShowPrintMargin(false);\n\t\t\t\t\teditor.setFontSize('18px');\n\t\t\t\t\teditor.$blockScrolling = Infinity; // scroll to top\n\n\t\t\t\t\t// set jshintOptions\n\t\t\t\t\teditor.session.on('changeMode', function(e, session){\n\t\t\t\t\t\tif (session.getMode().$id === 'ace/mode/javascript' && !!session.$worker && settings.jshintOptions) {\n\t\t\t\t\t\t\tsession.$worker.send('setOptions', [settings.jshintOptions]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.on('change', function(){\n\t\t\t\t\t\tcontent(editor.getValue());\n\t\t\t\t\t\tm.redraw();\n\t\t\t\t\t});\n\n\t\t\t\t\tcommands.addCommand({\n\t\t\t\t\t\tname: 'save',\n\t\t\t\t\t\tbindKey: {win: 'Ctrl-S', mac: 'Command-S'},\n\t\t\t\t\t\texec: settings.onSave || noop\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(observer) observer.on('paste',paste );\n\t\t\t\t\t\n\t\t\t\t\tsetContent();\n\t\t\t\t\tsession.setUndoManager(new ace.UndoManager()); // reset undo manager so that ctrl+z doesn't erase file\n\t\t\t\t\teditor.focus();\n\t\t\t\t\t\n\t\t\t\t\tctx.onunload = () => {\n\t\t\t\t\t\teditor.destroy();\n\t\t\t\t\t\tif(observer) observer.off(paste );\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t}\n\t\t\t\n\t\t\t// each redraw set content from model (the function makes sure that this is not done when not needed...)\n\t\t\tsetContent();\n\n\t\t\tfunction setContent(){\n\t\t\t\tlet editor = ctx.editor;\n\t\t\t\tif (!editor) return;\n\t\t\t\t\n\t\t\t\t// this should trigger only drastic changes such as the first time the editor is set\n\t\t\t\tif (editor.getValue() !== content()){\n\t\t\t\t\teditor.setValue(content());\n\t\t\t\t\teditor.moveCursorTo(0,0);\n\t\t\t\t\teditor.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n};\n","export  default observer;\n\nfunction observer(){\n\tlet channels = {};\n\treturn {\n\t\ton(channel,cb){\n\t\t\tchannels[channel] || (channels[channel] = []);\n\t\t\tchannels[channel].push(cb);\n\t\t},\n\t\toff(cb){\n\t\t\tfor (let channel in channels) {\n\t\t\t\tlet index = channels[channel].indexOf(cb);\n\t\t\t\tif (index > -1) channels[channel].splice(index, 1);\n\t\t\t}\n\t\t},\n\t\ttrigger(channel, ...args){\n\t\t\tif (!channels[channel]) return;\n\t\t\tchannels[channel].forEach(cb => cb.apply(null, args));\n\t\t}\n\t};\n}\n","export default syntax;\n\nlet syntax = args => m.component(syntaxComponent, args);\n\n/**\n * Syntax component\n * Takes an argument as follows:\n *\n * {valid: Boolean, data: jshint(script).data()}\n */\nvar syntaxComponent = {\n\n\t/**\n\t * Analyze script\n\t * @param  {String} script A script to analyze\n\t * @return {Object}\n\t * {\n\t *      isValid: Boolean,\n\t *      data: Object, // raw data\n\t *      errors: Array, // an array of analyzed errors\n\t *      errorCount: Number, // the number of errors\n\t *      warningCount: Number // the number of warnings\n\t * }\n\t */\n\tanalize: (isValid, data) => {\n\t\tvar errorCount = 0;\n\t\tvar warningCount = 0;\n\t\tvar errors = isValid ? [] : data.errors\n\t\t\t.filter(e => e) // clean null values\n\t\t\t.map(err => {\n\t\t\t\tvar isError = err.code && (err.code[0] === 'E');\n\n\t\t\t\tisError ? errorCount++ : warningCount++;\n\n\t\t\t\treturn {\n\t\t\t\t\tisError: isError,\n\t\t\t\t\tline: err.line,\n\t\t\t\t\tcol: err.character,\n\t\t\t\t\treason: err.reason,\n\t\t\t\t\tevidence: err.evidence\n\t\t\t\t};\n\t\t\t});\n\t\treturn {\n\t\t\tisValid: isValid,\n\t\t\tdata: data,\n\t\t\terrors : errors,\n\t\t\terrorCount: errorCount,\n\t\t\twarningCount: warningCount\n\t\t};\n\t},\n\n\tcontroller:  args => {\n\t\tvar file = args.file;\n\t\treturn syntaxComponent.analize(file.syntaxValid, file.syntaxData);\n\t},\n\n\tview: ctrl => {\n\t\treturn m('div', [\n\t\t\tctrl.isValid\n\t\t\t\t?\n\t\t\t\tm('div', {class:'alert alert-success'}, [\n\t\t\t\t\tm('strong','Well done!'),\n\t\t\t\t\t'Your script is squeaky clean'\n\t\t\t\t])\n\t\t\t\t:\n\t\t\t\tm('div', [\n\t\t\t\t\tm('table.table', [\n\t\t\t\t\t\tm('tbody', ctrl.errors.map(err => {\n\t\t\t\t\t\t\treturn m('tr',[\n\t\t\t\t\t\t\t\tm('td.text-muted', `line ${err.line}`),\n\t\t\t\t\t\t\t\tm('td.text-muted', `col ${err.col}`),\n\t\t\t\t\t\t\t\tm('td', {class: err.isError ? 'text-danger' : 'text-info'}, err.reason),\n\t\t\t\t\t\t\t\tm('td',err.evidence)\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t}))\n\t\t\t\t\t]),\n\n\t\t\t\t\tm('.row',[\n\t\t\t\t\t\tm('.col-md-6', [\n\t\t\t\t\t\t\tm('div', {class:'alert alert-danger'}, [\n\t\t\t\t\t\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t\t\t\t\t\t`You have ${ctrl.errorCount} critical errors.`\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('.col-md-6', [\n\t\t\t\t\t\t\tm('div', {class:'alert alert-info'}, [\n\t\t\t\t\t\t\t\tm('strong',{class:'glyphicon glyphicon-warning-sign'}),\n\t\t\t\t\t\t\t\t`You have ${ctrl.warningCount} non standard syntax errors.`\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\n\t\t\t\t])\n\t\t]);\n\t}\n};\n","export function warn(message, test){\n\treturn {level:'warn', message: message, test:test};\n}\n\nexport function error(message, test){\n\treturn {level:'error', message: message, test:test};\n}\n\nexport function row(element, testArr){\n\tvar messages = flatten(testArr)\n\t\t.filter(msg => msg) // clean empty\n\t\t.filter(msg => typeof msg.test == 'function' ? msg.test(element) : !!msg.test); // run test...\n\n\treturn !messages.length ? null : {\n\t\telement: element,\n\t\tmessages: messages\n\t};\n}\n\nfunction flatten(arr) {\n\treturn arr.reduce(function (flat, toFlatten) {\n\t\treturn flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n\t}, []);\n}","function multiPick(arr, propArr){\n\treturn arr\n\t\t.map(e=> e && [].concat(e[propArr[0]], e[propArr[1]], e[propArr[2]])) // gather all stim arrays\n\t\t.reduce((previous, current)=>previous.concat(current),[]) // flatten arrays\n\t\t.filter(t=>t); // remove all undefined stim\n}\n\nfunction flattenSequence(sequence){\n\tfunction unMix(e){\n\t\treturn flattenSequence([].concat(e.data, e.elseData, (e.branches || []).map(e=>e.data)));\n\t}\n\n\treturn sequence\n\t\t.reduce((previous, current) => {return previous.concat(current && current.mixer ? unMix(current) : current);},[])\n\t\t.filter(t=>t); // remove all undefined stim;\n}\n\nfunction concatClean(){\n\tvar args = [].splice.call(arguments,0);\n\treturn [].concat.apply([], args).filter(e=>e);\n}\n\nexport function pipElements(script){\n\tvar trials, stimuli, media;\n\n\ttrials = concatClean(flattenSequence(script.sequence), script.trialSets);\n\tstimuli = concatClean(\n\t\tscript.stimulusSets,\n\t\tmultiPick(trials,['stimuli', 'layout'])\n\t);\n\tmedia = concatClean(\n\t\tscript.mediaSets,\n\t\tmultiPick(stimuli,['media','touchMedia'])\n\t);\n\n\treturn {trials:trials, stimuli:stimuli, media:media};\n}\n\nexport function questElements(script){\n\tvar pages, questions;\n\n\tpages = [].concat(\n\t\tflattenSequence(script.sequence),\n\t\tscript.pagesSets\n\t).filter(t=>t);\n\n\tquestions = [].concat(\n\t\tscript.questionsSets,\n\t\tflattenSequence(multiPick(pages,['questions']))\n\t).filter(t=>t);\n\n\treturn {pages:pages, questions:questions};\n}\n\nexport function managerElements(script){\n\tvar tasks;\n\n\ttasks = [].concat(\n\t\tflattenSequence(script.sequence),\n\t\tscript.pagesSets\n\t).filter(t=>t);\n\n\treturn {tasks:tasks};\n}","import {warn, error, row} from './messages';\nimport {pipElements} from './parser';\n\nexport default pipValidator;\n\nfunction pipValidator(script, url){\n\tvar errors = [];\n\tvar elements = pipElements(script);\n\n\terrors.push({type:'Settings',errors: checkSettings(script, url)});\n\terrors.push({type:'Trials',errors: filterMap(elements.trials, trialTest)});\n\t// errors.push({type:'Stimuli',errors: filterMap(elements.stimuli, stimuliTest)});\n\t// errors.push({type:'Media',errors: filterMap(elements.media, mediaTest)});\n\n\treturn errors;\n}\n\nfunction filterMap(arr, fn){\n\treturn arr.map(fn).filter(e=>e);\n}\n\n/**\n * Check settings\n * @param  {Object} script The script to be tested\n * @param  {String} url    The script origin URL\n * @return {Array}        Array of error rows\n */\nfunction checkSettings(script, url){\n\tvar settings = script.settings || {};\n\n\tvar w = byProp(warn);\n\t// var e = byProp(error);\n\n\tvar errors = [\n\t\tr('base_url', [\n\t\t\tw('Your base_url is not in the same directory as your script.', e => {\n\t\t\t\t// use this!!!\n\t\t\t\t// http://stackoverflow.com/questions/4497531/javascript-get-url-path\n\t\t\t\tvar getPath = url => {\n\t\t\t\t\tvar a = document.createElement('a');\n\t\t\t\t\ta.href = url;\n\t\t\t\t\treturn a.pathname;\n\t\t\t\t};\n\n\t\t\t\tvar path = getPath(url).substring(0, url.lastIndexOf('/') + 1); // get path but remove file name\n\t\t\t\tvar t = s => (!s || getPath(s).indexOf(path) !== 0);\n\n\t\t\t\treturn (typeof e == 'object') ? t(e.image) && t(e.template) : t(e);\n\t\t\t})\n\t\t])\n\t];\n\n\treturn errors.filter(function(err){return !!err;});\n\n\tfunction r(prop, arr){\n\t\tvar el = {};\n\t\tel[prop] = settings[prop];\n\t\treturn prop in settings && row(el, arr);\n\t}\n\n\t// wrap warn/error so that I don't have to individually\n\tfunction byProp(fn){\n\t\treturn function(msg, test){\n\t\t\treturn fn(msg, e => {\n\t\t\t\tfor (var prop in e) {\n\t\t\t\t\treturn test(e[prop]);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t}\n}\n\nfunction trialTest(trial) {\n\tvar tests = [\n\t\ttestInteractions(trial.interactions),\n\t\ttestInput(trial.input)\n\t];\n\n\treturn row(trial, tests);\n\n\tfunction testInteractions(interactions){\n\t\tif (!interactions) {return;}\n\n\t\tif (!Array.isArray(interactions)){\n\t\t\treturn [error('Interactions must be an array.', true)];\n\t\t}\n\n\t\treturn  interactions.map((interaction, index) => {\n\t\t\treturn [\n\t\t\t\t!interaction.conditions ? error(`Interaction [${index}] must have conditions`, true) : [\n\t\t\t\t\terror(`Interaction conditon [${index}] must have a type`, toArray(interaction.conditions).some(c=>!c.type))\n\t\t\t\t],\n\t\t\t\t!interaction.actions ? error(`Interaction [${index}] must have actions`, true) : [\n\t\t\t\t\terror(`Interaction action [${index}] must have a type`, toArray(interaction.actions).some(a=>!a.type))\n\t\t\t\t]\n\t\t\t];\n\t\t});\n\n\n\t\tfunction toArray(arr){\n\t\t\treturn Array.isArray(arr) ? arr : [arr];\n\t\t}\n\n\t}\n\n\tfunction testInput(input){\n\t\tif (!input) {return;}\n\n\t\tif (!Array.isArray(trial.input)){\n\t\t\treturn [error('Input must be an Array', true)];\n\t\t}\n\n\t\treturn [\n\t\t\terror('Input must always have a handle', input.some(i=>!i.handle)),\n\t\t\terror('Input must always have an on attribute', input.some(i=>!i.on))\n\t\t];\n\t}\n}\n\nfunction stimuliTest(stim){\n\tvar tests = [];\n\treturn row(stim, tests);\n}\n\nfunction mediaTest(media){\n\tvar tests = [\n\n\t];\n\treturn row(media, tests);\n}","import messages from './messages';\nimport {questElements} from './parser';\n\nexport default function questValidator(script){\n\tvar errors = [];\n\n\terrors.push({type:'Settings', errors:[]});\n\terrors.push({type:'Pages', errors:[]});\n\terrors.push({type:'Questions', errors:[]});\n\n\treturn errors;\n}","\nimport {warn, error} from './messages';\nimport {managerElements} from './parser';\n\nexport default function managerValidator(script){\n\tvar errors = [];\n\tvar elements = managerElements(script);\n\n\terrors.push({type:'Settings', errors:[]});\n\terrors.push({type:'Tasks', errors:[]});\n\n\treturn errors;\n}\n\n\n\n","import pipValidate from './pipValidator';\nimport questValidate from './questValidator';\nimport managerValidate from './managerValidator';\n\nexport default function validate(script){\n\tvar type = script.type && script.type.toLowerCase();\n\tswitch (type){\n\tcase 'pip' : return pipValidate.apply(null, arguments);\n\tcase 'quest' : return questValidate.apply(null, arguments);\n\tcase 'manager' : return managerValidate.apply(null, arguments);\n\tdefault:\n\t\tthrow new Error('Unknown script.type: ' + type);\n\t}\n}\n\nexport function dd(){\n\treturn [\n\t\t{\n\t\t\ttype: 'task',\n\t\t\terrosrs:[],\n\t\t\terrors: [\n\t\t\t\t{\n\t\t\t\t\telement: {name:'myName', content: [1,2,3]},\n\t\t\t\t\tmessages: [\n\t\t\t\t\t\t{level:'error', message: 'error message1'},\n\t\t\t\t\t\t{level:'warn', message: 'warn message2'},\n\t\t\t\t\t\t{level:'warn', message: 'warn message3'},\n\t\t\t\t\t\t{level:'error', message: 'error message4'}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\telement: {name:'otherName', content: [1,2,3]},\n\t\t\t\t\tmessages: [\n\t\t\t\t\t\t{level:'warn', message: 'warn message1'},\n\t\t\t\t\t\t{level:'error', message: 'error message2'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\n\t];\n}\n","import validator from './parser/validator';\nexport default validate;\n\nlet validate = args => m.component(validateComponent, args);\n\nvar validateComponent = {\n\tcontroller: args => {\n\t\tvar file = args.file;\n\t\tvar ctrl = {\n\t\t\tvalidations : m.prop([]),\n\t\t\tisError: false\n\t\t};\n\n\t\tm.startComputation();\n\t\tfile\n\t\t\t.define()\n\t\t\t.then(()=>{\n\t\t\t\treturn file.require();\n\t\t\t})\n\t\t\t.then(script => {\n\t\t\t\tctrl.validations(validator(script, file.url));\n\t\t\t\tm.endComputation();\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tctrl.isError = true;\n\t\t\t\tm.endComputation();\n\t\t\t});\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\treturn  m('div', [\n\t\t\t!ctrl.isError ? '' :\tm('div', {class:'alert alert-danger'}, [\n\t\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t\t`There was a problem parsing this script. Are you sure that it is a valid PI script? Make sure you fix all syntax errors.`\n\t\t\t]),\n\n\t\t\tctrl.validations().map(validationReport => {\n\t\t\t\treturn [\n\t\t\t\t\tm('h4', validationReport.type),\n\t\t\t\t\t!validationReport.errors.length\n\t\t\t\t\t\t?\n\t\t\t\t\t\tm('div', {class:'alert alert-success'}, [\n\t\t\t\t\t\t\tm('strong','Well done!'),\n\t\t\t\t\t\t\t'Your script is squeaky clean'\n\t\t\t\t\t\t])\n\t\t\t\t\t\t:\n\t\t\t\t\t\tvalidationReport.errors.map(err => {\n\t\t\t\t\t\t\treturn m('.row',[\n\t\t\t\t\t\t\t\tm('.col-md-4.stringified',\n\t\t\t\t\t\t\t\t\tm('div', {class:'pre'}, m.trust(stringify(err.element)))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tm('.col-md-8',[\n\t\t\t\t\t\t\t\t\tm('ul', err.messages.map(msg => {\n\t\t\t\t\t\t\t\t\t\treturn m('li.list-unstyled', {class: msg.level == 'error' ? 'text-danger' : 'text-info'}, [\n\t\t\t\t\t\t\t\t\t\t\tm('strong', msg.level),\n\t\t\t\t\t\t\t\t\t\t\tmsg.message\n\t\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t})\n\n\t\t]);\n\t}\n};\n\n\nfunction stringify(value, pretty) {\n\tif (value == null) { // null || undefined\n\t\treturn '<i class=\"text-muted\">undefined</i>';\n\t}\n\tif (value === '') {\n\t\treturn '<i class=\"text-muted\">an empty string</i>';\n\t}\n\n\tswitch (typeof value) {\n\t\tcase 'string':\n\t\t\tbreak;\n\t\tcase 'number':\n\t\t\tvalue = '' + value;\n\t\t\tbreak;\n\t\tcase 'object':\n\t\t\t// display the error message not the full thing...\n\t\t\tif (value instanceof Error){\n\t\t\t\tvalue = value.message;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t/* fall through */\n\t\tdefault:\n\t\t\t// @TODO: implement this: http://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript\n\t\t\tvalue = syntaxHighlight(JSON.stringify(value, null, 4));\n\t}\n\n\treturn value;\n}\n\n\nfunction syntaxHighlight(json) {\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n            if (/:$/.test(match)) {\n                cls = 'key';\n            } else {\n                cls = 'string';\n            }\n        } else if (/true|false/.test(match)) {\n            cls = 'boolean';\n        } else if (/null/.test(match)) {\n            cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n    });\n}\n","const END_LINE = '\\n';\nconst TAB = '\\t';\nexport let indent = (str, tab = TAB) => str.replace(/^/gm, tab);\n\nexport let print = obj => {\n\tswitch (typeof obj) {\n\t\tcase 'boolean': return obj ? 'true' : 'false';\n\t\tcase 'string' : return printString(obj); \n\t\tcase 'number' : return obj + '';\n\t\tcase 'undefined' : return 'undefined';\n\t\tcase 'function': \n\t\t\tif (obj.toJSON) return print(obj()); // Support m.prop\n\t\t\telse return obj.toString();\n\t}\n\n\tif (obj === null) return 'null';\n\n\tif (Array.isArray(obj)) return printArray(obj);\n\t\n\treturn printObj(obj);\n\n\tfunction printString(str){\n\t\treturn str === '' ? str : str\n\t\t\t// escape string\n\t\t\t.replace(/[\\\\\"']/g, '\\\\$&')\n\t\t\t.replace(/\\u0000/g, '\\\\0')\n\t\t\t// manage rows separately\n\t\t\t.split(END_LINE)\n\t\t\t.map(str => `'${str}'`)\n\t\t\t.join(` +${END_LINE}${TAB}`);\n\t}\n\t\n\tfunction printArray(arr){\n\t\tlet isShort = arr.every(element => ['string', 'number', 'boolean'].includes(typeof element) && (element.length === undefined || element.length < 15) );\n\t\tlet content = arr\n\t\t\t.map(value => print(value))\n\t\t\t.join(isShort ? ', ' : ',\\n');\n\n\t\treturn isShort\n\t\t\t? `[${content}]`\n\t\t\t: `[\\n${indent(content)}\\n]`;\n\t}\n\n\tfunction printObj(obj){\n\t\tlet content = Object.keys(obj)\n\t\t\t.map(key => `${escapeKey(key)} : ${print(obj[key])}`)\n\t\t\t.map(row => indent(row))\n\t\t\t.join(',' + END_LINE);\n\t\treturn `{\\n${content}\\n}`;\n\n\t\tfunction escapeKey(key){\n\t\t\treturn /[^1-9a-zA-Z$_]/.test(key) ? `'${key}'` : key;\n\t\t}\n\t}\n};\n","export default inputWrapper;\nlet inputWrapper = (view,opts={}) => (ctrl, args) => {\n\tlet isValid = !ctrl.validity || ctrl.validity();\n\tlet groupClass;\n\tlet inputClass;\n\tlet isFormControl = opts.isFormControl !== false;\n\n\tif (ctrl.showValidation && ctrl.showValidation() && !isValid){\n\t\tgroupClass = isValid ? 'has-success' : 'has-danger';\n\t\tinputClass = isValid ? 'form-controll-success' : 'form-control-error';\n\t}\n\n\treturn args.isStack\n\t\t? m('.form-group', {class: groupClass}, [\n\t\t\targs.label != null ? m('label', args.label) : '',\n\t\t\tview(ctrl, args, {inputClass}),\n\t\t\targs.help && m('small.text-muted.m-y-0', args.help )\n\t\t])\n\t\t: m('.form-group.row', {class: groupClass}, [\n\t\t\tm('label.col-sm-2', {class: isFormControl ? 'form-control-label' : ''}, args.label),\n\t\t\tm('.col-sm-10', [\n\t\t\t\tview(ctrl, args, {inputClass})\n\t\t\t]),\n\t\t\targs.help && m('small.text-muted.col-sm-offset-2.col-sm-10.m-y-0', args.help )\n\t\t]);\n};\n","import inputWrapper from './inputWrapper';\nexport default textInputComponent;\n\nlet textInputComponent  = {\n\tcontroller({prop, form, required = false}) {\n\t\tif (!form) throw new Error('Text input requires a form');\n\t\t\n\t\tlet validity = () => !required || prop().length;\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation};\n\t},\n\n\tview: inputWrapper((ctrl, {prop, isArea = false, isFirst = false, placeholder = '', help, rows = 3}, {inputClass}) => {\n\t\treturn !isArea\n\t\t\t? m('input.form-control', {\n\t\t\t\tclass: inputClass,\n\t\t\t\tplaceholder: placeholder,\n\t\t\t\tvalue: prop(),\n\t\t\t\tonkeyup: m.withAttr('value', prop),\n\t\t\t\tconfig: (element, isInit) => isFirst && isInit && element.focus()\n\t\t\t})\n\t\t\t: m('textarea.form-control', {\n\t\t\t\tclass: inputClass,\n\t\t\t\tplaceholder: placeholder,\n\t\t\t\tonkeyup: m.withAttr('value', prop),\n\t\t\t\trows,\n\t\t\t\tconfig: (element, isInit) => isFirst && isInit && element.focus()\n\t\t\t} , [prop()]);\n\t})\n};\n","import inputWrapper from './inputWrapper';\nexport default maybeInputComponent;\n\nlet  maybeInputComponent = {\n\tcontroller({prop, form, required, dflt}){\n\t\tif (!form) throw new Error('Inputs require a form');\n\n\t\tlet text = m.prop(typeof prop() == 'boolean' ? dflt || '' : prop());\n\t\tlet checked = m.prop(!!prop()); \n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation,\n\t\t\ttext: function(value){\n\t\t\t\tif (arguments.length){\n\t\t\t\t\ttext(value);\n\t\t\t\t\tprop(value || true);\n\t\t\t\t}\n\t\t\t\treturn text();\n\t\t\t},\n\t\t\tchecked: function(value){\n\t\t\t\tif (arguments.length) {\n\t\t\t\t\tchecked(value);\n\t\t\t\t\tif (checked() && text()) prop(text());\n\t\t\t\t\telse prop(checked());\n\t\t\t\t}\n\t\t\t\treturn checked();\n\t\t\t}\t\n\t\t};\n\t},\n\tview: inputWrapper(({text, checked}, args) => {\n\t\tlet placeholder = args.placeholder || '';\n\t\treturn m('.input-group', [\n\t\t\tm('span.input-group-addon', [\n\t\t\t\tm('input', {\n\t\t\t\t\ttype:'checkbox',\n\t\t\t\t\tonclick: m.withAttr('checked', checked),\n\t\t\t\t\tchecked: checked()\n\t\t\t\t})\n\t\t\t]),\n\t\t\tm('input.form-control', {\n\t\t\t\tplaceholder: placeholder,\n\t\t\t\tvalue: text(),\n\t\t\t\tonkeyup: m.withAttr('value', text),\n\t\t\t\tdisabled: !checked()\n\t\t\t})\n\t\t]);\n\t})\n};\n","import inputWrapper from './inputWrapper';\nexport default checkboxInputComponent;\n\nlet  checkboxInputComponent = {\n\tcontroller({prop, form, required}){\n\t\tif (!form) throw new Error('Inputs require a form');\n\t\t\n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation};\n\t},\n\tview: inputWrapper((ctrl, {prop, description = ''}) => {\n\t\treturn m('div', [\n\t\t\tm('label.c-input.c-checkbox', [\n\t\t\t\tm('input.form-control', {\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tonclick: m.withAttr('checked', prop),\n\t\t\t\t\tchecked: prop()\n\t\t\t\t}),\n\t\t\t\tm('span.c-indicator'),\n\t\t\t\tm.trust('&nbsp;'),\n\t\t\t\tm('span.text-muted', description)\n\t\t\t])\n\t\t]);\n\t},{isFormControl:false})\n};\n","import inputWrapper from './inputWrapper';\nexport default selectInputComponent;\n\nlet selectInputComponent = {\n\tcontroller({prop, form, required}){\n\t\tif (!form) throw new Error('Inputs require a form');\n\n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation};\n\t},\n\tview: inputWrapper((ctrl, {prop, isFirst = false, values = {}}) => {\n\t\treturn m('.input-group', [\n\t\t\tm('select.c-select', {\n\t\t\t\tonchange: m.withAttr('value', prop),\n\t\t\t\tconfig: (element, isInit) => isFirst && isInit && element.focus()\n\t\t\t}, Object.keys(values).map(key => m('option', {value:values[key]},key)))\n\t\t]);\n\t})\n};\n\n","export default transformProp;\n\n/**\n * TransformedProp transformProp(Prop prop, Map input, Map output)\n * \n * where:\n *\tProp :: m.prop\n *\tMap  :: any Function(any)\n *\n *\tCreates a Transformed prop that pipes the prop through transformation functions.\n **/\nlet transformProp = ({prop, input, output}) => {\n\tlet p = (...args) => {\n\t\tif (args.length) prop(input(args[0]));\n\t\treturn output(prop());\n\t};\n\n\tp.toJSON = () => output(prop());\n\n\treturn p;\n};\n","import textInputComponent from './textInput';\nimport transformProp from 'utils/transformProp';\nexport default arrayInput;\n\nlet arrayInput = args => {\n\tlet identity = arg => arg;\n\tlet fixedArgs = Object.assign(args);\n\tfixedArgs.prop = transformProp({\n\t\tprop: args.prop,\n\t\toutput: arr => arr.map(args.fromArr || identity).join('\\n'),\n\t\tinput: str => str === '' ? [] : str.replace(/\\n*$/, '').split('\\n').map(args.toArr || identity)\n\t});\n\n\treturn m.component(textInputComponent, fixedArgs);\n};\n\n","import inputWrapper from './inputWrapper';\nexport default selectInputComponent;\n\nlet selectInputComponent = {\n\tcontroller({prop, form, required}){\n\t\tif (!form) throw new Error('Inputs require a form');\n\n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation};\n\t},\n\tview: inputWrapper((ctrl, {prop, values = {}}) => {\n\t\treturn m('.c-inputs-stacked', Object.keys(values)\n\t\t\t.map(key => m('label.c-input.c-radio', [\n\t\t\t\tm('input', {type:'radio', checked: values[key] === prop(), onchange: prop.bind(null, values[key])}),\n\t\t\t\tm('span.c-indicator'),\n\t\t\t\tkey\n\t\t\t])));\n\t})\n};\n\n","import textInputComponent from './forms/textInput';\nimport maybeInputComponent from './forms/maybeInput';\nimport checkboxInputComponent from './forms/checkboxInput';\nimport selectInputComponent from './forms/selectInput';\nimport arrayInputSrc from './forms/arrayInput';\nimport radioInputComponent from './forms/radioInput';\n\nexport function formFactory(){\n\tlet validationHash = [];\n\treturn {\n\t\tregister(fn){\n\t\t\tvalidationHash.push(fn);\n\t\t},\n\t\tisValid() {\n\t\t\treturn validationHash.every(fn => fn.call());\n\t\t},\n\t\tshowValidation: m.prop(false)\n\t};\n}\n\nexport let textInput = args => m.component(textInputComponent, args);\nexport let maybeInput = args => m.component(maybeInputComponent, args);\nexport let checkboxInput = args => m.component(checkboxInputComponent, args);\nexport let selectInput = args => m.component(selectInputComponent, args);\nexport let radioInput = args => m.component(radioInputComponent, args);\nexport let arrayInput = arrayInputSrc;\n","import inputWrapper from 'utils/forms/inputWrapper';\nexport default inheritInput;\n\nlet inheritInput = args => m.component(inheritInputComponent, args);\n\nlet inheritInputComponent = {\n\tcontroller({prop}){\n\t\tlet value = prop();\n\t\tlet rawType = m.prop(typeof value === 'string' ? 'random' : value.type);\n\t\tlet rawSet = m.prop(typeof value === 'string' ? value : value.set);\n\n\t\treturn {type, set};\n\n\t\tfunction update(){\n\t\t\tlet type = rawType();\n\t\t\tlet set = rawSet();\n\t\t\tprop(type === 'random' ? set : {type, set});\n\t\t}\n\t\t\n\t\tfunction type(value){\n\t\t\tif (arguments){\n\t\t\t\trawType(value);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\treturn rawType();\n\t\t}\n\t\t\n\t\tfunction set(value){\n\t\t\tif (arguments){\n\t\t\t\trawSet(value);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\treturn rawSet();\n\t\t}\n\t},\n\n\tview: inputWrapper(({type,set}) => {\n\n\t\treturn m('.form-inline', [\n\t\t\tm('.form-group.input-group', [\n\t\t\t\tm('input.form-control', {\n\t\t\t\t\tplaceholder:'Set',\n\t\t\t\t\tonchange: m.withAttr('value', set)\n\t\t\t\t}),\n\t\t\t\tm('span.input-group-addon', {style:'display:none'}) // needed to make the corners of the input square...\n\t\t\t]),\n\t\t\tm('select.c-select', {\n\t\t\t\tonchange: m.withAttr('value', type)\n\t\t\t}, TYPES.map(key => m('option', {value:key},key)))\n\t\t]);\n\t})\n};\n\nconst TYPES = ['random', 'exRandom', 'sequential'];\n","import {formFactory, textInput, arrayInput, checkboxInput, selectInput, maybeInput} from 'utils/formHelpers';\nimport inheritInput from './inheritInput';\nexport default taskComponent;\n\nlet taskComponent = {\n\tcontroller({output,close}){\n\t\tlet form = formFactory();\n\t\t\n\t\tlet type = m.prop('message');\n\t\tlet common = {\n\t\t\tinherit: m.prop(''),\n\t\t\tname: m.prop(''),\n\t\t\ttitle: m.prop('')\n\t\t};\n\t\tlet task = m.prop({});\n\t\t\t\n\t\treturn {type, common, task, form, close, proceed};\n\n\t\tfunction proceed(){\n\t\t\toutput(Object.assign({type}, common, task()));\n\t\t\tclose(true)();\n\t\t}\t\t\n\n\t},\n\tview({type, common, task, form, close, proceed}){\n\t\treturn m('div', [\t\n\t\t\tm('h4', 'Add task'),\n\t\t\tm('.card-block', [\n\t\t\t\tinheritInput({label:'inherit', prop:common.inherit, form, help: 'Base this element off of an element from a set'}),\n\t\t\t\tselectInput({label:'type', prop: type, form, values: {message: 'message', pip: 'pip', quest: 'quest'}}),\n\t\t\t\ttextInput({label: 'name', prop: common.name, help: 'The name for the task',form}),\n\t\t\t\ttextInput({label: 'title', prop: common.title, help: 'The title to be displayed in the browsers tab',form}),\n\t\t\t\tm.component(taskSwitch(type()), {task, form})\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(false)}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:proceed}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nfunction taskSwitch(type){\n\tswitch (type) {\n\t\tcase 'message' : return messageComponent;\n\t\tcase 'pip' : return pipComponent;\n\t\tcase 'quest' : return questComponent;\n\t\tdefault :\n\t\t\tthrow new Error(`Unknown task type: ${type}`);\n\t}\n}\n\nlet messageComponent = {\n\tcontroller({task}){\n\t\ttask({\n\t\t\tpiTemplate: m.prop(true),\n\t\t\ttemplate: m.prop(''),\n\t\t\ttemplateUrl: m.prop('')\n\t\t});\n\t},\n\tview(ctrl, {task, form}){\n\t\tlet props = task();\n\t\treturn m('div', [\n\t\t\tselectInput({label:'piTemplate', prop: props.piTemplate, form, values: {'Active': true, 'Debriefing template': 'debrief', 'Don\\'t use': false}, help: 'Use the PI style templates'}),\n\t\t\ttextInput({label: 'templateUrl', prop: props.templateUrl, help: 'The URL for the task template file',form}),\n\t\t\ttextInput({label: 'template', prop: props.template, rows:6,  form, isArea:true, help: m.trust('You can manually create your template here <strong>instead</strong> of using a url')})\n\t\t]);\t\n\t}\n};\n\nlet pipComponent = {\n\tcontroller({task}){\n\t\ttask({\n\t\t\tversion: m.prop('0.3'),\n\t\t\tscriptUrl: m.prop('')\n\t\t});\n\t},\n\tview(ctrl, {task, form}){\n\t\tlet props = task();\n\t\treturn m('div', [\n\t\t\ttextInput({label: 'scriptUrl', prop: props.scriptUrl, help: 'The URL for the task script file',form}),\n\t\t\tselectInput({label:'version', prop: props.version, form, values: {'0.3':0.3, '0.2':0.2}, help: 'The version of PIP that you want to use'})\n\t\t]);\t\n\t}\n};\n\nlet questComponent = {\n\tcontroller({task}){\n\t\ttask({\n\t\t\tscriptUrl: m.prop('')\n\t\t});\n\t},\n\tview(ctrl, {task, form}){\n\t\tlet props = task();\n\t\treturn m('div', [\n\t\t\ttextInput({label: 'scriptUrl', prop: props.scriptUrl, help: 'The URL for the task script file',form})\n\t\t]);\t\n\t}\n};\n\n","import {formFactory, textInput, checkboxInput, maybeInput} from 'utils/formHelpers';\nimport inheritInput from './inheritInput';\nexport default pageComponent;\n\nlet pageComponent = {\n\tcontroller({output,close}){\n\t\tlet form = formFactory();\n\t\tlet page = {\n\t\t\tinherit: m.prop(''),\n\t\t\theader: m.prop(''),\n\t\t\tdecline: m.prop(false),\n\t\t\tprogressBar: m.prop('<%= pagesMeta.number %> out of <%= pagesMeta.outOf%>'),\n\t\t\tautoFocus: true,\n\t\t\tquestions: [],\n\t\t\tv1style:2\n\t\t};\n\t\toutput(page);\n\n\t\treturn {page,form, close};\n\n\t},\n\tview({page,form,close}){\n\t\treturn m('div', [\t\n\t\t\tm('h4', 'Add Page'),\n\t\t\tm('.card-block', [\n\t\t\t\tinheritInput({label:'inherit', prop:page.inherit, form, help: 'Base this element off of an element from a set'}),\n\t\t\t\ttextInput({label: 'header', prop: page.header, help: 'The header for the page',form}),\n\t\t\t\tcheckboxInput({label: 'decline', description: 'Allow declining to answer', prop: page.decline,form}),\n\t\t\t\tmaybeInput({label:'progressBar', help: 'If and when to display the  progress bar (use templates to control the when part)', prop: page.progressBar,form})\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(false)}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\n","import {formFactory, textInput, checkboxInput, arrayInput, selectInput, maybeInput} from 'utils/formHelpers';\nimport inheritInput from './inheritInput';\nexport default questComponent;\n\nlet questComponent = {\n\tcontroller({output,close}){\n\t\tlet form = formFactory();\n\t\tlet type = m.prop('text');\n\t\tlet common = {\n\t\t\tinherit: m.prop(''),\n\t\t\tname: m.prop(''),\n\t\t\tstem: m.prop(''),\n\t\t\trequired: m.prop(false),\n\t\t\terrorMsg: {\n\t\t\t\trequired: m.prop('')\n\t\t\t}\n\t\t};\n\t\tlet quest = m.prop({});\n\t\toutput(quest);\n\n\t\treturn {type, common, quest,form, close, proceed};\n\n\t\tfunction proceed(){\n\t\t\tlet script = output(Object.assign({type}, common, quest()));\n\t\t\tif (!script.required()) script.required = script.errorMsg = undefined;\n\t\t\tif (!script.help || !script.help()) script.help = script.helpText = undefined;\n\t\t\t\n\t\t\tclose(true)();\n\t\t}\t\t\n\n\t},\n\tview({type, common, quest,form,close, proceed}){\n\t\treturn m('div', [\t\n\t\t\tm('h4', 'Add Question'),\n\t\t\tm('.card-block', [\n\t\t\t\tselectInput({label:'type', prop: type, form, values: typeMap}),\n\t\t\t\tinheritInput({label:'inherit', prop:common.inherit, form, help: 'Base this element off of an element from a set'}),\n\t\t\t\ttextInput({label: 'name', prop: common.name, help: 'The name by which this question will be recorded',form}),\n\t\t\t\ttextInput({label: 'stem', prop: common.stem, help: 'The question text',form}),\n\t\t\t\tm.component(question(type()), {type,quest,form,common}),\n\t\t\t\tcheckboxInput({label: 'required', prop: common.required, description: 'Require this question to be answered', form}),\n\t\t\t\tcommon.required()\n\t\t\t\t\t? textInput({label:'requiredText',  help: 'The error message for when the question has not been answered', prop: common.errorMsg.required ,form})\n\t\t\t\t\t: ''\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(false)}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:proceed}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet typeMap = {Text: 'text', 'Text Area': 'textarea', 'Select One': 'selectOne', 'Select Multiple': 'selectMulti', Slider: 'slider'};\n\nlet question = type => {\n\tswitch (type) {\n\t\tcase 'text' : return textComponent;\n\t\tcase 'textarea' : return textareaComponent;\n\t\tcase 'selectOne' : return selectOneComponent;\n\t\tcase 'selectMulti' : return selectOneComponent;\n\t\tcase 'slider' : return sliderComponent;\n\t\tdefault:\n\t\t\tthrow new Error('Unknown question type');\n\t}\n};\n\nlet textComponent = {\n\tcontroller({quest, common}){\n\t\tcommon.errorMsg.required('This text field is required');\n\t\t// setup unique properties\n\t\tquest({\n\t\t\tautoSubmit: m.prop(false)\n\t\t});\n\t},\n\tview(ctrl, {quest, form}){\n\t\tlet props = quest();\n\t\treturn m('div', [\n\t\t\tcheckboxInput({label: 'autoSubmit', prop: props.autoSubmit, description: 'Submit on enter', form})\n\t\t]);\t\n\t}\n};\n\nlet textareaComponent = {\n\tcontroller({quest, common}){\n\t\tcommon.errorMsg.required('This text field is required');\n\t\t// setup unique properties\n\t\tquest({\n\t\t\trows: m.prop(3),\n\t\t\tcolumns: m.prop('')\n\t\t});\n\t},\n\tview(ctrl, {quest, form}){\n\t\tlet props = quest();\n\t\treturn m('div', [\n\t\t\ttextInput({label: 'rows', prop: props.rows, help: 'The number of visible text lines', form})\n\t\t]);\t\n\n\t}\n};\n\nlet selectOneComponent = {\n\tcontroller({quest,common}){\n\t\tcommon.errorMsg.required('Please select an answer, or click \\'decline to answer\\'');\n\t\t// setup unique properties\n\t\tquest({\n\t\t\tautoSubmit: m.prop(true),\n\t\t\tanswers: m.prop([\n\t\t\t\t'Very much',\n\t\t\t\t'Somewhat',\n\t\t\t\t'Undecided',\n\t\t\t\t'Not realy',\n\t\t\t\t'Not at all'\n\t\t\t]),\n\t\t\tnumericValues:true,\n\t\t\thelp: m.prop(false),\n\t\t\thelpText: m.prop('Tip: For quick response, click to select your answer, and then click again to submit.')\n\t\t});\n\t},\n\tview(ctrl, {quest, form}){\n\t\tlet props = quest();\n\t\treturn m('div', [\n\t\t\tcheckboxInput({label: 'autoSubmit', prop: props.autoSubmit, description: 'Submit on double click', form}),\n\t\t\tarrayInput({label: 'answers', prop: props.answers, rows:7,  form, isArea:true, help: 'Each row here represents an answer option', required:true}),\n\t\t\tmaybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: props.help,form, dflt: '<%= pagesMeta.number < 3 %>'}),\n\t\t\tprops.help()\n\t\t\t\t? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: props.helpText,form, isArea: true})\n\t\t\t\t: ''\n\t\t]);\t\n\t}\n};\n\nlet sliderComponent = {\n\tcontroller({quest,common}){\n\t\tcommon.errorMsg.required('Please select an answer, or click \\'decline to answer\\'');\n\t\t// setup unique properties\n\t\tquest({\n\t\t\tmin: m.prop(0),\n\t\t\tmax: m.prop(100),\n\t\t\tsteps: m.prop(''),\n\t\t\thidePips: m.prop(false), \n\t\t\thighlight: m.prop(true),\n\t\t\tlabels : m.prop(['Low', 'Medium', 'High']),\n\t\t\thelp: m.prop(false),\n\t\t\thelpText: m.prop('Click on the gray line to indicate your judgment. After clicking the line, you can slide the circle to choose the exact judgment.')\n\t\t});\n\t},\n\tview(ctrl, {quest, form}){\n\t\tlet props = quest();\n\t\treturn m('div', [\n\t\t\ttextInput({label: 'min', prop: props.min, help: 'The minimum value for the slider',form}),\n\t\t\ttextInput({label: 'max', prop: props.max, help: 'The maximum value for the slider',form}),\n\t\t\ttextInput({label: 'steps', prop: props.steps, help: 'Break the slider continuum to individual steps. Set to an integer or empty for a continuous slider',form}),\n\t\t\tprops.steps()\n\t\t\t\t? '' \n\t\t\t\t: checkboxInput({label: 'hidePips', prop: props.hidePips, description: 'Hide the markers for the individual steps',form}),\n\t\t\tarrayInput({label:'labels', prop: props.labels, help: 'A list of labels for the slider range', isArea: true, rows:5, form}),\n\t\t\tmaybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: props.help,form, dflt: '<%= pagesMeta.number < 3 %>'}),\n\t\t\tprops.help()\n\t\t\t\t? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: props.helpText,form, isArea: true})\n\t\t\t\t: ''\n\t\t]);\t\n\t}\n};\n","import messages from 'utils/messagesComponent';\nimport {print} from 'utils/prettyPrint';\nimport taskComponent from './snippets/task';\nimport pageComponent from './snippets/page';\nimport questComponent from './snippets/quest';\n\nexport let  snippetRunner = component => observer => () => {\n\tlet output = m.prop();\n\tmessages\n\t\t.custom({\n\t\t\tpreventEnterSubmits: true,\n\t\t\tcontent: m.component(component, {output, close}),\n\t\t\twide: true\n\t\t})\n\t\t.then(isOk => isOk && observer.trigger('paste', print(clearUnused(output()))));\n\n\tfunction close(value) {return () => messages.close(value);}\n};\n\nexport let taskSnippet = snippetRunner(taskComponent);\nexport let pageSnippet = snippetRunner(pageComponent);\nexport let questSnippet = snippetRunner(questComponent);\n\nfunction clearUnused(obj){\n\treturn Object.keys(obj).reduce((result, key) => {\n\t\tlet value = obj[key];\n\t\tif (typeof value === 'function' && value.toJSON) value = value();\n\t\t\n\t\t// check if is empty\n\t\tif (value === '' || value === undefined) return result;\n\t\tif (Array.isArray(value) && !value.length) return result;\n\n\t\tresult[key] = value;\n\t\treturn result;\n\t}, {});\n}\n","import {play, save} from '../sidebar/fileActions';\nimport {pageSnippet, questSnippet, taskSnippet} from './snippetActions';\n\nexport default textMenuView;\n\nconst amdReg = /(?:define\\(\\[['\"])(.*?)(?=['\"])/;\n\nlet textMenuView = ({mode, file, study, observer}) => {\n\tlet setMode = value => () => mode(value);\n\tlet modeClass = value => mode() === value ? 'active' : '';\n\tlet isJs = file.type === 'js';\n\tlet isExpt = /\\.expt\\.xml$/.test(file.path);\n\tlet amdMatch = amdReg.exec(file.content());\n\tlet APItype = amdMatch && amdMatch[1];\n\n\treturn m('.btn-toolbar.editor-menu', [\n\t\tm('.file-name', {class: file.hasChanged() ? 'text-danger' : ''},\n\t\t\tm('span',{class: file.hasChanged() ? '' : 'invisible'}, '*'),\n\t\t\tfile.path\n\t\t),\n\n\t\tm('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\tm('a.btn.btn-secondary', {href: `http://projectimplicit.github.io/PIquest/0.0/basics/overview.html`, target: '_blank', title:'API documentation'},[\n\t\t\t\tm('strong.fa.fa-book'),\n\t\t\t\tm('strong', ' Docs')\n\t\t\t]),\n\t\t\tm('a.btn.btn-secondary', {href: `https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts`, target: '_blank', title:'Editor help'},[\n\t\t\t\tm('strong.fa.fa-info')\n\t\t\t])\n\t\t]),\n\n\t\t!isJs ? '' : m('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\tm('a.btn.btn-secondary', {onclick: setMode('edit'), class: modeClass('edit')},[\n\t\t\t\tm('strong','Edit')\n\t\t\t]),\n\t\t\tm('a.btn.btn-secondary', {onclick: setMode('syntax'), class: modeClass('syntax')},[\n\t\t\t\tm('strong',\n\t\t\t\t\t'Syntax ',\n\t\t\t\t\tfile.syntaxValid\n\t\t\t\t\t\t? m('i.fa.fa-check-square.text-success')\n\t\t\t\t\t\t: m('span.label.label-danger', file.syntaxData.errors.length)\n\t\t\t\t)\n\t\t\t])\n\t\t\t//m('a.btn.btn-secondary', {onclick: setMode('validator'), class: modeClass('validator')},[\n\t\t\t//\tm('strong','Validator')\n\t\t\t//])\n\t\t]),\n\t\tm('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\tAPItype !== 'managerAPI' ? '' : [\n\t\t\t\tm('a.btn.btn-secondary', {onclick: taskSnippet(observer), title: 'Add task element'}, [\n\t\t\t\t\tm('strong','T')\t\n\t\t\t\t])\n\t\t\t],\n\t\t\tAPItype !== 'questAPI' ? '' : [\n\t\t\t\tm('a.btn.btn-secondary', {onclick: questSnippet(observer), title: 'Add question element'}, [\n\t\t\t\t\tm('strong','Q')\t\n\t\t\t\t]),\n\t\t\t\tm('a.btn.btn-secondary', {onclick: pageSnippet(observer), title: 'Add page element'}, [\n\t\t\t\t\tm('strong','P')\t\n\t\t\t\t])\n\t\t\t],\n\t\t\tm('a.btn.btn-secondary', {onclick:() => observer.trigger('paste', '{\\n<%= %>\\n}'), title:'Paste a template wizard'},[\n\t\t\t\tm('strong.fa.fa-percent')\n\t\t\t])\n\t\t]),\n\t\tm('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\t!isJs ? '' :  m('a.btn.btn-secondary', {onclick: play(file,study), title:'Play this task'},[\n\t\t\t\tm('strong.fa.fa-play')\n\t\t\t]),\n\t\t\t\n\t\t\t!isExpt ? '' :  m('a.btn.btn-secondary', {href: `https://app-prod-03.implicit.harvard.edu/implicit/Launch?study=${file.url.replace(/^.*?\\/implicit\\//, '')}`, target: '_blank', title:'Play this task'},[\n\t\t\t\tm('strong.fa.fa-play')\n\t\t\t]),\n\n\t\t\tm('a.btn.btn-secondary', {onclick: save(file), title:'Save (ctrl+s)',class: file.hasChanged() ? 'btn-danger-outline' : ''},[\n\t\t\t\tm('strong.fa.fa-save')\n\t\t\t])\n\t\t])\n\t]);\n};\n\n","import {save} from '../sidebar/fileActions';\nimport ace from './ace/aceComponent';\nimport observerFactory from 'utils/observer';\n\nimport jshintOptions from './jshintOptions';\nimport syntaxComponent from './ace/syntaxComponent';\nimport validatorComponent from './ace/validatorComponent';\n\nimport textMenu from './textMenu';\n\nexport default textEditor;\n\nlet textEditor = args => m.component(textEditorComponent, args);\n\nlet textEditorComponent = {\n\tcontroller: function({file,study}){\n\t\tfile.loaded || file.get()\n\t\t\t.then(m.redraw)\n\t\t\t.catch(m.redraw);\n\n\t\tlet ctrl = {mode:m.prop('edit'), observer: observerFactory(), study};\n\n\t\treturn ctrl;\n\t},\n\n\tview: function(ctrl, {file,study}){\n\t\tlet observer = ctrl.observer;\n\n\t\tif (!file.loaded) return m('.loader');\n\n\t\tif (file.error) return m('div', {class:'alert alert-danger'}, [\n\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t`The file \"${file.path}\" was not found`\n\t\t]);\n\n\t\treturn m('.editor', [\n\t\t\ttextMenu({mode: ctrl.mode, file, study, observer}),\n\t\t\ttextContent(ctrl, {file,observer})\n\t\t]);\n\t}\n};\n\nlet textContent = (ctrl, {file, observer}) => {\n\tlet textMode = modeMap[file.type] || 'javascript';\n\tswitch (ctrl.mode()){\n\t\tcase 'edit' : return ace({content:file.content, observer, settings: {onSave: save(file), mode: textMode, jshintOptions}});\n\t\tcase 'validator': return validatorComponent({file});\n\t\tcase 'syntax': return syntaxComponent({file});\n\t}\n};\n\nlet modeMap = {\n\tjs: 'javascript',\n\tjsp: 'jsp',\n\tjst: 'ejs',\n\thtml: 'ejs',\n\thtm: 'ejs',\n\txml: 'xml'\n};\n","import fullHeight from 'utils/fullHeight';\nimport imgEditor from './editors/imgEditor';\nimport pdfEditor from './editors/pdfEditor';\nimport unknowEditor from './editors/unknownEditor';\nimport textEditor from './editors/textEditor';\n\nexport default fileEditorComponent;\n\nlet editors = {\n\tjs: textEditor,\n\thtml: textEditor,\n\thtm: textEditor,\n\tjst: textEditor,\n\txml: textEditor,\n\n\tjpg: imgEditor,\n\tbmp: imgEditor,\n\tpng: imgEditor,\n\n\tpdf: pdfEditor\n};\n\nlet fileEditorComponent = {\n\tcontroller: function({study}) {\n\t\tvar id = m.route.param('fileID');\n\t\tvar file = study.getFile(id);\n\t\tvar ctrl = {file,study};\n\n\t\treturn ctrl;\n\t},\n\n\tview: ({file, study}, args = {}) => {\n\t\tlet editor = file && editors[file.type] || unknowEditor;\n\n\t\treturn m('div', {config:fullHeight}, [\n\t\t\tfile\n\t\t\t\t? editor({file, study,  settings: args.settings})\n\t\t\t\t: m('.centrify', [\n\t\t\t\t\tm('i.fa.fa-smile-o.fa-5x'),\n\t\t\t\t\tm('h5', 'Please select a file to start working')\n\t\t\t\t])\n\t\t]);\n\t}\n};\n","import {print, indent} from 'utils/prettyPrint';\n\nexport default function ratingWizard({basicPage, basicSelect, questionList, sequence}){\n\tconst NEW_LINE = '\\n';\n\tlet content = [\n\t\t`var API = new Quest();`,\n\n\t\t``,\n\t\t`// The structure for the basic questionnaire page`,\n\t\t`API.addPagesSet('basicPage', ${print(basicPage)});`,\n\n\t\t``,\n\t\t`// The structure for the basic question\t`,\n\t\t`API.addQuestionsSet('basicSelect', ${print(basicSelect)});`,\n\n\t\t`// This is the question pool, the sequence picks the questions from here`,\n\t\t`API.addQuestionsSet('questionList', ${print(questionList)});`,\n\t\t``,\n\n\t\t`// This is the sequence of questions`,\n\t\t`// Note that you may want to update the \"times\" property if you change the number of questions`,\n\t\t`API.addSequence(${print(sequence)});`,\n\n\t\t``,\n\t\t`return API.script;`\n\t].join(NEW_LINE);\n\n\treturn `define(['questAPI'], function(Quest){\\n${indent(content)}\\n});`;\n}\n","import {formFactory, textInput, checkboxInput, maybeInput, arrayInput} from 'utils/formHelpers';\nimport {createFile} from './sidebar/fileActions';\nimport ratingWizard from './wizards/ratingWizard';\nexport default wizardComponent;\n\nlet wizardComponent = {\n\tcontroller({study}){\n\t\tlet path = m.prop('');\n\t\tlet form = formFactory();\n\t\tlet submit = () => {\n\t\t\tform.showValidation(true);\n\t\t\tif (form.isValid()){\n\t\t\t\tcreateFile(study, path, compileScript(script) );\n\t\t\t}\n\t\t\t\n\t\t};\n\n\t\tlet compileScript = script => () => {\n\t\t\tscript.basicPage.questions = [\n\t\t\t\t{inherit: {type:script.randomize() ? 'exRandom' : 'sequential', set:'questionList'}}\n\t\t\t];\n\t\t\tscript.sequence = [\n\t\t\t\t{\n\t\t\t\t\tmixer:'repeat',\n\t\t\t\t\ttimes: script.times() || script.questionList().length,\n\t\t\t\t\tdata:[\n\t\t\t\t\t\t{inherit: 'basicPage'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\treturn ratingWizard(script);\n\t\t};\n\n\n\t\tlet script ={\n\t\t\tbasicPage: {\n\t\t\t\theader: m.prop(''),\n\t\t\t\tdecline: m.prop(true),\n\t\t\t\tautoFocus:true,\n\t\t\t\tv1style: 2\n\t\t\t},\n\t\t\tbasicSelect: {\n\t\t\t\ttype: 'selectOne',\n\t\t\t\tautoSubmit: m.prop(false),\n\t\t\t\tnumericValues: m.prop(true),\n\t\t\t\thelp: m.prop('<%= pagesMeta.number < 3 %>'),\n\t\t\t\thelpText: m.prop('Tip: For quick response, click to select your answer, and then click again to submit.'),\n\t\t\t\tanswers: m.prop([\n\t\t\t\t\t'Very much',\n\t\t\t\t\t'Somewhat',\n\t\t\t\t\t'Undecided',\n\t\t\t\t\t'Not realy',\n\t\t\t\t\t'Not at all'\n\t\t\t\t]) \n\t\t\t},\n\t\t\tquestionList: m.prop([\n\t\t\t\t{stem:'Do you like chocolate?', name:'q1', inherit:'basicSelect'},\n\t\t\t\t{stem:'Do you like bannanas?', name:'q2', inherit:'basicSelect'}\n\t\t\t]),\n\t\t\ttimes: m.prop(false),\n\t\t\trandomize: m.prop(true),\n\t\t\tsequence: [\n\t\t\t\t{\n\t\t\t\t\tmixer: 'repeat',\n\t\t\t\t\ttimes: m.prop(10),\n\t\t\t\t\tdata: [\n\t\t\t\t\t\t{inherit:'basicPage'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\treturn {path, form, submit, script};\n\t},\n\tview({form,submit, script, path}){\t\t\n\t\tlet basicPage = script.basicPage;\n\t\tlet basicSelect = script.basicSelect;\n\n\t\treturn m('.wizard.container', [\n\t\t\tm('h3', 'Rating wizard'),\n\t\t\tm('p', 'This wizard is responsible for rating stuff'),\n\t\t\ttextInput({label:'File Name',  placeholder: 'Path to file', prop: path ,form, required:true}), \n\n\t\t\tm('h4', 'Basic Page'),\n\t\t\ttextInput({label:'Header',  placeholder: 'Page header', help: 'The header for all pages.', prop: basicPage.header,form}), \n\t\t\tcheckboxInput({label: 'Decline', description: 'Allow users to decline', prop: basicPage.decline, form}),\n\n\t\t\tm('h4', 'Basic Select'),\n\t\t\tcheckboxInput({label: 'autoSubmit', description: 'Submit upon second click', prop: basicSelect.autoSubmit, form}),\n\t\t\tarrayInput({label: 'answers', prop: (basicSelect.answers), rows:7,  form, isArea:true, help: 'Each row here represents an answer option', required:true}),\n\t\t\tcheckboxInput({label: 'numericValues', description: 'Responses are recorded as numbers', prop: basicSelect.numericValues, form}),\n\t\t\tmaybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: basicSelect.help,form}),\n\t\t\tbasicSelect.help()\n\t\t\t\t? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: basicSelect.helpText,form, isArea: true})\n\t\t\t\t: '',\n\n\t\t\tm('h4', 'Sequence'),\n\t\t\tcheckboxInput({label: 'Randomize', description: 'Randomize questions', prop: script.randomize, form}),\n\t\t\tmaybeInput({label: 'Choose', help:'Set a number of questions to choose from the pool. If this option is not selected all questions will be used.', form, prop: script.times}),\n\t\t\tarrayInput({label: 'questions', prop: script.questionList, toArr: (stem, index) => ({stem, name: `q${index}`, inherit:'basicSelect'}), fromArr: q => q.stem, rows:20,  form, isArea:true, help: 'Each row here represents a questions', required:true}),\n\t\t\tm('.row', [\n\t\t\t\tm('.col-cs-12.text-xs-right', [\n\t\t\t\t\t!form.showValidation() || form.isValid()\n\t\t\t\t\t\t? m('button.btn.btn-primary', {onclick: submit}, 'Create')\t\n\t\t\t\t\t\t: m('button.btn.btn-danger', {disabled: true}, 'Not Valid')\n\t\t\t\t])\n\t\t\t])\n\t\t]); \n\t} \n};\n","// taken from here:\n// https://github.com/JedWatson/classnames/blob/master/index.js\nvar hasOwn = {}.hasOwnProperty;\n\nfunction classNames () {\n\tvar classes = '';\n\n\tfor (var i = 0; i < arguments.length; i++) {\n\t\tvar arg = arguments[i];\n\t\tif (!arg) continue;\n\n\t\tvar argType = typeof arg;\n\n\t\tif (argType === 'string' || argType === 'number') {\n\t\t\tclasses += ' ' + arg;\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tclasses += ' ' + classNames.apply(null, arg);\n\t\t} else if (argType === 'object') {\n\t\t\tfor (var key in arg) {\n\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\tclasses += ' ' + key;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn classes.substr(1);\n}\n\nexport default classNames;\n","import classNames from './classNames';\nexport default contextMenuComponent;\n\n/**\n * Set this component into your layout then use any mouse event to open the context menu:\n * oncontextmenu: contextMenuComponent.open([...menu])\n *\n * Example menu:\n * [\n * \t{icon:'fa-play', text:'begone'},\n *\t{icon:'fa-play', text:'asdf'},\n *\t{separator:true},\n *\t{icon:'fa-play', text:'wertwert', menu: [\n *\t\t{icon:'fa-play', text:'asdf'}\n *\t]}\n * ]\n */\n\nlet contextMenuComponent = {\n\tvm: {\n\t\tshow: m.prop(false),\n\t\tstyle: m.prop({}),\n\t\tmenu: m.prop([])\n\t},\n\tview: () => {\n\t\treturn m(\n\t\t\t'.context-menu',\n\t\t\t{\n\t\t\t\tclass: classNames({'show-context-menu': contextMenuComponent.vm.show()}),\n\t\t\t\tstyle: contextMenuComponent.vm.style()\n\t\t\t},\n\t\t\tcontextMenuComponent.vm.menu().map(menuNode)\n\t\t);\n\t},\n\n\topen: menu => e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tcontextMenuComponent.vm.menu(menu);\n\t\tcontextMenuComponent.vm.show(true);\n\t\tcontextMenuComponent.vm.style({\n\t\t\tleft:e.pageX + 'px',\n\t\t\ttop:e.pageY + 'px'\n\t\t});\n\n\t\tdocument.addEventListener('mousedown', onClick, false);\n\t\tfunction onClick(){\n\t\t\tcontextMenuComponent.vm.show(false);\n\t\t\tdocument.removeEventListener('mousedown', onClick);\n\t\t\tm.redraw();\n\t\t}\n\t}\n};\n\nlet menuNode = (node, key) => {\n\treturn node.separator\n\t\t? m('.context-menu-separator', {key:key})\n\t\t: m('.context-menu-item', {class: classNames({disabled: node.disabled, submenu:node.menu, key: key})}, [\n\t\t\tm('button.context-menu-btn',{onmousedown: node.disabled || node.action}, [\n\t\t\t\tm('i.fa', {class:node.icon}),\n\t\t\t\tm('span.context-menu-text', node.text)\n\t\t\t]),\n\t\t\tnode.menu ? m('.context-menu', node.menu.map(menuNode)) : ''\n\t\t]);\n};","import {fetchText} from 'utils/modelHelpers';\nimport {createFile} from './fileActions';\nimport messages from 'utils/messagesComponent';\n\n// add trailing slash if needed, and then remove proceeding slash\n// return prop\nlet pathProp = path => m.prop(path.replace(/\\/?$/, '/').replace(/^\\//, ''));\n\nexport let createFromTemplate = ({study, path, url, templateName}) => () => {\n\tlet name = pathProp(path);\n\tlet template = fetchText(url);\n\n\treturn messages.prompt({\n\t\theader: `Create from \"${templateName}\"`,\n\t\tcontent: 'Please insert the file name:',\n\t\tprop: name\n\t})\n\t\t.then(response => {\n\t\t\tif (response) return template.then(content => createFile(study, name,() => content));\n\t\t})\n\t\t.catch(err => {\n\t\t\tlet message = (err.response && err.response.status === 404)\n\t\t\t\t? `Template file not found at ${url}`\n\t\t\t\t: err.message;\n\n\t\t\treturn messages.alert({\n\t\t\t\theader: `Create from \"${templateName}\" failed`,\n\t\t\t\tcontent: message\n\t\t\t});\n\t\t});\n};\n","export default hash;\n\nlet hash = {};\n\nhash.piPlayer = {\n\t'Empty': '/implicit/user/yba/wizards/emptypip.js',\n\t'Typical': '/implicit/user/yba/wizards/typical.js',\n\t'Simple sorting task': '/implicit/user/yba/wizards/sorting.js',\n\t'IAT (images)': '/implicit/user/yba/wizards/iatimages.js',\n\t'IAT (words)': '/implicit/user/yba/wizards/iatwords.js',\n\t'IAT (modify attributes)': '/implicit/user/yba/wizards/iatatt.js',\n\t'IAT (all the parameters)': '/implicit/user/yba/wizards/iatall.js',\n\t'Mobile IAT': '/implicit/user/yba/wizards/iatmobile.js',\n\t'ST-IAT': '/implicit/user/yba/wizards/stiatsimple.js',\n\t'ST-IAT (all parameters)': '/implicit/user/yba/wizards/stiatall.js',\n\t'AMP (with words as primes)': '/implicit/user/yba/wizards/ampwords.js',\n\t'AMP (all parameters)': '/implicit/user/yba/wizards/ampall.js',\n\t'Brief-IAT': '/implicit/user/yba/wizards/batsimple.js',\n\t'Brief-IAT (all parameters)': '/implicit/user/yba/wizards/batall.js',\n\t'Attitude induction (behaviors)': '/implicit/user/yba/wizards/attitude.js',\n\t'Evaluative Conditioning': '/implicit/user/yba/wizards/ec.js'\n};\n\nhash.piQuest = {\n\t'Empty': '/implicit/user/yba/wizards/emptyquest.js',\n\t'Rating Questionnaire': '/implicit/user/yba/wizards/rating.js',\n\t'Rating Questionnaire (with images)': '/implicit/user/yba/wizards/ratingimages.js'\n};\n\nhash.piMessage = {\n\t'Consent (Yoav lab)': '/implicit/user/yba/wizards/consent.jst',\n\t'Intro': '/implicit/user/yba/wizards/intro.jst',\n\t'Debriefing': '/implicit/user/yba/wizards/debriefing.jst'\n};\n\nhash.piManager = {\n\t'Empty': '/implicit/user/yba/wizards/emptymanager.js',\n\t'Typical': '/implicit/user/yba/wizards/emptymanager.js'\n};\n","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nimport {createDir, createEmpty, moveFile, copyUrl} from './fileActions';\nimport {createFromTemplate} from './wizardActions';\nimport wizardHash from './wizardHash';\nexport default fileContext;\n\n// download support according to modernizer\nlet downloadSupport = !window.externalHost && 'download' in document.createElement('a');\n\nlet fileContext = (file, study) => {\n\tlet path = file.isDir ? file.path : file.basePath;\n\tlet menu = [\n\t\t// {icon:'fa-copy', text:'Duplicate', action: () => messages.alert({header:'Duplicate: ' + file.name, content:'Duplicate has not been implemented yet'})},\n\n\t\t{icon:'fa-folder', text:'New Directory', action: createDir(study, path)},\n\t\t{icon:'fa-file', text:'New File', action: createEmpty(study, path)},\n\t\t{icon:'fa-file-text', text:'New from template', menu: mapWizardHash(wizardHash)},\n\t\t{icon:'fa-magic', text:'New from wizard', menu: [\n\t\t\t{text: 'Rating wizard', action: activateWizard(`rating`)}\n\t\t]},\n\t\t{separator:true},\n\t\t{icon:'fa-refresh', text: 'Refresh/Reset', action: refreshFile, disabled: file.content() == file.sourceContent()},\n\t\t{icon:'fa-download', text:'Download', action: downloadFile},\n\t\t{icon:'fa-link', text: 'Copy URL', action: copyUrl(file)},\n\n\t\t{icon:'fa-close', text:'Delete', action: deleteFile},\n\t\t{icon:'fa-exchange', text:'Move/Rename...', action: moveFile(file,study)}\n\t];\n\n\treturn contextMenu.open(menu);\n\n\tfunction activateWizard(route){\n\t\treturn () => m.route(`/editor/${study.id}/wizard/` + route);\n\t}\n\t\n\tfunction mapWizardHash(wizardHash){\n\t\treturn Object.keys(wizardHash).map((text) => {\n\t\t\tlet value = wizardHash[text];\n\t\t\treturn typeof value === 'string'\n\t\t\t\t? {text, action: createFromTemplate({study, path, url:value, templateName:text})}\n\t\t\t\t: {text, menu: mapWizardHash(value)};\n\t\t});\n\t}\n\n\tfunction refreshFile(){\n\t\tfile.content(file.sourceContent());\n\t\tm.redraw();\n\t}\n\n\tfunction downloadFile(){\n\t\tif (downloadSupport){\n\t\t\tlet link = document.createElement('a');\n\t\t\tlink.href = file.url;\n\t\t\tlink.download = file.name;\n\t\t\tlink.target = '_blank';\n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\t\t\tdocument.body.removeChild(link);\n\t\t} else {\n\t\t\tlet win = window.open(file.url, '_blank');\n\t\t\twin.focus();\n\t\t}\n\t}\n\n\tfunction deleteFile(){\n\t\tmessages.confirm({\n\t\t\theader:['Delete ',m('small', file.name)],\n\t\t\tcontent: 'Are you sure you want to delete this file? This action is permanent!'\n\t\t})\n\t\t.then(ok => {\n\t\t\tif (ok) return study.del(file.id);\n\t\t})\n\t\t.then(m.redraw)\n\t\t.catch( err => {\n\t\t\terr.response.json()\n\t\t\t\t.then(response => {\n\t\t\t\t\tmessages.alert({\n\t\t\t\t\t\theader: 'Delete failed:',\n\t\t\t\t\t\tcontent: response.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\treturn err;\n\t\t});\n\t} // end delete file\n};\n\n","const DRAGOVER_CLASS = 'is-dragover';\nfunction dragdrop(element, options) {\n\toptions = options || {};\n\n\telement.addEventListener('dragover', activate);\n\telement.addEventListener('dragleave', deactivate);\n\telement.addEventListener('dragend', deactivate);\n\telement.addEventListener('drop', deactivate);\n\telement.addEventListener('drop', update);\n\n\tfunction activate(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation(); // so that only the lowest level element gets focused\n\t\telement.classList.add(DRAGOVER_CLASS);\n\t}\n\tfunction deactivate() {\n\t\telement.classList.remove(DRAGOVER_CLASS);\n\t}\n\tfunction update(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tonchange(options)(e);\n\t}\n}\n\nexport let uploadConfig = ctrl => (element, isInitialized) => {\n\tif (!isInitialized) {\n\t\tdragdrop(element, {onchange: ctrl.onchange});\n\t}\n};\n\nexport let uploadBox = args => m('form.upload', {method:'post', enctype:'multipart/form-data', config:uploadConfig(args)},[\n\tm('i.fa.fa-download\t.fa-3x.m-b-1'),\n\tm('input.box__file', {id:'upload', type:'file', name:'files[]', 'data-multiple-caption':'{count} files selected', multiple:true, onchange:onchange(args)}),\n\tm('label', {for:'upload'},\n\t\tm('strong', 'Choose a file'),\n\t\tm('span', ' or drag it here')\n\t)\n]);\n\n// call onchange with files\nlet onchange = args => e => {\n\tif (typeof args.onchange == 'function') {\n\t\targs.onchange((e.dataTransfer || e.target).files);\n\t}\n};","import folder from './folderComponent';\nimport classNames from 'utils/classNames';\nimport fileContext from './fileContext';\nimport {uploadConfig} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\n\nexport default node;\n\nlet node = (file, args) => m.component(nodeComponent, file, args);\n\nlet nodeComponent = {\n\tcontroller: (file) => {\n\t\treturn {\n\t\t\tisCurrent: m.route.param('fileID') === file.id\n\t\t};\n\t},\n\tview: (ctrl, file, {folderHash, study, filesVM}) => {\n\t\tlet vm = filesVM(file.id); // vm is created by the study component, it exposes a \"isOpen\" and \"isChanged\" properties\n\t\treturn m('li.file-node',\n\t\t\t{\n\t\t\t\tkey: file.id,\n\t\t\t\tclass: classNames({\n\t\t\t\t\topen : vm.isOpen()\n\t\t\t\t}),\n\t\t\t\tonclick: file.isDir ? () => vm.isOpen(!vm.isOpen()) : choose(file),\n\t\t\t\toncontextmenu: fileContext(file, study),\n\t\t\t\tconfig: file.isDir ? uploadConfig({onchange:uploadFiles(file.path, study)}) : null\n\t\t\t},\n\t\t\t[\n\t\t\t\tm('a.wholerow', {\n\t\t\t\t\tunselectable:'on',\n\t\t\t\t\tclass:classNames({\n\t\t\t\t\t\t'current': ctrl.isCurrent\n\t\t\t\t\t})\n\t\t\t\t}, m.trust('&nbsp;')),\n\t\t\t\tm('i.fa.fa-fw', {\n\t\t\t\t\tclass: classNames({\n\t\t\t\t\t\t'fa-caret-right' : file.isDir && !vm.isOpen(),\n\t\t\t\t\t\t'fa-caret-down': file.isDir && vm.isOpen()\n\t\t\t\t\t})\n\t\t\t\t}),\n\n\t\t\t\tm('a', [\n\t\t\t\t\tm('i.fa.fa-fw.fa-file-o', {\n\t\t\t\t\t\tclass: classNames({\n\t\t\t\t\t\t\t'fa-file-code-o': /(js)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-text-o': /(jst|html|xml)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-image-o': /(jpg|png|bmp)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-pdf-o': /(pdf)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-folder-o': file.isDir\n\t\t\t\t\t\t})\n\t\t\t\t\t}),\n\t\t\t\t\tm('span',{class:classNames({'font-weight-bold':file.hasChanged()})},` ${file.name}`),\n\t\t\t\t\tfile.isDir ? folder(file.path + '/', {folderHash, study, filesVM}) : ''\n\t\t\t\t])\n\t\t\t]\n\t\t);\n\t}\n};\n\nlet choose = (file) => e => {\n\te.stopPropagation();\n\te.preventDefault();\n\tm.route(`/editor/${file.studyId}/file/${encodeURIComponent(file.id)}`);\n};\n","import node from './nodeComponent';\nexport default folder;\n\nlet folder = (path, args) => m.component(folderComponent, path, args);\n\nlet folderComponent = {\n\tview(ctrl, path, {folderHash, study, filesVM}){\n\t\tlet files = folderHash[path] || [];\n\n\t\treturn m('.files',[\n\t\t\tm('ul', files.map(file => node(file, {folderHash, study, filesVM})))\n\t\t]);\n\t}\n};\n","import folderComponent from './folderComponent';\nimport {uploadConfig} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\nexport default filesComponent;\n\nlet currentStudy, filesVM;\n\n\nlet filesComponent = {\n\tcontroller(){\n\t\t// Create new VM only if we change study name\n\t\tlet studyId = m.route.param('studyId');\n\t\tif (!filesVM || (currentStudy !== studyId)){\n\t\t\tcurrentStudy = studyId;\n\t\t\tfilesVM = viewModelMap({\n\t\t\t\tisOpen: m.prop(false),\n\t\t\t\tisChanged: m.prop(false)\n\t\t\t});\n\t\t}\n\n\t\treturn {filesVM, parseFiles};\n\t},\n\tview({parseFiles, filesVM}, {study}){\n\t\tlet folderHash = parseFiles(study.files());\n\t\tlet config = uploadConfig({onchange:uploadFiles('/', study)});\n\t\treturn m('div', {config}, folderComponent('/', {folderHash, study, filesVM}));\n\t}\n};\n\n\n// http://lhorie.github.io/mithril-blog/mapping-view-models.html\nvar viewModelMap = function(signature) {\n\tvar map = {};\n\treturn function(key) {\n\t\tif (!map[key]) {\n\t\t\tmap[key] = {};\n\t\t\tfor (var prop in signature) map[key][prop] = m.prop(signature[prop]());\n\t\t}\n\t\treturn map[key];\n\t};\n};\n\nlet parseFiles = files => files.reduce((hash, file)=>{\n\tlet path = file.basePath;\n\tif (!hash[path]) hash[path] = [];\n\thash[path].push(file);\n\treturn hash;\n}, {});","import {createEmpty} from './fileActions';\nexport default sidebarButtons;\n\nlet sidebarButtons = {\n\tcontroller: ({study}) => {\n\t\tlet ctrl = {\n\t\t\tnewOpen: false,\n\t\t\ttoggleNew: () => ctrl.newOpen = !ctrl.newOpen,\n\t\t\tcreateEmpty: createEmpty(study),\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\n\tview: ctrl => {\n\t\treturn m('.btn-group', {class: ctrl.newOpen ? 'open' : ''}, [\n\t\t\tm('.btn.btn-sm.btn-secondary', {onclick:ctrl.createEmpty}, [\n\t\t\t\tm('i.fa.fa-plus'), ' New'\n\t\t\t]),\n\t\t\tm('.btn.btn-sm.btn-secondary.dropdown-toggle', {onclick:ctrl.toggleNew}),\n\t\t\tm('.dropdown-menu', {onclick: ctrl.toggleNew}, [\n\t\t//\t\tm('a.dropdown-item', {onclick: ctrl.createPIP}, 'piPlayer'),\n\t\t//\t\tm('a.dropdown-item', {onclick: ctrl.createQuest}, 'piQuest'),\n\t\t//\t\tm('a.dropdown-item', {onclick: ctrl.createManager}, 'piManager')\n\t\t\t])\n\t\t]);\n\t}\n};\n","import filesComponent from './filesComponent';\nimport sidebarButtons from './sidebarButtons';\nimport {uploadBox} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\nexport default sidebarComponent;\n\nlet sidebarComponent = {\n\tview: (ctrl , {study, filesVM}) => {\n\t\treturn m('.sidebar', [\n\t\t\tm('h5', study.id),\n\t\t\tm('p.text-muted.m-a-1', [\n\t\t\t\tm('small', 'Right click the file list in order to perform actions.')\n\t\t\t]),\n//\t\t\tm.component(sidebarButtons, {study}),\n\t\t\tm.component(filesComponent, {study,filesVM, files: study.files() || []}),\n\t\t\tuploadBox({onchange: uploadFiles('/', study)})\n\t\t]);\n\t}\n};\n","export default editorLayoutComponent;\nimport studyFactory from './studyModel';\nimport editorComponent from './editorComponent';\nimport wizardComponent from './wizardComponent';\nimport sidebarComponent from './sidebar/sidebarComponent';\n\nlet study, filesVM;\n\nlet editorLayoutComponent = {\n\tcontroller: ()=>{\n\t\tlet id = m.route.param('studyId');\n\n\t\tif (!study || (study.id !== id)){\n\t\t\tstudy = studyFactory(id);\n\t\t\tstudy\n\t\t\t\t.get()\n\t\t\t\t.then(m.redraw);\n\t\t}\n\n\t\tif (!filesVM) filesVM = viewModelMap({\n\t\t\tisOpen: m.prop(false),\n\t\t\tisChanged: m.prop(false)\n\t\t});\n\n\t\tlet ctrl = {study, filesVM, onunload};\n\n\t\twindow.addEventListener('beforeunload', beforeunload);\n\n\t\treturn ctrl;\n\n\t\tfunction hasUnsavedData(){\n\t\t\treturn study.files().some(f => f.content() !== f.sourceContent());\n\t\t}\n\n\t\tfunction beforeunload(event) {\n\t\t\tif (hasUnsavedData()) return event.returnValue = 'You have unsaved data are you sure you want to leave?';\n\t\t}\n\n\t\tfunction onunload(e){\n\t\t\tlet leavingEditor = () => !/^\\/editor\\//.test(m.route());\n\t\t\tif (leavingEditor() && hasUnsavedData() && !window.confirm('You have unsaved data are you sure you want to leave?')){\n\t\t\t\te.preventDefault();\n\t\t\t} else {\n\t\t\t\twindow.removeEventListener('beforeunload', beforeunload);\n\t\t\t}\n\t\t}\n\t},\n\tview: ({study, filesVM}) => {\n\t\treturn m('.row.study', [\n\t\t\tstudy.loaded\n\t\t\t\t? [\n\t\t\t\t\tm('.col-md-2', [\n\t\t\t\t\t\tm.component(sidebarComponent, {study, filesVM})\n\t\t\t\t\t]),\n\t\t\t\t\tm('.col-md-10',[\n\t\t\t\t\t\tm.route.param('resource') === 'wizard'\n\t\t\t\t\t\t\t? m.component(wizardComponent, {study})\n\t\t\t\t\t\t\t: m.component(editorComponent, {study, filesVM})\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t\t\t:\n\t\t\t\t''\n\t\t]);\n\t}\n};\n\n// http://lhorie.github.io/mithril-blog/mapping-view-models.html\nvar viewModelMap = function(signature) {\n\tvar map = {};\n\treturn function(key) {\n\t\tif (!map[key]) {\n\t\t\tmap[key] = {};\n\t\t\tfor (var prop in signature) map[key][prop] = m.prop(signature[prop]());\n\t\t}\n\t\treturn map[key];\n\t};\n};\n","import {fetchJson} from 'utils/modelHelpers';\nconst url = '/dashboard/StudyData';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_PAUSED = 'P';\nexport const STATUS_STOP = 'S';\n\nexport function createStudy(study){\n\tlet body = Object.assign({\n\t\taction:'insertRulesTable',\n\t\tcreationDate: new Date(),\n\t\tstudyStatus: STATUS_RUNNING\n\t}, study);\n\n\treturn fetchJson(url, {method: 'post', body: body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateStudy(study){\n\tlet body = Object.assign({\n\t\taction:'updateRulesTable'\n\t}, study);\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateStatus(study, status){\n\tlet body = Object.assign({\n\t\taction:'updateStudyStatus'\n\t}, study,{studyStatus: status});\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function getAllPoolStudies(){\n\treturn fetchJson(url, {method:'post', body: {action:'getAllPoolStudies'}})\n\t\t.then(interceptErrors);\n}\n\nexport function getLast100PoolUpdates(){\n\treturn fetchJson(url, {method:'post', body: {action:'getLast100PoolUpdates'}})\n\t\t.then(interceptErrors);\n}\n\nexport function getStudyId(study){\n\tlet body = Object.assign({\n\t\taction:'getStudyId'\n\t}, study);\n\n\treturn  fetchJson(url, {method: 'post',body:body});\n}\n\nexport function resetStudy(study){\n\treturn fetchJson(url, {method:'post', body: Object.assign({action:'resetCompletions'}, study)})\n\t\t.then(interceptErrors);\n}\n\nfunction interceptErrors(response){\n\tif (!response.error){\n\t\treturn response;\n\t}\n\n\tlet errors = {\n\t\t1: 'This ID already exists.',\n\t\t2: 'The study could not be found.',\n\t\t3: 'The rule file could not be found.',\n\t\t4: 'The rules file does not fit the \"research\" schema.'\n\t};\n\n\treturn Promise.reject({message: errors[response.error]});\n}","export default spinner;\n\nlet spinner = {\n\tdisplay: m.prop(false),\n\tshow(response){\n\t\tspinner.display(true);\n\t\tm.redraw();\n\t\treturn response;\n\t},\n\thide(response){\n\t\tspinner.display(false);\n\t\tm.redraw();\n\t\treturn response;\n\t},\n\tview(){\n\t\treturn m('.backdrop', {hidden:!spinner.display()}, // spinner.show()\n\t\t\tm('.overlay'),\n\t\t\tm('.backdrop-content.spinner.icon.fa.fa-cog.fa-spin')\n\t\t);\n\t}\n};","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default editMessage;\n\n/**\n * Create edit component\n * Promise editMessage({input:Object, output:Prop})\n */\nlet editMessage = args => messages.custom({\n\tcontent: m.component(editComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet editComponent = {\n\tcontroller({input, output, close}){\n\t\tlet study = ['rulesUrl', 'targetCompletions', 'autopauseUrl', 'userEmail'].reduce((study, prop)=>{\n\t\t\tstudy[prop] = m.prop(input[prop] || '');\n\t\t\treturn study;\n\t\t}, {});\n\n\t\t// export study to calling component\n\t\toutput(study);\n\n\n\t\tlet ctrl = {\n\t\t\tstudy,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet isEmail = str  => /\\S+@\\S+\\.\\S+/.test(str);\n\t\t\t\tlet isNormalInteger = str => /^\\+?(0|[1-9]\\d*)$/.test(str);\n\n\t\t\t\tlet response = {\n\t\t\t\t\trulesUrl: study.rulesUrl(),\n\t\t\t\t\ttargetCompletions: isNormalInteger(study.targetCompletions()),\n\t\t\t\t\tautopauseUrl: study.autopauseUrl(),\n\t\t\t\t\tuserEmail: isEmail(study.userEmail())\n\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) {\n\t\t\t\t\tstudy.targetCompletions(+study.targetCompletions());// targetCompletions should be cast as a number\n\t\t\t\t\tclose(true);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl, {input}){\n\t\tlet study = ctrl.study;\n\t\tlet validity = ctrl.validity();\n\t\tlet miniButtonView = (prop, name, url) => m('button.btn.btn-secondary.btn-sm', {onclick: prop.bind(null,url)}, name);\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Study Editor'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Study ID'),\n\t\t\t\t\tm('p',[\n\t\t\t\t\t\tm('strong.form-control-static', input.studyId)\n\t\t\t\t\t])\n\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Study URL'),\n\t\t\t\t\tm('p',[\n\t\t\t\t\t\tm('strong.form-control-static', input.studyUrl)\n\t\t\t\t\t])\n\t\t\t\t]),\n\n\t\t\t\tm('.form-group', {class:groupClasses(validity.rulesUrl)}, [\n\t\t\t\t\tm('label', 'Rules File URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Rules file URL',\n\t\t\t\t\t\tvalue: study.rulesUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.rulesUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.rulesUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tminiButtonView(study.rulesUrl, 'Priority26', '/research/library/rules/Priority26.xml')\n\t\t\t\t\t]),\n\t\t\t\t\tvalidationView(validity.rulesUrl, 'This row is required')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.autopauseUrl)}, [\n\t\t\t\t\tm('label', 'Auto-pause file URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tplaceholder:'Auto pause file URL',\n\t\t\t\t\t\tvalue: study.autopauseUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.autopauseUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.autopauseUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Default', '/research/library/pausefiles/pausedefault.xml'),\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Never', '/research/library/pausefiles/neverpause.xml'),\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Low restrictions', '/research/library/pausefiles/pauselowrestrictions.xml')\n\t\t\t\t\t]),\n\t\t\t\t\tvalidationView(validity.autopauseUrl, 'This row is required')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.targetCompletions)}, [\n\t\t\t\t\tm('label','Target number of sessions'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'number',\n\t\t\t\t\t\tplaceholder:'Target Sessions',\n\t\t\t\t\t\tvalue: study.targetCompletions(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.targetCompletions),\n\t\t\t\t\t\tonclick: m.withAttr('value', study.targetCompletions),\n\t\t\t\t\t\tclass:inputClasses(validity.targetCompletions)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.targetCompletions, 'This row is required and has to be an integer above 0')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.userEmail)}, [\n\t\t\t\t\tm('label','User Email'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'email',\n\t\t\t\t\t\tplaceholder:'Email',\n\t\t\t\t\t\tvalue: study.userEmail(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.userEmail),\n\t\t\t\t\t\tclass:inputClasses(validity.userEmail)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.userEmail, 'This row is required and must be a valid Email')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default createMessage;\n\n/**\n * Create edit component\n * Promise editMessage({output:Prop})\n */\nlet createMessage = args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet study = output({\n\t\t\tstudyUrl: m.prop('')\n\t\t});\n\n\t\tlet ctrl = {\n\t\t\tstudy,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyUrl: study.studyUrl()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet study = ctrl.study;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Create Study'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyUrl)}, [\n\t\t\t\t\tm('label', 'Study URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study URL',\n\t\t\t\t\t\tvalue: study.studyUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.studyUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.studyUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyUrl, 'This row is required')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};","import {updateStudy, createStudy, updateStatus, getStudyId, resetStudy, STATUS_RUNNING, STATUS_PAUSED, STATUS_STOP} from './poolModel';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport editMessage from './poolEditComponent';\nimport createMessage from './poolCreateComponent';\n\n\nexport function play(study){\n\treturn messages.confirm({\n\t\theader: 'Continue Study:',\n\t\tcontent: `Are you sure you want to continue \"${study.studyId}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_RUNNING)\n\t\t\t\t.then(()=>study.studyStatus = STATUS_RUNNING)\n\t\t\t\t.catch(reportError('Continue Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n}\n\nexport function pause(study){\n\treturn messages.confirm({\n\t\theader: 'Pause Study:',\n\t\tcontent: `Are you sure you want to pause \"${study.studyId}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_PAUSED)\n\t\t\t\t.then(()=>study.studyStatus = STATUS_PAUSED)\n\t\t\t\t.catch(reportError('Pause Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n}\n\nexport let remove  = (study, list) => {\n\treturn messages.confirm({\n\t\theader: 'Remove Study:',\n\t\tcontent: `Are you sure you want to remove \"${study.studyId}\" from the pool?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_STOP)\n\t\t\t\t.then(() => list(list().filter(el => el !== study)))\n\t\t\t\t.catch(reportError('Remove Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n};\n\nexport let edit  = (input) => {\n\tlet output = m.prop();\n\treturn editMessage({input, output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tstudyPending(input, true)();\n\t\t\t\tlet study = Object.assign({}, input, unPropify(output()));\n\t\t\t\treturn updateStudy(study)\n\t\t\t\t\t.then(() => Object.assign(input, study)) // update study in view\n\t\t\t\t\t.catch(reportError('Study Editor'))\n\t\t\t\t\t.then(studyPending(input, false));\n\t\t\t}\n\t\t});\n};\n\nexport let create = (list) => {\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tspinner.show();\n\t\t\t\tgetStudyId(output())\n\t\t\t\t\t.then(response => Object.assign(unPropify(output()), response)) // add response data to \"newStudy\"\n\t\t\t\t\t.then(spinner.hide)\n\t\t\t\t\t.then(editNewStudy);\n\t\t\t}\n\t\t});\n\n\tfunction editNewStudy(input){\n\t\tlet output = m.prop();\n\t\treturn editMessage({input, output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tlet study = Object.assign({\n\t\t\t\t\t\tstartedSessions: 0,\n\t\t\t\t\t\tcompletedSessions: 0,\n\t\t\t\t\t\tcreationDate:new Date(),\n\t\t\t\t\t\tstudyStatus: STATUS_RUNNING\n\t\t\t\t\t}, input, unPropify(output()));\n\t\t\t\t\treturn createStudy(study)\n\t\t\t\t\t\t.then(() => list().push(study))\n\t\t\t\t\t\t.then(m.redraw)\n\t\t\t\t\t\t.catch(reportError('Create Study'));\n\t\t\t\t}\n\t\t\t});\n\t}\n};\n\nexport let reset = study => {\n\tmessages.confirm({\n\t\theader: 'Restart study',\n\t\tcontent: 'Are you sure you want to restart this study? This action will reset all started and completed sessions.'\n\t}).then(response => {\n\t\tif (response) {\n\t\t\tlet old = {\n\t\t\t\tstartedSessions: study.startedSessions,\n\t\t\t\tcompletedSessions: study.completedSessions\n\t\t\t};\n\t\t\tstudy.startedSessions = study.completedSessions = 0;\n\t\t\tm.redraw();\n\t\t\treturn resetStudy(study)\n\t\t\t\t.catch(response => {\n\t\t\t\t\tObject.assign(study, old);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t})\n\t\t\t\t.catch(reportError('Restart study'));\n\t\t}\n\t});\n};\n\nlet reportError = header => err => messages.alert({header, content: err.message});\n\nlet studyPending = (study, state) => () => {\n\tstudy.$pending = state;\n\tm.redraw();\n};\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst loginUrl = '/dashboard/dashboard/connect';\nconst logoutUrl = '/dashboard/dashboard/logout';\n\nlet authorizeState = {};\n\nexport let isLoggedIn = () => !!authorizeState.isLoggedin;\nexport let getRole = () => authorizeState.role;\n\nexport function authorize(){\n\tauthorizeState = getAuth();\n}\n\nexport let login = (username, password) => fetchJson(loginUrl, {\n\tmethod: 'post',\n\tbody: {username, password}\n});\n\nexport let logout = () => fetchVoid(logoutUrl, {method:'post'}).then(getAuth);\n\nfunction getAuth(){\n\tvar cookieValue = decodeURIComponent(document.cookie.replace(/(?:(?:^|.*;\\s*)PiLogin\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1'));\n\ttry {\n\t\treturn cookieValue ? JSON.parse(cookieValue) : {};\n\t} catch (e) {\n\t\tsetTimeout(()=>{throw e;});\n\t\treturn {};\n\t}\n}","export default function sortTable(listProp, sortByProp) {\n\treturn function(e) {\n\t\tlet prop = e.target.getAttribute('data-sort-by');\n\t\tlet list = listProp();\n\t\tif (prop) {\n\t\t\tif (typeof sortByProp == 'function') sortByProp(prop); // record property so that we can change style accordingly\n\t\t\tvar first = list[0];\n\t\t\tlist.sort(function(a, b) {\n\t\t\t\treturn a[prop] > b[prop] ? 1 : a[prop] < b[prop] ? -1 : 0;\n\t\t\t});\n\t\t\tif (first === list[0]) list.reverse();\n\t\t}\n\t};\n}\n","export default function formatDate(date){\n\tlet pad = num => num < 10 ? '0' + num : num;\n\treturn `${pad(date.getMonth() + 1)}\\\\${pad(date.getDate())}\\\\${date.getFullYear()}`;\n}\n","import {getAllPoolStudies, STATUS_PAUSED, STATUS_RUNNING} from './poolModel';\nimport {play, pause, remove, edit, create, reset} from './poolActions';\nimport {getRole} from 'login/authModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default poolComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nconst TABLE_WIDTH = 8;\n\nlet poolComponent = {\n\tcontroller: () => {\n\t\tconst ctrl = {\n\t\t\tplay, pause, remove, edit, reset, create,\n\t\t\tcanCreate: () => getRole() === 'SU',\n\t\t\tlist: m.prop([]),\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop(),\n\t\t\terror: m.prop('')\n\t\t};\n\n\t\tgetAllPoolStudies()\n\t\t\t.then(ctrl.list)\n\t\t\t.catch(ctrl.error)\n\t\t\t.then(m.redraw);\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet list = ctrl.list;\n\t\treturn m('.pool', [\n\t\t\tm('h2', 'Study pool'),\n\t\t\tctrl.error()\n\t\t\t\t?\n\t\t\t\tm('.alert.alert-warning',\n\t\t\t\t\tm('strong', 'Warning!! '), ctrl.error().message\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\t\tm('thead', [\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', {colspan:TABLE_WIDTH - 1}, [\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\tm('th', [\n\t\t\t\t\t\t\t\tm('a.btn.btn-secondary', {href:'/pool/history', config:m.route}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-history'), '  History'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tctrl.canCreate() ? m('tr', [\n\t\t\t\t\t\t\tm('th.text-xs-center', {colspan:TABLE_WIDTH}, [\n\t\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Add new study'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', thConfig('studyUrl',ctrl.sortBy), 'Study'),\n\t\t\t\t\t\t\tm('th', thConfig('rulesUrl',ctrl.sortBy), 'Rules'),\n\t\t\t\t\t\t\tm('th', thConfig('autopauseUrl',ctrl.sortBy), 'Autopause'),\n\t\t\t\t\t\t\tm('th', thConfig('completedSessions',ctrl.sortBy), 'Completion'),\n\t\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date'),\n\t\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tbody', [\n\t\t\t\t\t\tlist().length === 0\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\tm('tr.table-info',\n\t\t\t\t\t\t\t\tm('td.text-xs-center', {colspan: TABLE_WIDTH},\n\t\t\t\t\t\t\t\t\tm('strong', 'Heads up! '), 'There are no pool studies yet'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(study => m('tr', [\n\t\t\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\t\t\tm('td', study.studyId),\n\n\t\t\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.studyUrl, target: '_blank'}, 'Study')\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Rules url\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.rulesUrl, target: '_blank'}, 'Rules')\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Autopause url\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.autopauseUrl, target: '_blank'}, 'Autopause')\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Completions\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tstudy.startedSessions ? (100 * study.completedSessions / study.startedSessions).toFixed(1) + '% ' : 'n/a ',\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\t\t\tm('.card-header', 'Completion Details'),\n\t\t\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Target Completions: '), study.targetCompletions\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Started Sessions: '), study.startedSessions\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Completed Sessions: '), study.completedSessions\n\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Date\n\t\t\t\t\t\t\t\tm('td', formatDate(new Date(study.creationDate))),\n\n\t\t\t\t\t\t\t\t// ### Status\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t\t\t}[study.studyStatus]\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tstudy.$pending\n\t\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\tm('.l', 'Loading...')\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\t\t\t\tstudy.canUnpause && study.studyStatus === STATUS_PAUSED ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.play.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-play')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canPause && study.studyStatus === STATUS_RUNNING ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.pause.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-pause')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canReset ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.edit.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-edit')\n\t\t\t\t\t\t\t\t\t\t\t]): '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canReset ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.reset.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-refresh')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canStop ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, study, list)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t\t\t\t]) : ''\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]))\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\treturn study =>\n\t\tincludes(study.studyId, ctrl.globalSearch()) ||\n\t\tincludes(study.studyUrl, ctrl.globalSearch()) ||\n\t\tincludes(study.rulesUrl, ctrl.globalSearch());\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}\n","// import $ from 'jquery';\nlet Pikaday = window.Pikaday;\n\nexport let datePicker = (prop, options) => m.component(pikaday, {prop,options});\nexport let dateRangePicker = args => m.component(pikadayRange, args);\n\nlet pikaday = {\n\tview(ctrl, {prop, options}){\n\t\treturn m('div', {config: pikaday.config(prop, options)});\n\t},\n\tconfig(prop, options){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tif (!isInitialized){\n\t\t\t\tctx.picker = new Pikaday(Object.assign({\n\t\t\t\t\tonSelect: prop,\n\t\t\t\t\tcontainer: element\n\t\t\t\t},options));\n\n\t\t\t\telement.appendChild(ctx.picker.el);\n\t\t\t}\n\n\t\t\tctx.picker.setDate(prop());\n\t\t};\n\t}\n};\n\n/**\n * args = {\n * \tstartValue: m.prop,\n *  endValue: m.prop,\n *  options: Object // specific daterange plugin options\n * }\n */\n\nlet pikadayRange = {\n\tview: function(ctrl, args){\n\t\treturn m('.date-range',[\n\t\t\tm('.figure', [\n\t\t\t\tm('strong','Start Date'),\n\t\t\t\tm('br'),\n\t\t\t\tm('.figure', {config:pikadayRange.configStart(args)})\n\t\t\t]),\n\t\t\tm.trust('&nbsp;'),\n\t\t\tm('.figure', [\n\t\t\t\tm('strong','End Date'),\n\t\t\t\tm('br'),\n\t\t\t\tm('.figure', {config:pikadayRange.configEnd(args)})\n\t\t\t])\n\t\t]);\n\t},\n\tconfigStart({startDate, endDate}){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tlet picker = ctx.picker;\n\n\t\t\tif (!isInitialized){\n\t\t\t\tpicker = ctx.picker = new Pikaday({\n\t\t\t\t\tmaxDate: new Date(),\n\t\t\t\t\tonSelect: date => startDate(date) && update() || m.redraw()\n\t\t\t\t});\n\t\t\t\telement.appendChild(picker.el);\n\n\t\t\t\tctx.onunload = picker.destroy.bind(picker);\n\t\t\t\tpicker.setDate(startDate());\n\t\t\t}\n\n\t\t\t// resset picker date only if the date has changed externaly\n\t\t\tif (!datesEqual(startDate() ,picker.getDate())){\n\t\t\t\tpicker.setDate(startDate(),true);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\tfunction update(){\n\t\t\t\tpicker.setStartRange(startDate());\n\t\t\t\tpicker.setEndRange(endDate());\n\t\t\t\tpicker.setMaxDate(endDate());\n\t\t\t}\n\t\t};\n\t},\n\tconfigEnd({startDate, endDate}){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tlet picker = ctx.picker;\n\n\t\t\tif (!isInitialized){\n\t\t\t\tpicker = ctx.picker = new Pikaday({\n\t\t\t\t\tmaxDate: new Date(),\n\t\t\t\t\tonSelect: date => endDate(date) && update() || m.redraw()\n\t\t\t\t});\n\t\t\t\telement.appendChild(picker.el);\n\n\t\t\t\tctx.onunload = picker.destroy.bind(picker);\n\t\t\t\tpicker.setDate(endDate());\n\t\t\t}\n\n\t\t\t// resset picker date only if the date has changed externaly\n\t\t\tif (!datesEqual(endDate() ,picker.getDate())){\n\t\t\t\tpicker.setDate(endDate(),true);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\tfunction update(){\n\t\t\t\tpicker.setStartRange(startDate());\n\t\t\t\tpicker.setEndRange(endDate());\n\t\t\t\tpicker.setMinDate(startDate());\n\t\t\t}\n\t\t};\n\t}\n};\n\nlet datesEqual = (date1, date2) => date1 instanceof Date && date2 instanceof Date && date1.getTime() === date2.getTime();","import {getLast100PoolUpdates} from './poolModel';\nimport {dateRangePicker} from 'utils/dateRange';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default poolComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nlet poolComponent = {\n\tcontroller: () => {\n\t\tconst ctrl = {\n\t\t\tlist: m.prop([]),\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tstartDate: m.prop(new Date(0)),\n\t\t\tendDate: m.prop(new Date()),\n\t\t\tsortBy: m.prop()\n\t\t};\n\n\t\tgetLast100PoolUpdates()\n\t\t\t.then(ctrl.list)\n\t\t\t.then(m.redraw);\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet list = ctrl.list;\n\t\treturn m('.pool', [\n\t\t\tm('h2', 'Pool history'),\n\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\tm('thead', [\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th.row', {colspan:8}, [\n\t\t\t\t\t\t\tm('.col-sm-4',\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tm('.col-sm-8',\n\t\t\t\t\t\t\t\tdateRangePicker(ctrl),\n\t\t\t\t\t\t\t\tm('.btn-group-vertical.history-button-group',[\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'Last 7 Days', 7),\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'Last 30 Days', 30),\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'Last 90 Days', 90),\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'All times', 3650)\n\t\t\t\t\t\t\t\t])\n\n\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', thConfig('studyUrl',ctrl.sortBy), 'Study'),\n\t\t\t\t\t\t\tm('th', thConfig('rulesUrl',ctrl.sortBy), 'Rules'),\n\t\t\t\t\t\t\tm('th', thConfig('autopauseUrl',ctrl.sortBy), 'Autopause'),\t\t\n\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Creation Date'),\n\t\t\t\t\t\tm('th', thConfig('completedSessions',ctrl.sortBy), 'Completion'),\n\t\t\t\t\t\tm('th','New Status'),\n\t\t\t\t\t\tm('th','Old Status'),\n\t\t\t\t\t\tm('th', thConfig('updaterId',ctrl.sortBy), 'Updater'),\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('tbody', [\n\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(study => m('tr', [\n\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\tm('td', study.studyId),\n\n\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.studyUrl, target: '_blank'}, 'Study')\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Rules url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.rulesUrl, target: '_blank'}, 'Rules')\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Autopause url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.autopauseUrl, target: '_blank'}, 'Autopause')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t\t\t// ### Date\n\t\t\t\t\t\tm('td', formatDate(new Date(study.creationDate))),\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ### Target Completionss\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tstudy.startedSessions ? (100 * study.completedSessions / study.startedSessions).toFixed(1) + '% ' : 'n/a ',\n\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\tm('.card-header', 'Completion Details'),\n\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Target Completions: '), study.targetCompletions\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Started Sessions: '), study.startedSessions\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Completed Sessions: '), study.completedSessions\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### New Status\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t}[study.newStatus]\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t// ### Old Status\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t}[study.studyStatus]\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('td', study.updaterId),\n\t\t\t\t\t]))\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\treturn study =>\n\t\t(includes(study.studyId, ctrl.globalSearch()) ||\tincludes(study.updaterId, ctrl.globalSearch()) || includes(study.rulesUrl, ctrl.globalSearch())\n\t\t \t|| includes(study.targetCompletions, ctrl.globalSearch()))\n\t\t&& (new Date(study.creationDate)).getTime() >= ctrl.startDate().getTime()\n\t&& (new Date(study.creationDate)).getTime() <= ctrl.endDate().getTime()+86000000; //include the end day selected\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}\n\nlet dayButtonView = (ctrl, name, days) => m('button.btn.btn-secondary.btn-sm', {onclick: () => {\n\tlet d = new Date();\n\td.setDate(d.getDate() - days);\n\tctrl.startDate(d);\n\tctrl.endDate(new Date());\n}}, name);","import {fetchJson, fetchVoid} from 'utils/modelHelpers';\nconst url = '/dashboard/DashboardData';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_COMPLETE = 'C';\nexport const STATUS_ERROR = 'X';\n\nexport let getAllDownloads = () => fetchJson(url, {\n\tmethod:'post',\n\tbody: {action:'getAllDownloads'}\n}).then(interceptErrors);\n\nexport let removeDownload = download => fetchVoid(url, {\n\tmethod:'post',\n\tbody: Object.assign({action:'removeDownload'}, download)\n}).then(interceptErrors);\n\nexport let createDownload = download => fetchJson(url, {\n\tmethod: 'post',\n\tbody: Object.assign({action:'download'}, download)\n}).then(interceptErrors);\n\n\n\nfunction interceptErrors(response){\n\tif (!response || !response.error){\n\t\treturn response;\n\t}\n\n\treturn Promise.reject({message: response.msg});\n}","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\n\nexport default args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet download ={\n\t\t\tstudyId: m.prop(''),\n\t\t\tdb: m.prop('test'),\n\t\t\tstartDate: m.prop(new Date(0)),\n\t\t\tendDate: m.prop(new Date())\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(download);\n\n\n\t\tlet ctrl = {\n\t\t\tdownload,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: download.studyId()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet download = ctrl.download;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Request Download'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: download.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', download.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to request a download.')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label','Database'),\n\t\t\t\t\tm('select.form-control', {onchange: m.withAttr('value',download.db)}, [\n\t\t\t\t\t\tm('option',{value:'test', selected: download.db() === 'test'}, 'Development'),\n\t\t\t\t\t\tm('option',{value:'warehouse', selected: download.db() === 'warehouse'}, 'Production')\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Date Range'),\n\t\t\t\t\tdateRangePicker(download),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tdayButtonView(download, 'Last 7 Days', 7),\n\t\t\t\t\t\tdayButtonView(download, 'Last 30 Days', 30),\n\t\t\t\t\t\tdayButtonView(download, 'Last 90 Days', 90),\n\t\t\t\t\t\tdayButtonView(download, 'All times', 3650)\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\nlet dayButtonView = (download, name, days) => m('button.btn.btn-secondary.btn-sm', {onclick: () => {\n\tlet d = new Date();\n\td.setDate(d.getDate() - days);\n\tdownload.startDate(d);\n\tdownload.endDate(new Date());\n}}, name);","import {getAllDownloads, removeDownload, createDownload, STATUS_RUNNING} from './downloadsModel';\nimport createMessage from './downloadsCreate';\nimport messages from 'utils/messagesComponent';\n\n/**\n * Get all downloads\n */\n\nexport let recursiveGetAll = debounce(getAll, 5000);\nexport function getAll({list, cancel, error}){\n\treturn getAllDownloads()\n\t\t.then(list)\n\t\t.then(response => {\n\t\t\tif (!cancel() && response.some(download => download.studyStatus === STATUS_RUNNING)) {\n\t\t\t\trecursiveGetAll({list, cancel, error});\n\t\t\t}\n\t\t})\n\t\t.catch(error)\n\t\t.then(m.redraw);\n}\n\n\n// debounce but call at first iteration\nfunction debounce(func, wait) {\n\tlet first = true;\n\tlet timeout;\n\treturn function() {\n\t\tvar context = this, args = arguments;\n\t\tvar later = function() {\n\t\t\ttimeout = null;\n\t\t\tfunc.apply(context, args);\n\t\t};\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (first) {\n\t\t\tfunc.apply(context, args);\n\t\t\tfirst = false;\n\t\t}\n\t};\n}\n\n\n/**\n * Remove download\n */\n\nexport function remove(download, list) {\n\treturn messages.confirm({\n\t\theader: 'Delete Request:',\n\t\tcontent: [\n\t\t\t'Are you sure you want to delete this request from your queue?',\n\t\t\tm('.text-xs-center',\n\t\t\t\tm('small.muted-text','(Don\\'t worry, the data will stay on our servers and you can request it again in the future)')\n\t\t\t)\n\t\t]\n\t})\n\t.then(function(response){\n\t\tif (response) return doRemove(download, list);\n\t});\n}\n\nfunction doRemove(download, list){\n\tlist(list().filter(el => el !== download));\n\tm.redraw();\n\tremoveDownload(download)\n\t\t.catch(err => {\n\t\t\tlist().push(download);\n\t\t\treturn messages.alert({\n\t\t\t\theader: 'Delete Request',\n\t\t\t\tcontent: err.message\n\t\t\t});\n\t\t});\n}\n\n/**\n * Create download\n */\n\nexport function create(list, cancel){\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response){\n\t\t\t\tlet download = unPropify(output());\n\t\t\t\tlist().unshift(Object.assign({\n\t\t\t\t\tstudyStatus: STATUS_RUNNING,\n\t\t\t\t\tcreationDate: new Date()\n\t\t\t\t},download));\n\t\t\t\tcancel(true);\n\t\t\t\treturn createDownload(download)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tcancel(false);\n\t\t\t\t\t\tgetAll({list, cancel});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reportError)\n\t\t\t\t\t.then(cancel.bind(null, false));\n\t\t\t}\n\t\t});\n}\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});\n\nlet reportError = header => err => messages.alert({header, content: err.message});","import {STATUS_RUNNING, STATUS_COMPLETE, STATUS_ERROR} from './downloadsModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nimport {getAll, remove, create} from './downloadsActions';\nexport default downloadsComponent;\n\nconst TABLE_WIDTH = 7;\nconst statusLabelsMap = {}; // defined at the bottom of this file\n\nconst downloadsComponent = {\n\tcontroller(){\n\t\tlet list = m.prop([]);\n\t\tlet cancelDownload = m.prop(false);\n\n\t\tconst ctrl = {\n\t\t\tlist,\n\t\t\tcancelDownload,\n\t\t\tcreate,\n\t\t\tremove,\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop('studyId'),\n\t\t\tonunload(){\n\t\t\t\tcancelDownload(true);\n\t\t\t},\n\t\t\terror: m.prop('')\n\t\t};\n\n\t\tgetAll({list:ctrl.list, cancel: cancelDownload, error: ctrl.error});\n\n\t\treturn ctrl;\n\t},\n\n\tview(ctrl) {\n\t\tlet list = ctrl.list;\n\t\treturn m('.downloads', [\n\t\t\tm('h2', 'Downloads'),\n\t\t\tctrl.error()\n\t\t\t\t?\n\t\t\t\tm('.alert.alert-warning',\n\t\t\t\t\tm('strong', 'Warning!! '), ctrl.error().message\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\t\tm('thead', [\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', {colspan:TABLE_WIDTH}, [\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th.text-xs-center', {colspan:TABLE_WIDTH}, [\n\t\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list, ctrl.cancelDownload)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Download request'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', 'Data file'),\n\t\t\t\t\t\t\tm('th', thConfig('db',ctrl.sortBy), 'Database'),\n\t\t\t\t\t\t\tm('th', thConfig('fileSize',ctrl.sortBy), 'File Size'),\n\t\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date Added'),\n\t\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tbody', [\n\t\t\t\t\t\tlist().length === 0\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\tm('tr.table-info',\n\t\t\t\t\t\t\t\tm('td.text-xs-center', {colspan: TABLE_WIDTH},\n\t\t\t\t\t\t\t\t\tm('strong', 'Heads up! '), 'There are no downloads running yet'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t:\n\n\t\t\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(download => m('tr', [\n\t\t\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\t\t\tm('td', download.studyId),\n\n\t\t\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\t\t\tm('td',\n\t\t\t\t\t\t\t\t\tdownload.studyStatus == STATUS_RUNNING\n\t\t\t\t\t\t\t\t\t\t? m('i.text-muted', 'Loading...')\n\t\t\t\t\t\t\t\t\t\t: download.fileSize\n\t\t\t\t\t\t\t\t\t\t\t? m('a', {href:download.studyUrl, download:true, target: '_blank'}, 'Download')\n\t\t\t\t\t\t\t\t\t\t\t: m('i.text-muted', 'No Data')\n\t\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\t\t\t// ### Database\n\t\t\t\t\t\t\t\tm('td', download.db),\n\n\t\t\t\t\t\t\t\t// ### Filesize\n\t\t\t\t\t\t\t\tm('td', download.fileSize !== 'unknown'\n\t\t\t\t\t\t\t\t\t? download.fileSize\n\t\t\t\t\t\t\t\t\t: m('i.text-muted', 'Unknown')\n\t\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\t\t\t// ### Date Added\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tformatDate(new Date(download.creationDate)),\n\t\t\t\t\t\t\t\t\t'  ',\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\t\t\tm('.card-header', 'Creation Details'),\n\t\t\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Creation Date: '), formatDate(new Date(download.creationDate))\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Start Date: '), formatDate(new Date(download.startDate))\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'End Date: '), formatDate(new Date(download.endDate))\n\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Status\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tstatusLabelsMap[download.studyStatus]\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\t\t\tm('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, download, list)}, [\n\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]))\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\tlet search = ctrl.globalSearch();\n\treturn study =>\n\t\tincludes(study.studyId, search) ||\n\t\tincludes(study.studyUrl, search);\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}\n\nstatusLabelsMap[STATUS_COMPLETE] = m('span.label.label-success', 'Complete');\nstatusLabelsMap[STATUS_RUNNING] = m('span.label.label-info', 'Running');\nstatusLabelsMap[STATUS_ERROR] = m('span.label.label-danger', 'Error');\n","import {fetchJson} from 'utils/modelHelpers';\nconst url = '/dashboard/DownloadsAccess';\nexport const STATUS_APPROVED = true;\nexport const STATUS_SUBMITTED = false;\n\nexport function createDataAccessRequest(dataAccessRequest){\n\tlet body = Object.assign({\n\t\taction:'createDataAccessRequest'\n\t}, dataAccessRequest);\n\n\treturn fetchJson(url, {method: 'post', body: body})\n\t\t.then(interceptErrors);\n}\n\nexport function deleteDataAccessRequest(dataAccessRequest){\n\tlet body = Object.assign({\n\t\taction:'deleteDataAccessRequest'\n\t}, dataAccessRequest);\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateApproved(dataAccessRequest, approved){\n\tlet body = Object.assign({\n\t\taction:'updateApproved'\n\t}, dataAccessRequest,{approved: approved});\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function getAllOpenRequests(){\n\treturn fetchJson(url, {method:'post', body: {action:'getAllOpenRequests'}})\n\t\t.then(interceptErrors);\n}\n\n\n\nfunction interceptErrors(response){\n\tif (!response.error){\n\t\treturn response;\n\t}\n\n\tlet errors = {\n\t\t1: 'This ID already exists.',\n\t\t2: 'The study could not be found.',\n\t\t3: 'The rule file could not be found.',\n\t\t4: 'The rules file does not fit the \"research\" schema.'\n\t};\n\n\treturn Promise.reject({message: errors[response.error]});\n}","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\nexport default createMessage;\n\nlet createMessage = args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet downloadAccess ={\n\t\t\tstudyId: m.prop('')\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(downloadAccess);\n\n\n\t\tlet ctrl = {\n\t\t\tdownloadAccess,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: downloadAccess.studyId()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet downloadAccess = ctrl.downloadAccess;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Request Download'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: downloadAccess.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to request a download.')\n\t\t\t\t])\n\t\t\t\t\n\t\t\t\t\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\n","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\nexport default grantMessage;\n\nlet grantMessage = args => messages.custom({\n\tcontent: m.component(grantComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet grantComponent = {\n\tcontroller({output, close}){\n\t\tlet downloadAccess ={\n\t\t\tstudyId: m.prop(''),\n\t\t\tusername: m.prop('')\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(downloadAccess);\n\n\n\t\tlet ctrl = {\n\t\t\tdownloadAccess,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: downloadAccess.studyId(),\n\t\t\t\t\tusername: downloadAccess.username()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet downloadAccess = ctrl.downloadAccess;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Grant Data Access'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: downloadAccess.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tm('label', 'Username'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Username',\n\t\t\t\t\t\tvalue: downloadAccess.username(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.username),\n\t\t\t\t\t\tclass:inputClasses(validity.username)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to grant access.'),\n\t\t\t\t\tvalidationView(validity.username, 'The username is required in order to grant access.')\n\t\t\t\t])\n\t\t\t\t\n\t\t\t\t\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\n","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\nexport default revokeMessage;\n\nlet revokeMessage = args => messages.custom({\n\tcontent: m.component(revokeComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet revokeComponent = {\n\tcontroller({output, close}){\n\t\tlet downloadAccess ={\n\t\t\tstudyId: m.prop(''),\n\t\t\tusername: m.prop('')\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(downloadAccess);\n\n\n\t\tlet ctrl = {\n\t\t\tdownloadAccess,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: downloadAccess.studyId(),\n\t\t\t\t\tusername: downloadAccess.username()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet downloadAccess = ctrl.downloadAccess;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Revoke Data Access'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: downloadAccess.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tm('label', 'Username'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Username',\n\t\t\t\t\t\tvalue: downloadAccess.username(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.username),\n\t\t\t\t\t\tclass:inputClasses(validity.username)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to revoke access.'),\n\t\t\t\t\tvalidationView(validity.username, 'The username is required in order to revoke access.')\n\t\t\t\t])\n\t\t\t\t\n\t\t\t\t\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\n","import {createDataAccessRequest, deleteDataAccessRequest, updateApproved, getAllOpenRequests, STATUS_APPROVED, STATUS_SUBMITTED} from './downloadsAccessModel';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport createMessage from './downloadsAccessCreateComponent';\nimport grantMessage from './downloadsAccessGrantComponent';\nimport revokeMessage from './downloadsAccessRevokeComponent';\n\nexport function play(downloadAccess, list){\n\treturn messages.confirm({\n\t\theader: 'Approve Access Request:',\n\t\tcontent: `Are you sure you want to grant access of \"${downloadAccess.studyId}\" to \"${downloadAccess.username}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\treturn updateApproved(downloadAccess, STATUS_APPROVED)\n\t\t\t\t.then(() => list(list().filter(el => el !== downloadAccess)))\n\t\t\t    .then(messages.alert({header:'Grant access completed', content: 'Access granted'}))\n\t\t\t\t.catch(reportError('Grant Access'))\n\t\t\t\t.then(m.redraw());\n\t\t}\n\t});\n}\n\n\nexport let remove  = (downloadAccess, list) => {\n\treturn messages.confirm({\n\t\theader: 'Delete request:',\n\t\tcontent: `Are you sure you want to delete the access request for\"${downloadAccess.studyId}\"? If access has already been granted you will lose it`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\t\n\t\t\treturn deleteDataAccessRequest(downloadAccess)\n\t\t\t\t.then(() => list(list().filter(el => el !== downloadAccess)))\n\t\t\t    .then(messages.alert({header:\"Deletion complete\", content: \"Access has been deleted\"}))\n\t\t\t\t.catch(reportError('Remove Download Request'))\n\t\t\t    .then(m.redraw());\n\n\t\t}\n\t});\n};\n\texport let grant = (list) => {\n\t\tlet output = m.prop();\n\t\treturn grantMessage({output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tvar now = new Date();\n\t\t\t\t\tlet downloadAccess = Object.assign({\n\t\t\t\t\t\tapproved: STATUS_APPROVED,\n\t\t\t\t\t\tcreationDate: now\n\t\t\t\t\t}, null, unPropify(output()));\n\t\t\t\t\treturn createDataAccessRequest(downloadAccess)\n\t\t\t\t\t.then(messages.alert({header:\"Grant access completed\", content: \"Access granted\"}))\n\t\t\t\t\t\t.catch(reportError('Grant Access'));\n\t\t\t\t}\n\t\t\t});\t\n};\n\texport let revoke = (list) => {\n\t\tlet output = m.prop();\n\t\treturn revokeMessage({output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tvar now = new Date();\n\t\t\t\t\tlet downloadAccess = Object.assign({\n\t\t\t\t\t\tcreationDate: now\n\t\t\t\t\t}, null, unPropify(output()));\n\t\t\t\t\treturn deleteDataAccessRequest(downloadAccess)\n\t\t\t\t\t.then(messages.alert({header:\"Revoke access completed\", content: \"Access revoked\"}))\n\t\t\t\t\t\t.catch(reportError('Revoke Access'));\n\t\t\t\t}\n\t\t\t});\t\n};\nexport let create = (list) => {\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tvar now = new Date();\n\t\t\t\tlet downloadAccess = Object.assign({\n\t\t\t\t\tapproved: STATUS_SUBMITTED,\n\t\t\t\t\tcreationDate: now,\n\t\t\t\t\tapproved: 'access pending'\n\t\t\t\t}, null, unPropify(output()));\n\t\t\t\treturn createDataAccessRequest(downloadAccess)\n\t\t\t\t\t.then(() => list().unshift(downloadAccess))\n\t\t\t\t\t.then(m.redraw)\n\t\t\t\t\t.catch(reportError('Data Access Request'));\n\t\t\t}\n\t\t});\n\n\t\t/*export let create = (list) => {\n\t\t\tlet output = m.prop();\n\t\t\treturn createMessage({output})\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\teditNewStudy(list);\n\t\t\t\t\t}\n\t\t\t\t});\t*/\t\n\n\tfunction editNewStudy(input){\n\t\tlet output = m.prop();\n\t\treturn createMessage({input, output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tlet downloadAccess = Object.assign({\n\t\t\t\t\t\tapproved: STATUS_SUBMITTED\n\t\t\t\t\t}, input, unPropify(output()));\n\t\t\t\t\treturn createDataAccessRequest(downloadAccess)\n\t\t\t\t\t\t.then(() => list().unshift(downloadAccess))\n\t\t\t\t\t\t.then(m.redraw)\n\t\t\t\t\t\t.catch(reportError('Data Access Request'));\n\t\t\t\t}\n\t\t\t});\n\t}}\n\nlet editMessage = args => messages.custom({\n\tcontent: m.component(editComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\n\nlet reportError = header => err => messages.alert({header, content: err.message});\n\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});","import {getAllOpenRequests, STATUS_APPROVED, STATUS_SUBMITTED} from './downloadsAccessModel';\nimport {play, pause, remove, edit, create, grant, revoke, reset} from './downloadsAccessActions';\nimport {getRole} from 'login/authModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default downloadsAccessComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nconst TABLE_WIDTH = 6;\n\nlet downloadsAccessComponent = {\n\tcontroller: () => {\n\t\tconst ctrl = {\n\t\t\tplay: play,\n\t\t\tremove: remove,\n\t\t\tcreate: create,\n\t\t\tgrant: grant,\n\t\t\trevoke: revoke,\n\t\t\tlist: m.prop([]),\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop(),\n\t\t\terror: m.prop(''),\n\t\t\tisAdmin: () => getRole() === 'SU',\n\t\t};\n\n\t\tgetAllOpenRequests()\n\t\t\t.then(ctrl.list)\n\t\t\t.catch(ctrl.error)\n\t\t\t.then(m.redraw);\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet list = ctrl.list;\n\t\treturn m('.downloadAccess', [\n\t\t\tm('h2', 'Data Download Access Requests'),\n\t\t\tctrl.error()\n\t\t\t\t?\n\t\t\t\tm('.alert.alert-warning',\n\t\t\t\t\tm('strong', 'Warning!! '), ctrl.error().message\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\t\tm('thead', [\n\t\t\t\t\t\t\n\t\t\t\t\t\tm('tr', [m('th.text-xs-left', {colspan:1}, [\n\t\t\t\t\t\t\t\tctrl.isAdmin()? '' : m('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Request Access'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\tm('th.text-xs-left', {colspan:1}, [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.grant.bind(null, list)}, [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Grant Access'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t,m('th.text-xs-left', {colspan:1}, [\n\t\t\t\t\t\t\t\tctrl.isAdmin()? m('button.btn.btn-secondary', {onclick:ctrl.revoke.bind(null, list)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Revoke Access'\n\t\t\t\t\t\t\t\t]) : ''\n\t\t\t\t\t\t\t]),m('th', {colspan:TABLE_WIDTH-2}, [\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', thConfig('username',ctrl.sortBy), 'Username'),\n\t\t\t\t\t\t\tm('th', thConfig('email',ctrl.sortBy), 'Email'),\n\t\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date'),\n\t\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tbody', [\n\t\t\t\t\t\tlist().length === 0\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\tm('tr.table-info',\n\t\t\t\t\t\t\t\tm('td.text-xs-center', {colspan: TABLE_WIDTH},\n\t\t\t\t\t\t\t\t\tm('strong', 'Heads up! '), 'There are no requests yet'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tlist().filter(dataRequestFilter(ctrl)).map(dataRequest => m('tr', [\n\t\t\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\t\t\tm('td', dataRequest.studyId),\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// ### USERNAME\n\t\t\t\t\t\t\t\tm('td', dataRequest.username),\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// ### EMAIL\n\t\t\t\t\t\t\t\tm('td', dataRequest.email),\n\n\t\t\t\t\t\t\t\t// ### Date\n\t\t\t\t\t\t\t\tm('td', formatDate(new Date(dataRequest.creationDate))),\n\t\t\t\t\t\t\t\tdataRequest.approved=== STATUS_APPROVED\n\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\tm('td', {style:'color:green'},'access granted')\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\tm('td', {style:'color:red'},'access pending')\n\n\t\t\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\t\t\t,m('td', [\n\t\t\t\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\t\t\t\tdataRequest.canApprove && dataRequest.approved === STATUS_SUBMITTED ? m('button.btn.btn-sm.btn-secondary', {title:'Approve request, and auto email requester',onclick: ctrl.play.bind(null, dataRequest,list)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-play')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tdataRequest.canDelete ? m('button.btn.btn-sm.btn-secondary', {title:'Delete request.  If this is a granted request owner will lose access to it',onclick: ctrl.remove.bind(null, dataRequest, list)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t\t\t\t]) : ''\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]))\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction dataRequestFilter(ctrl){\n\treturn dataRequest =>\n\t\tincludes(dataRequest.studyId, ctrl.globalSearch()) ||\n\t\tincludes(dataRequest.username, ctrl.globalSearch()) ||\n\t\tincludes(dataRequest.email, ctrl.globalSearch());\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}","import {login, isLoggedIn} from './authModel';\nimport fullHeight from 'utils/fullHeight';\nexport default loginComponent;\n\nlet loginComponent = {\n\tcontroller(){\n\t\tconst username = m.prop('');\n\t\tconst password = m.prop('');\n\t\tconst ctrl = {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tisLoggedIn,\n\t\t\terror: m.prop(''),\n\t\t\tlogin: loginAction\n\t\t};\n\n\t\treturn ctrl;\n\n\t\tfunction loginAction(){\n\t\t\tconsole.log('va', username(), password())\n\t\t\tlogin(username, password)\n\t\t\t\t.then(() => {\n\t\t\t\t\tm.route('/');\n\t\t\t\t})\n\t\t\t\t.catch(response => {\n\t\t\t\t\tctrl.error(response.message);\n\t\t\t\t\tm.redraw();\n\t\t\t\t})\n                                ;\n\t\t}\n\t},\n\tview(ctrl){\n\t\treturn m('.login.centrify', {config:fullHeight},[\n\t\t\tisLoggedIn()\n\t\t\t\t?\n\t\t\t\t[\n\t\t\t\t\tm('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n\t\t\t\t\tm('h5', 'You are already logged in!')\n\t\t\t\t]\n\t\t\t\t:\n\t\t\t\tm('.card.card-inverse.col-md-4', [\n\t\t\t\t\tm('.card-block',[\n\t\t\t\t\t\tm('h4', 'Please sign in'),\n\n\t\t\t\t\t\tm('form', {onsubmit:ctrl.login}, [\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'username',\n\t\t\t\t\t\t\t\tplaceholder: 'Username / Email',\n\t\t\t\t\t\t\t\tvalue: ctrl.username(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.username)\n\t\t\t\t\t\t\t}),\n\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'password',\n\t\t\t\t\t\t\t\tplaceholder: 'Password',\n\t\t\t\t\t\t\t\tvalue: ctrl.password(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.password),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.password),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.password)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\tctrl.error() ? m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()) : '',\n\n\t\t\t\t\t\tm('button.btn.btn-primary.btn-block', {onclick: ctrl.login},'Sign in'),\n\n\t\t\t\t\t\t m('p.text-center',\n                                                        m('small.text-muted',  m('a', {href:'index.html?/recovery'}, 'Lost your password?'))\n\n\t\t\t\t\t\t )\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\nfunction getStartValue(prop){\n\tconsole.log('horrible hack to manage chrome pw autocomplete')\n\treturn (element, isInit) => {// !isInit && prop(element.value);\n\t\tif (!isInit) setTimeout(()=>prop(element.value), 30);\n\t}\n}","import {fetchJson} from 'utils/modelHelpers';\n\nconst baseUrl = '/dashboard/dashboard/deploy_list';\n\n\nexport function get_study_list(){\n    return fetchJson(baseUrl);\n}\n","import {get_study_list} from './deployListModel';\nimport sortTable from 'utils/sortTable';\n\nconst TABLE_WIDTH = 8;\n\nimport {formFactory, textInput, checkboxInput, maybeInput, radioInput} from 'utils/formHelpers';\nimport fullHeight from 'utils/fullHeight';\nexport default deployComponent;\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nlet deployComponent = {\n    controller(){\n        let form = formFactory();\n        let ctrl = {\n            list: m.prop(''),\n            sortBy: m.prop('CREATION_DATE'),\n\n        };\n        get_study_list()\n            .then(response =>{ctrl.list(response.requests);\n            })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n\t\n        return {ctrl, form};\n    },\n    view({form, ctrl}){\n        let list = ctrl.list;\n        return m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n                m('thead', [\n                        m('tr', [\n                                m('th', thConfig('CREATION_DATE',ctrl.sortBy), 'Creation date'),\n                                m('th', thConfig('FOLDER_LOCATION',ctrl.sortBy), 'Folder location'),\n                                m('th', thConfig('RULE_FILE',ctrl.sortBy), 'Rule file'),\n                                m('th', thConfig('RESEARCHER_EMAIL',ctrl.sortBy), 'Researcher email'),\n                                m('th', thConfig('RESEARCHER_NAME',ctrl.sortBy), 'Researcher name'),\n                                m('th', thConfig('TARGET_NUMBER',ctrl.sortBy), 'Target number'),\n                                m('th', thConfig('APPROVED_BY_A_REVIEWER',ctrl.sortBy), 'Approved by a reviewer'),\n                                m('th', thConfig('EXPERIMENT_FILE',ctrl.sortBy), 'Experiment file'),\n                                m('th', thConfig('LAUNCH_CONFIRMATION',ctrl.sortBy), 'Launch confirmation'),\n                                m('th', thConfig('COMMENTS',ctrl.sortBy), 'Comments'),\n                        ])\n                ]),\n                m('tbody', [\n                    ctrl.list().length === 0\n                        ?\n                        m('tr.table-info',\n                                m('td.text-xs-center', {colspan: TABLE_WIDTH},\n                                        m('strong', 'Heads up! '), 'There are no pool studies yet'\n                                )\n                        )\n                        :\n                        ctrl.list().map(study => m('tr', [\n                                m('td', study.CREATION_DATE),\n                                m('td', m('a', {href:study.FOLDER_LOCATION}, study.FOLDER_LOCATION)),\n                                m('td', study.RULE_FILE),\n                                m('td', m('a', {href:\"mailto:\"+study.RESEARCHER_EMAIL}, study.RESEARCHER_EMAIL)),\n                                m('td', study.RESEARCHER_NAME),\n                                m('td', study.TARGET_NUMBER),\n                                m('td', study.APPROVED_BY_A_REVIEWER),\n                                m('td', study.EXPERIMENT_FILE),\n                                m('td', study.LAUNCH_CONFIRMATION),\n                                m('td', study.COMMENTS)\n\n                            ]))\n                    ])\n        ]);\n     }\n};\n","import {fetchJson} from 'utils/modelHelpers';\n\nconst baseUrl = '/dashboard/dashboard/change_request_list';\n\n\nexport function get_change_request_list(){\n    return fetchJson(baseUrl);\n}\n","import {get_change_request_list} from './changeRequestListModel';\nimport sortTable from 'utils/sortTable';\nimport {formFactory, textInput, checkboxInput, maybeInput, radioInput} from 'utils/formHelpers';\n\nimport messages from 'utils/messagesComponent';\nconst TABLE_WIDTH = 8;\nexport default changeRequestListComponent;\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\nlet changeRequestListComponent = {\n    controller(){\n        let form = formFactory();\n        \n        let ctrl = {\n            list: m.prop(''),\n            sortBy: m.prop('CREATION_DATE'),\n        };\n        get_change_request_list()\n          .then(response =>{ctrl.list(response.requests);\n                sortTable(ctrl.list, ctrl.sortBy);\n            })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n        return {ctrl, form};\n    },\n\n    view({form, ctrl}){\n        let list = ctrl.list;\n\n        return m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\n                m('thead', [\n                        \n                        m('tr', [\n                            m('th', thConfig('CREATION_DATE',ctrl.sortBy), 'Creation date'),\n                            m('th', thConfig('RESEARCHER_EMAIL',ctrl.sortBy), 'Researcher email'),\n                            m('th', thConfig('RESEARCHER_NAME',ctrl.sortBy), 'Researcher name'),\n                            m('th', thConfig('FILE_NAMES',ctrl.sortBy), 'File names'),\n                            m('th', thConfig('TARGET_SESSIONS',ctrl.sortBy), 'Target sessions'),\n                            m('th', thConfig('STUDY_SHOWFILES_LINK',ctrl.sortBy), 'Study showfiles link'),\n                            m('th', thConfig('STATUS',ctrl.sortBy), 'Status'),\n                            m('th', thConfig('COMMENTS',ctrl.sortBy), 'Comments'),\n                        ])\n                ]),\n                m('tbody', [\n                    ctrl.list().length === 0\n                        ?\n                        m('tr.table-info',\n                                m('td.text-xs-center', {colspan: TABLE_WIDTH},\n                                        m('strong', 'Heads up! '), 'There are no pool studies yet'\n                                )\n                        )\n                        :\n                        ctrl.list().map(study => m('tr', [\n                                m('td', study.CREATION_DATE),\n                                m('td', m('a', {href:\"mailto:\"+study.RESEARCHER_EMAIL}, study.RESEARCHER_EMAIL)),\n                                m('td', study.RESEARCHER_NAME),\n                                m('td', study.FILE_NAMES),\n                                m('td', study.TARGET_SESSIONS),\n                                m('td', m('a', {href:study.STUDY_SHOWFILES_LINK}, study.STUDY_SHOWFILES_LINK)),\n                                m('td', study.STATUS),\n                                m('td', study.COMMENTS)\n                            ]))\n                    ])\n        ]);\n     }\n};\n","import {fetchJson} from 'utils/modelHelpers';\n\nconst baseUrl = '/dashboard/dashboard/removal_list';\n\n\nexport function get_removal_list(){\n    return fetchJson(baseUrl);\n}\n","import {get_removal_list} from './removalListModel';\nimport sortTable from 'utils/sortTable';\nimport {formFactory, textInput, checkboxInput, maybeInput, radioInput} from 'utils/formHelpers';\n\nimport messages from 'utils/messagesComponent';\nconst TABLE_WIDTH = 8;\nexport default removalListComponent;\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nlet removalListComponent = {\n    controller(){\n        let form = formFactory();\n        \n        let ctrl = {\n            list: m.prop(''),\n            sortBy: m.prop('CREATION_DATE'),\n        };\n        get_removal_list()\n          .then(response =>{ctrl.list(response.requests);\n        sortTable(ctrl.list, ctrl.sortBy);\n  })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n        return {ctrl, form};\n    },\n\n    view({form, ctrl}){\n        let list = ctrl.list;\n\n        return m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\n                m('thead', [\n                        \n                        m('tr', [\n                            m('th', thConfig('CREATION_DATE',ctrl.sortBy), 'Creation date'),\n                            m('th', thConfig('RESEARCHER_EMAIL',ctrl.sortBy), 'Researcher email'),\n                            m('th', thConfig('RESEARCHER_NAME',ctrl.sortBy), 'Researcher name'),\n                            m('th', thConfig('STUDY_NAME',ctrl.sortBy), 'Study name'),\n                            m('th', thConfig('COMPLETED_N',ctrl.sortBy), 'Completed n'),\n                            m('th', thConfig('COMMENTS',ctrl.sortBy), 'Comments'),\n                        ])\n                ]),\n                m('tbody', [\n                    ctrl.list().length === 0\n                        ?\n                        m('tr.table-info',\n                                m('td.text-xs-center', {colspan: TABLE_WIDTH},\n                                        m('strong', 'Heads up! '), 'There are no pool studies yet'\n                                )\n                        )\n                        :\n                        ctrl.list().map(study => m('tr', [\n                                m('td', study.CREATION_DATE),\n                                m('td', m('a', {href:\"mailto:\"+study.RESEARCHER_EMAIL}, study.RESEARCHER_EMAIL)),\n                                m('td', study.RESEARCHER_NAME),\n                                m('td', study.STUDY_NAME),\n                                m('td', study.COMPLETED_N),\n                                m('td', study.COMMENTS)\n                            ]))\n                    ])\n        ]);\n     }\n};\n","import {fetchJson} from 'utils/modelHelpers';\n\nconst baseUrl = '/dashboard/dashboard/studies';\n\n\nfunction get_prop_url(study_id)\n{\t\n    return `${baseUrl}/${encodeURIComponent(study_id)}/prop`;\n}\n\nfunction deploy_url(study_id)\n{\t\n    return `${baseUrl}/${encodeURIComponent(study_id)}/deploy`;\n}\n\n\nexport function get_study_prop(study_id){\n    var url = get_prop_url(study_id);\n    return fetchJson(url);\n}\n\nexport let deploy = (study_id, ctrl) => fetchJson(deploy_url(study_id), {\n\tmethod: 'post',\n\tbody: {target_number: ctrl.target_number, approved_by_a_reviewer: ctrl.approved_by_a_reviewer, experiment_file: ctrl.experiment_file, launch_confirmation: ctrl.launch_confirmation, comments: ctrl.comments, rulesValue: ctrl.rulesValue}\n}); \n\nexport let study_removal = (study_id, ctrl) => fetchJson(deploy_url(study_id), {\n\tmethod: 'delete',\n\tbody: {study_name: ctrl.study_name, completed_n: ctrl.completed_n, comments: ctrl.comments}\n});\n\nexport let Study_change_request = (study_id, ctrl) => fetchJson(deploy_url(study_id), {\n\tmethod: 'put',\n\tbody: {file_names: ctrl.file_names, target_sessions: ctrl.target_sessions, status: ctrl.status, comments: ctrl.comments}\n});\n\n\n//                        m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n//                        m('h5', ['The Deploy form was sent successfully ', m('a', {href:'deployList'}, 'View Deploy Requests')]'])\n//                        m('h5', 'No Rule File'])\n","import messages from 'utils/messagesComponent';\nexport default args => m.component(rulesComponent, args);\n\nlet rulesComponent = {\n\tcontroller({visual, value, comments}){\n\t\treturn {visual, value, edit, remove, addcomments};\n\n\t\tfunction edit(){\n\t\t\twindow.open('../ruletable.html');\n\t\t}\n\n\t\tfunction remove(){\n\t\t\tvisual('None');\n\t\t\tvalue('parent'); // this value is defined by the rule generator\n\t\t}\n\n\t\tfunction addcomments(){\n\t\t\tmessages.prompt({\n\t\t\t\tprop: comments,\n\t\t\t\theader: 'Edit rule comments'\n\t\t\t});\n\t\t}\n\t},\n\tview: ({visual, value, edit, remove, addcomments}) => {\n\t\treturn m('div', [\n\t\t\tm('btn-toolbar', [\n\t\t\t\tm('.btn.btn-secondary.btn-sm', {onclick: edit},  [\n\t\t\t\t\tm('i.fa.fa-edit'), ' Rule editor'\n\t\t\t\t]),\n\t\t\t\tm('.btn.btn-secondary.btn-sm', {onclick: remove},  [\n\t\t\t\t\tm('i.fa.fa-remove'), ' Clear rules'\n\t\t\t\t])\n                        ]),\n\t\t\tm('#ruleGenerator.card.card-warning.m-t-1', {config: getInputs(visual, value)}, [\n\t\t\t\tm('.card-block', visual())\n\t\t\t]),\n\t\t\tm('small.text-muted', ` Consider whether it makes sense for just any person from any country of any age to complete your study. If you want to create restrictions, use the Rules editor`)\n\t\t]);\t\n\t}\n};\n\nlet getInputs = (visual, value) => (element, isInit) => {\n\tif (isInit) return true;\n\telement.ruleGeneratorVisual = visual;\n\telement.ruleGeneratorValue = value;\n};\n\n","import {deploy, get_study_prop} from './deployModel';\nimport messages from 'utils/messagesComponent';\nimport {formFactory, textInput, checkboxInput, radioInput} from 'utils/formHelpers';\nimport rulesEditor from './rulesComponent';\nexport default deployComponent;\n\nconst ASTERIX = m('span.text-danger', '*');\n\nlet deployComponent = {\n    controller(){\n        let form = formFactory();\n        let ctrl = {\n            sent:false,\n            folder_location: m.prop(''),\n            researcher_email: m.prop(''),\n            researcher_name: m.prop(''),\n            target_number: m.prop(''),\n            \n            rulesValue: m.prop('parent'), // this value is defined by the rule generator\n            rulesVisual: m.prop('None'),\n            rulesComments: m.prop(''),\n            rule_file: m.prop(''),\n\n            approved_by_a_reviewer: m.prop(''),\n            zero_unnecessary_files: m.prop(''),\n\n            // unnecessary\n            completed_checklist: m.prop(''),\n            approved_by_irb: m.prop(''),\n            valid_study_name: m.prop(''),\n            realstart: m.prop(''),\n\n            experiment_file: m.prop(''),\n            experiment_files: m.prop(''),\n            launch_confirmation: m.prop(''),\n            comments: m.prop('')   \n            \n        };\n        get_study_prop(m.route.param('studyId'))\n            .then(response =>{\n                    ctrl.researcher_name(response.researcher_name);\n                    ctrl.researcher_email(response.researcher_email);\n                    ctrl.folder_location(response.folder);\n                    ctrl.experiment_files(response.experiment_file.reduce((obj, row) => {\n                                                obj[row.file_name] = row.file_name;\n                                                return obj;\n                                            }, {}));\n                })\n            .catch(error => {\n                throw error;\n            }).then(m.redraw);\n\t\n        return {ctrl, form, submit};\n        function submit(){\n            form.showValidation(true);\n            if (!form.isValid())\n            {\n                messages.alert({header:'Error', content:'not valid'});\n                return;\n            }\n            deploy(m.route.param('studyId'), ctrl)\n            .then((response) => {\n                    ctrl.rule_file(response.rule_file);\n                    ctrl.sent = true;\n            })\n            .catch(error => {\n                throw error;\n            }).then(m.redraw);\n        }\n    },\n    view({form, ctrl, submit}){\n        return ctrl.sent\n        ?\n        m('.deploy.centrify',[\n            m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                        m('h5', ['The Deploy form was sent successfully ', m('a', {href:'./deployList'}, 'View Deploy Requests')]),\n                        m('h5', ['Rule File: ', 'editor/', m.route.param('studyId') ,'/file/', ctrl.rule_file()])])\n\n        :\n        \n            m('.deploy.container', [\n                m('h3', 'Deploy'),\n                m('p', 'Researcher name: ', ctrl.researcher_name()),                \n                m('p', 'Researcher email address: ', ctrl.researcher_email()),                \n                m('p', 'Study folder location: ', ctrl.folder_location()),                \n//                textInput({label:'Researcher name',  placeholder: 'Researcher name', prop: ctrl.researcher_name, form, required:true, stack}),\n//                textInput({label:'Researcher email address',  placeholder: 'Researcher email address', prop: ctrl.researcher_email, form, required:true, stack}),\n//                textInput({label:'Study folder location',  placeholder: 'Study folder location', prop: ctrl.folder_location, form, required:true, stack}),\n                    radioInput({\n                        label:m('span', ['Name of experiment file', ASTERIX]), \n                        prop: ctrl.experiment_file, \n                        values:ctrl.experiment_files(),\n                        form, isStack:true\n                    }),\n\n                    textInput({help: 'For private studies (not in the Project Implicit research pool), enter n/a', label:['Target number of completed study sessions', ASTERIX],  placeholder: 'Target number of completed study sessions', prop: ctrl.target_number, form, required:true, isStack:true}),\n\n                    m('h4', 'Participant restrictions'),\n                        rulesEditor({value:ctrl.rulesValue, visual: ctrl.rulesVisual, comments: ctrl.rulesComments}),\n\n                    m('h4', 'Acceptance checklist'),\n                    checkboxInput({description: ['Did you make sure your study-id starts with your user name', ASTERIX], prop: ctrl.valid_study_name, form, required:true, isStack:true}),                \n                    checkboxInput({\n                        description: m('span', [ 'This study has been approved by the appropriate IRB ', m('span.text-danger', '*') ]),\n                        prop: ctrl.approved_by_irb,\n                        required:true,\n                        form, isStack:true\n                    }),                \n                    checkboxInput({\n                        description: m('span', [ 'All items on \"Study Testing\" and \"Study Approval\" from Project Implicit Study Development Checklist completed (items 9 - 17) ', ASTERIX]),\n                        help: m('span', ['The checklist is available at ', m('a', {href:'http://peoplescience.org/node/105'}, 'http://peoplescience.org/node/105')]),\n                        prop: ctrl.completed_checklist, \n                        form, isStack:true, \n                        required:true\n                    }),                \n                    checkboxInput({\n                        description: m('span', ['My study folder includes ZERO files that aren\\'t necessary for the study  ', ASTERIX]),\n                        help: 'e.g., word documents, older versions of files, items that were dropped from the final version',\n                        prop: ctrl.zero_unnecessary_files, \n                        required:true,\n                        form, isStack:true\n                    }),                \n                    checkboxInput({description: ['Did you use a realstart and lastpage task?', ASTERIX], prop: ctrl.realstart, form, required:true, isStack:true}),                \n\n                    radioInput({\n                        label:m('span', ['Study approved by a *User Experience* Reviewer (Calvin Lai):', ASTERIX]), \n                        prop: ctrl.approved_by_a_reviewer, \n                        values: {\n                            'No, this study is not for the Project Implicit pool.' : 'No, this study is not for the Project Implicit pool.',\n                            'Yes' : 'Yes'\n                        },\n                        form, isStack:true\n                    }),                \n\n                    radioInput({\n                        label: m('span', ['Has this study been confirmed for launch?', ASTERIX]),\n                        help: m('span', ['If you are building this study for another researcher (e.g. a contract study), has the researcher received the standard final launch confirmation email and confirmed that the study is ready to be launched? The standard email can be found ', m('a', {href:'http://peoplescience.org/node/135'}, 'here'), '.']),\n                        prop: ctrl.launch_confirmation, \n                        values: {\n                            'No,this study is mine': 'No,this study is mine',\n                            'Yes' : 'Yes'\n                        },\n                        form, isStack:true\n                    }),                \n\n                    m('h4', 'comments'),\n                        textInput({isArea: true, label: m('span', 'Additional comments'),  placeholder: 'Additional comments', prop: ctrl.comments, form, isStack:true}),\n\n                    m('button.btn.btn-primary', {onclick: submit}, 'Deploy')\n        ]);\n     }\n};","import {formFactory, textInput, checkboxInput, maybeInput, radioInput} from 'utils/formHelpers';\nimport {study_removal, get_study_prop} from 'deploy/deployModel';\nimport fullHeight from 'utils/fullHeight';\nexport default StudyRemovalComponent;\nconst ASTERIX = m('span.text-danger', '*');\n\nlet StudyRemovalComponent = {\n    controller(){\n        let form = formFactory();\n        let ctrl = {\n            sent:false,\n            researcher_name: m.prop(''),\n            researcher_email: m.prop(''),\n            study_name: m.prop(''),\n            study_names: m.prop(''),\n            completed_n: m.prop(''),\n            comments: m.prop('')\n        }\n        get_study_prop(m.route.param('studyId'))\n            .then(response =>{\n                    ctrl.researcher_name(response.researcher_name);\n                    ctrl.researcher_email(response.researcher_email);\n                    ctrl.study_names(response.experiment_file.reduce((obj, row) => {\n                            obj[row.file_id] = row.file_id;\n                            return obj;\n                        }, {}));\n                })\n            .catch(error => {\n                m.route('/');\n            })\n            .then(m.redraw);\n        return {ctrl, form, submit};\n        function submit(){\n            form.showValidation(true);\n            if (!form.isValid())\n            {\n                messages.alert({header:'Error', content:'not valid'});\n                return;\n            }\n            study_removal(m.route.param('studyId'), ctrl)\n                .then(() => {\n                    ctrl.sent = true;\n                })\n                .catch(error => {\n                    throw error;\n                }).then(m.redraw);\n        };\n    },\n    view({form, ctrl, submit}){\n        return ctrl.sent\n        ?\n        m('.deploy.centrify',[\n            m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n            m('h5', ['The removal form was sent successfully ', m('a', {href:'./removalList'}, 'View removal requests')])\n        ])\n        :\n        m('.StudyRemoval.container', [\n            m('h1', 'Study Removal'),\n            m('p', 'Researcher name: ', ctrl.researcher_name()),                \n            m('p', 'Researcher email address: ', ctrl.researcher_email()),                \n//                textInput({label:'Researcher name',  placeholder: 'Researcher name', prop: ctrl.researcher_name, form, required:true, stack}),\n//                textInput({label:'Researcher email address',  placeholder: 'Researcher email address', prop: ctrl.researcher_email, form, required:true, stack}),\n            radioInput({\n                label:m('span', ['Study name', ASTERIX]), \n                prop: ctrl.study_name, \n                values:ctrl.study_names(),\n                help: 'This is the name you submitted to the RDE (e.g., colinsmith.elmcogload) ',\n                form, isStack:true\n            }),\n            textInput({label: m('span', ['Please enter your completed n below ', m('span.text-danger', ' *')]), help: m('span', ['you can use the following link: ', m('a', {href:'https://app-prod-03.implicit.harvard.edu/implicit/research/pitracker/PITracking.html#3'}, 'https://app-prod-03.implicit.harvard.edu/implicit/research/pitracker/PITracking.html#3')]),  placeholder: 'completed n', prop: ctrl.completed_n, form, required:true, isStack:true}),\n            textInput({isArea: true, label: m('span', 'Additional comments'), help: '(e.g., anything unusual about the data collection, consistent participant comments, etc.)',  placeholder: 'Additional comments', prop: ctrl.comments, form, isStack:true}),\n            m('button.btn.btn-primary', {onclick: submit}, 'Submit'), \n        ]);\n\n\n     }\n};\n","import {formFactory, textInput, checkboxInput, maybeInput, radioInput} from 'utils/formHelpers';\nimport {Study_change_request, get_study_prop} from 'deploy/deployModel';\nimport fullHeight from 'utils/fullHeight';\nexport default studyChangeRequestComponent;\nconst ASTERIX = m('span.text-danger', '*');\n\nlet studyChangeRequestComponent = {\n    controller(){\n        let form = formFactory();\n        let ctrl = {\n            sent:false,\n            user_name: m.prop(''),\n            researcher_name: m.prop(''),\n            researcher_email: m.prop(''),            \n            study_name: m.prop(''),            \n            target_sessions: m.prop(''),\n            status: m.prop(''),\n            file_names: m.prop(''),\n            comments: m.prop('')\n        }\n        get_study_prop(m.route.param('studyId'))\n            .then(response =>{\n                    ctrl.researcher_name(response.researcher_name);\n                    ctrl.researcher_email(response.researcher_email);\n                    ctrl.user_name(response.user_name);\n                    ctrl.study_name(response.study_name);\n                })\n            .catch(error => {\n                m.route('/');\n            })\n            .then(m.redraw);\n\n        return {ctrl, form, submit};\n        function submit(){\n\n            form.showValidation(true);\n            if (!form.isValid())\n            {\n                messages.alert({header:'Error', content:'not valid'});\n                return;\n            }\n            \n            Study_change_request(m.route.param('studyId'), ctrl)\n                .then(() => {\n                    ctrl.sent = true;\n                })\n                .catch(error => {\n                    throw error;\n                }).then(m.redraw);\n        };\n\n    },\n    view({form, ctrl, submit}){\n        let study_showfiles_link = 'http://app-prod-03.implicit.harvard.edu/implicit/showfiles.jsp?user=' + ctrl.user_name() + '&study=' + ctrl.study_name();\n\n        return ctrl.sent\n            ?\n            m('.deploy.centrify',[\n                m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                m('h5', ['The change request form was sent successfully ', m('a', {href:'./changeRequestList'}, 'View change request  requests')])\n            ])\n            :\n            m('.StudyChangeRequest.container', [\n            m('h1', 'Study Change Request'),\n            m('p', 'Researcher name: ', ctrl.researcher_name()),                \n            m('p', 'Researcher email address: ', ctrl.researcher_email()),                \n//                textInput({label:'Researcher name',  placeholder: 'Researcher name', prop: ctrl.researcher_name, form, required:true, stack}),\n//                textInput({label:'Researcher email address',  placeholder: 'Researcher email address', prop: ctrl.researcher_email, form, required:true, stack}),\n\n            m('p', ['Study showfiles link: ', m('a', {href:study_showfiles_link}, study_showfiles_link)]),\n                \n            textInput({label: m('span', ['Target number of additional sessions (In addition to the sessions completed so far)', m('span.text-danger', ' *')]),  placeholder: 'Target number of additional sessions', prop: ctrl.target_sessions, form, required:true, isStack:true}),\n\n            radioInput({\n                label: m('span', ['What\\'s the current status of your study?', ASTERIX]),\n                prop: ctrl.status, \n                values: {\n                    'Currently collecting data and does not need to be unpaused': 'Currently collecting data and does not need to be unpaused',\n                    'Manually paused and needs to be unpaused' : 'Manually paused and needs to be unpaused',\n                    'Auto-paused due to low completion rates or meeting target N.' : 'Auto-paused due to low completion rates or meeting target N.'\n                },\n                form, isStack:true\n            }),                \n\n\n                \n            textInput({isArea: true, label: m('span', ['Change Request', m('span.text-danger', ' *')]), help: 'List all file names involved in the change request. Specify for each file whether file is being updated or added to production.)',  placeholder: 'Change Request', prop: ctrl.file_names, form, required:true, isStack:true}),\n            textInput({isArea: true, label: m('span', 'Additional comments'),  placeholder: 'Additional comments', prop: ctrl.comments, form, isStack:true}),\n\n            m('button.btn.btn-primary', {onclick: submit}, 'Submit'), \n\n        ]);\n\n\n     }\n};\n","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst add_userUrl = '/dashboard/dashboard/add_user';\n\nlet added = false;\n\nexport let isadded = () => added;\n\nexport let add = (username, first_name , last_name, email, iscu) => fetchJson(add_userUrl, {\n\tmethod: 'post',\n\tbody: {username, first_name , last_name, email, iscu}\n});\n\n","import {add, isadded} from './addUserModel';\nimport {formFactory, textInput, checkboxInput} from 'utils/formHelpers';\nimport fullHeight from 'utils/fullHeight';\nexport default addComponent;\n\nlet addComponent = {\n\tcontroller(){\n\t\tconst username = m.prop('');\n\t\tconst first_name = m.prop('');\n\t\tconst last_name = m.prop('');\n\t\tconst email = m.prop('');\n\t\tconst iscu = m.prop(false);\n\t\tconst ctrl = {\n\t\t\tusername,\n\t\t\tfirst_name,\n\t\t\tlast_name,\n\t\t\temail,\n\t\t\tiscu,\n\t\t\terror: m.prop(''),\n                        added:false,\n\t\t\tadd: addAction\n\t\t};\n\n\t\treturn ctrl;\n\n\t\tfunction addAction(){\n\t\t\tconsole.log('va', username(), first_name(), last_name(), email())\n\t\t\tadd(username, first_name , last_name, email, iscu)\n\t\t\t\t.then(() => {\n\t\t\t\t\tctrl.added = true;\n\t\t\t\t})\n\t\t\t\t.catch(response => {\n//                                    console.log(JSON.parse(response)\n\t\t\t\t\tctrl.error(response.message);\n\t\t\t\t\tm.redraw();\n\t\t\t\t})\n                                .then(() => {\n\t\t\t\t\tm.redraw();\n\t\t\t\t})\n                                ;\n\t\t}\n\t},\n\tview(ctrl){\n\t\treturn m('.add.centrify', {config:fullHeight},[\n\t\t\tctrl.added\n\t\t\t\t?\n\t\t\t\t[\n\t\t\t\t\tm('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n\t\t\t\t\tm('h5', [ctrl.username(), ' successfully added (email sent)!'])\n\t\t\t\t]\n\t\t\t\t:\n\t\t\t\tm('.card.card-inverse.col-md-4', [\n\t\t\t\t\tm('.card-block',[\n\t\t\t\t\t\tm('h4', 'Please fill the following details'),\n\t\t\t\t\t\tm('form', {onsubmit:ctrl.add}, [\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'username',\n\t\t\t\t\t\t\t\tplaceholder: 'User name',\n\t\t\t\t\t\t\t\tvalue: ctrl.username(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.username)\n\t\t\t\t\t\t\t}),\n\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'first_name',\n\t\t\t\t\t\t\t\tplaceholder: 'first name',\n\t\t\t\t\t\t\t\tvalue: ctrl.first_name(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.first_name),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.first_name),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.first_name)\n\t\t\t\t\t\t\t}),\n                                                        \n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'last_name',\n\t\t\t\t\t\t\t\tplaceholder: 'last name',\n\t\t\t\t\t\t\t\tvalue: ctrl.last_name(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.last_name),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.last_name),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.last_name)\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'email',\n\t\t\t\t\t\t\t\tplaceholder: 'email',\n\t\t\t\t\t\t\t\tvalue: ctrl.email(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.email),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.email),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.email)\n\t\t\t\t\t\t\t}),\n                                                        m('label.c-input.c-checkbox', [\n                                                                m('input.form-control', {\n                                                                        type: 'checkbox',\n                                                                        onclick: m.withAttr('checked', ctrl.iscu),\n//                                                                        checked: ctrl.iscu,\n\n                                                                }),\n                                                                m('span.c-indicator'),\n                                                                m.trust('&nbsp;'),\n                                                                m('span', 'contract user')\n                                                        ]),\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\tctrl.error() ? m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()) : '',\n\n\t\t\t\t\t\tm('button.btn.btn-primary.btn-block', {onclick: ctrl.add},'Add'),\n\n\t\t\t\t\t\t// m('p.text-center',\n\t\t\t\t\t\t// \tm('a', m('small.text-muted','Lost your password?'))\n\t\t\t\t\t\t// )\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\nfunction getStartValue(prop){\n\tconsole.log('horrible hack to manage chrome pw autocomplete')\n\treturn (element, isInit) => {// !isInit && prop(element.value);\n\t\tif (!isInit) setTimeout(()=>prop(element.value), 30);\n\t}\n}","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst activation1_url = '/dashboard/dashboard/activation';\n\nfunction apiURL(code)\n{\t\n    return `${activation1_url}/${encodeURIComponent(code)}`;\n}\n\nexport let is_activation_code = (code) => fetchJson(apiURL(code), {\n\tmethod: 'get'\n});\n\nexport let set_password = (code, password, confirm) => fetchJson(apiURL(code), {\n\tmethod: 'post',\n\tbody: {password, confirm}\n});\n","export let body = ctrl => m('.card.card-inverse.col-md-4', [\n                m('.card-block',[\n                    m('h4', 'Select new password'),\n                        m('form', [\n                            m('input.form-control', {\n                                type:'password',\n                                placeholder: 'Password',\n                                value: ctrl.password(),\n                                onkeyup: m.withAttr('value', ctrl.password),\n                                onchange: m.withAttr('value', ctrl.password),\n                                config: getStartValue(ctrl.password)\n                            }),\n\n                            m('input.form-control', {\n                                type:'password',\n                                placeholder: 'Confirm password',\n                                value: ctrl.confirm(),\n                                onkeyup: m.withAttr('value', ctrl.confirm),\n                                onchange: m.withAttr('value', ctrl.confirm),\n                                config: getStartValue(ctrl.confirm)\n                            }),\n                        ]),\n                        ctrl.error() ? m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()) : '',\n                        m('button.btn.btn-primary.btn-block', {onclick: ctrl.set_password},'Update'),\n\n                    ])\n                ]);\n\nfunction getStartValue(prop){\n//\tconsole.log('horrible hack to manage chrome pw autocomplete')\n\treturn (element, isInit) => {// !isInit && prop(element.value);\n\t\tif (!isInit) setTimeout(()=>prop(element.value), 30);\n\t}\n}","import {is_activation_code, set_password} from './activationModel';\nimport {formFactory, textInput, checkboxInput} from 'utils/formHelpers';\nimport fullHeight from 'utils/fullHeight';\nimport {body} from 'changePassword/changePasswordView';\nimport {authorize, isLoggedIn} from 'login/authModel';\n\nexport default activationComponent;\n\nlet activationComponent = {\n    controller(){\n        const password = m.prop('');\n        const confirm = m.prop('');\n        const iscu = m.prop(false);\n        const ctrl = {\n            password,\n            confirm,\n            error: m.prop(''),\n            activated:false,\n            set_password: update\n        };\n       \n        is_activation_code(m.route.param('code'))\n        .catch(response => {\n            m.route('/');\n        })\n        .then(() => {\n            m.redraw();\n        });\n        return ctrl;\n            \n        function update(){\n            set_password(m.route.param('code'), password, confirm)\n                .then(() => {\n                    ctrl.activated = true;\n                })\n                .catch(response => {\n                        ctrl.error(response.message);\n                        m.redraw();\n                })\n                .then(() => {\n                        m.redraw();\n                });\n        }\n    },\n    view(ctrl){\n        return m('.activation.centrify', {config:fullHeight},[\n            \n                ctrl.activated\n            ?\n            [\n                m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                m('h5', 'Password successfully updated!')\n            ]\n            :\n            body(ctrl)]);\n    }\n};\n","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst change_password_url = '/dashboard/dashboard/change_password';\n\nfunction apiURL(code)\n{\t\n    return `${change_password_url}/${encodeURIComponent(code)}`;\n}\n\nexport let is_recovery_code = (code) => fetchJson(apiURL(code), {\n\tmethod: 'get'\n});\n\n\nexport let set_password = (code, password, confirm) => fetchJson(apiURL(code), {\n\tmethod: 'post',\n\tbody: {password, confirm}\n});\n","import {set_password, is_recovery_code} from './changePasswordModel';\nimport {formFactory, textInput, checkboxInput} from 'utils/formHelpers';\nimport fullHeight from 'utils/fullHeight';\nimport {body} from './changePasswordView';\nimport {authorize, isLoggedIn} from 'login/authModel';\n\nexport default changePasswordComponent;\n\nlet changePasswordComponent = {\n    controller(){\n        const password = m.prop('');\n        const confirm = m.prop('');\n        const ctrl = {\n            password,\n            confirm,\n            error: m.prop(''),\n            changed:false,\n            set_password: update\n        };\n        var code = m.route.param('code')!== undefined ? m.route.param('code') : \"\";\n        is_recovery_code(code)\n        .catch(response => {\n            m.route('/');\n        })\n        .then(() => {\n            m.redraw();\n        });    \n        return ctrl;\n        \n        function update(){\n            set_password(code, password, confirm)\n                .then(() => {\n                    ctrl.changed = true;\n                })\n                .catch(response => {\n                        ctrl.error(response.message);\n                        m.redraw();\n                })\n                .then(() => {\n                        m.redraw();\n                });\n        }\n    },\n    view(ctrl){\n        return m('.activation.centrify', {config:fullHeight},[\n            \n                ctrl.changed\n            ?\n            [\n                m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                m('h5', 'Password successfully updated!')\n            ]\n            :\n            body(ctrl)]);\n    }\n};\n","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst recoveryUrl = '/dashboard/dashboard/recovery';\n\n\n\nexport let recovery = (username) => fetchJson(recoveryUrl, {\n\tmethod: 'post',\n\tbody: {username}\n});\n","import {recovery} from './recoveryModel';\nimport fullHeight from 'utils/fullHeight';\nexport default recoveryComponent;\n\nlet recoveryComponent = {\n\tcontroller(){\n\t\tconst username = m.prop('');\n\t\tconst ctrl = {\n\t\t\tusername,\n\t\t\terror: m.prop(''),\n\t\t\trecovery: recoveryAction\n\t\t};\n\n\t\treturn ctrl;\n\n\t\tfunction recoveryAction(){\n\t\t\tconsole.log('va', username())\n\t\t\trecovery(username)\n\t\t\t\t.then(() => {\n\t\t\t\t\tm.route('/');\n\t\t\t\t})\n\t\t\t\t.catch(response => {\n//                                    console.log(JSON.parse(response)\n\t\t\t\t\tctrl.error(response.message);\n\t\t\t\t\tm.redraw();\n\t\t\t\t})\n                                ;\n\t\t}\n\t},\n\tview(ctrl){\n\t\treturn m('.recovery.centrify', {config:fullHeight},[\n\t\t\t\tm('.card.card-inverse.col-md-4', [\n\t\t\t\t\tm('.card-block',[\n\t\t\t\t\t\tm('h4', 'Password Reset Request'),\n\t\t\t\t\t\tm('p', 'Enter your username or your email address in the space below and we will mail you the password reset instructions'),\n                                                \n\t\t\t\t\t\tm('form', {onsubmit:ctrl.recovery}, [\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'username',\n\t\t\t\t\t\t\t\tplaceholder: 'Username / Email',\n\t\t\t\t\t\t\t\tvalue: ctrl.username(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.username)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\tctrl.error() ? m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()) : '',\n\n\t\t\t\t\t\tm('button.btn.btn-primary.btn-block', {onclick: ctrl.recovery},'Request')\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\nfunction getStartValue(prop){\n\tconsole.log('horrible hack to manage chrome pw autocomplete')\n\treturn (element, isInit) => {// !isInit && prop(element.value);\n\t\tif (!isInit) setTimeout(()=>prop(element.value), 30);\n\t}\n}\n","import studiesComponent from './study/studiesComponent';\nimport studyComponent from './study/studyComponent';\nimport poolComponent from './pool/poolComponent';\nimport historyComponent from './pool/historyComponent';\nimport downloadsComponent from './downloads/downloadsComponent';\nimport downloadsAccessComponent from './downloadsAccess/downloadsAccessComponent';\nimport loginComponent from './login/loginComponent';\nimport deployListComponent from './deployList/deployListComponent';\nimport changeRequestListComponent from './changeRequestList/changeRequestListComponent';\nimport removalListComponent from './removalList/removalListComponent';\nimport deployComponent from './deploy/deployComponent';\nimport studyRemovalComponent from './studyRemoval/studyRemovalComponent';\nimport studyChangeRequestComponent from './studyChangeRequest/studyChangeRequestComponent';\nimport addUserComponent from './addUser/addUserComponent';\nimport activationComponent from './activation/activationComponent';\nimport changePasswordComponent from './changePassword/changePasswordComponent';\nimport recoveryComponent from './recovery/recoveryComponent';\nexport default routes;\n\nlet routes = {\n\t'/recovery':  recoveryComponent,\n\t'/activation/:code':  activationComponent,\n\t'/change_password':  changePasswordComponent,\n\t'/change_password/:code':  changePasswordComponent,\n\t'/addUser':  addUserComponent,\n\t'/studyChangeRequest/:studyId':  studyChangeRequestComponent,\n\t'/studyRemoval/:studyId':  studyRemovalComponent,\n\t'/deploy/:studyId': deployComponent,\n\t'/deployList': deployListComponent,\n\t'/removalList': removalListComponent,\n\t'/changeRequestList': changeRequestListComponent,\n\t'/login': loginComponent,\n\t'/studies' : studiesComponent,\n\t'/editor/:studyId': studyComponent,\n\t'/editor/:studyId/:resource/:fileID': studyComponent,\n\t'/pool': poolComponent,\n\t'/pool/history': historyComponent,\n\t'/downloads': downloadsComponent,\n\t'/downloadsAccess': downloadsAccessComponent\n};\n\n","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport {authorize, isLoggedIn, logout} from 'login/authModel';\nexport default layout;\n\nlet layout = route => {\n\treturn {\n\t\tcontroller(){\n\t\t\tauthorize();\n\n\t\t\tif (!isLoggedIn() && m.route() !== '/login' && m.route() !== '/recovery' && m.route() !== '/activation/'+ m.route.param(\"code\") && m.route() !== '/change_password/'+ m.route.param(\"code\")) \n                            m.route('/login');\n\n\t\t\treturn {doLogout};\n\n\t\t\tfunction doLogout(){\n\t\t\t\tlogout().then(() => m.route('/login'));\n\t\t\t}\n\t\t},\n\t\tview(ctrl){\n\t\t\treturn  m('.dashboard-root', {class: window.top!=window.self ? 'is-iframe' : ''}, [\n\t\t\t\tm('nav.navbar.navbar-dark.navbar-fixed-top', [\n\t\t\t\t\tm('a.navbar-brand', {href:'/dashboard/dashboard'}, 'Dashboard'),\n\t\t\t\t\tm('ul.nav.navbar-nav',[\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/studies', config:m.route},'Studies')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/pool', config:m.route},'Pool')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/downloads', config:m.route},'Downloads')\n\t\t\t\t\t\t]),\n//\t\t\t\t\t\tm('li.nav-item',[\n//\t\t\t\t\t\t\tm('a.nav-link',{href:'/deploy', config:m.route},'Deploy')\n//\t\t\t\t\t\t]),\n//\t\t\t\t\t\tm('li.nav-item',[\n//\t\t\t\t\t\t\tm('a.nav-link',{href:'/studyRemoval', config:m.route}, 'Study Removal')\n//\t\t\t\t\t\t]),\n//\t\t\t\t\t\tm('li.nav-item',[\n//\t\t\t\t\t\t\tm('a.nav-link',{href:'/StudyChangeRequest', config:m.route}, 'Study Change Request')\n//\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/addUser', config:m.route}, 'Add User')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/change_password', config:m.route}, 'Change password')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item.pull-xs-right',\n                                                isLoggedIn()\n\t\t\t\t?\n                                                        [\n\t\t\t\t\t\t\tm('button.btn.btn-info', {onclick:ctrl.doLogout}, [\n\t\t\t\t\t\t\t\tm('i.fa.fa-sign-out'), '  Logout'\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]:[])\n\t\t\t\t\t])\n\t\t\t\t]),\n\n\t\t\t\tm('.main-content.container-fluid', [\n\t\t\t\t\troute\n\t\t\t\t]),\n\n\t\t\t\tm.component(contextMenu), // register context menu\n\t\t\t\tm.component(messages), // register modal\n\t\t\t\tm.component(spinner) // register spinner\n\t\t\t]);\n\t\t}\n\t};\n\n};\n","import routes from './routes';\nimport layoutWrapper from './layoutWrapper';\n\nlet wrappedRoutes = mapObject(routes, layoutWrapper);\nm.route(document.body, '/studies', wrappedRoutes);\n\n/**\n * Map Object\n * A utility function to transform objects\n * @param  {Object} \tobj \tThe object to transform\n * @param  {Function} \tcb \t\tThe transforming function\n * @return {Object}        [description]\n *\n * Signature:\n *\n * Object mapObject(Object obj, callbackFunction cb)\n *\n * where:\n * \tcallbackFunction :: any Function(any value, String key, Object object)\n */\nfunction mapObject(obj, cb) {\n\treturn Object.keys(obj)\n\t\t.reduce(function(result, key) {\n\t\t\tresult[key] = cb(obj[key], key, obj);\n\t\t\treturn result;\n\t\t}, {});\n}\n"],"names":["let","baseUrl","this","const","messages","noop","validate","pipValidate","questValidate","managerValidate","validator","arrayInput","selectInputComponent","radioInputComponent","arrayInputSrc","questComponent","observerFactory","textMenu","validatorComponent","syntaxComponent","unknowEditor","arguments","pathProp","wizardHash","contextMenu","filesVM","viewModelMap","folderComponent","editorComponent","editComponent","focusConfig","play","PRODUCTION_URL","poolComponent","thConfig","studyFilter","url","STATUS_RUNNING","interceptErrors","createComponent","dayButtonView","remove","create","createMessage","unPropify","reportError","TABLE_WIDTH","deployComponent","ASTERIX","getStartValue","apiURL","set_password","addUserComponent","studyRemovalComponent","deployListComponent","studiesComponent","studyComponent","historyComponent","layoutWrapper"],"mappings":"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"}