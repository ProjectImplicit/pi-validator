{"version":3,"file":"main.js","sources":["../src/utils/modelHelpers.js","../src/study/studiesComponent.js","../src/study/editors/jshintOptions.js","../src/study/fileModel.js","../src/study/studyModel.js","../src/utils/fullHeight.js","../src/study/editors/imgEditor.js","../src/study/editors/pdfEditor.js","../src/study/editors/unknownEditor.js","../src/utils/messagesComponent.js","../src/study/sidebar/fileActions.js","../src/study/editors/ace/aceComponent.js","../src/utils/observer.js","../src/study/editors/ace/syntaxComponent.js","../src/study/editors/ace/parser/messages.js","../src/study/editors/ace/parser/parser.js","../src/study/editors/ace/parser/pipValidator.js","../src/study/editors/ace/parser/questValidator.js","../src/study/editors/ace/parser/managerValidator.js","../src/study/editors/ace/parser/validator.js","../src/study/editors/ace/validatorComponent.js","../src/utils/prettyPrint.js","../src/utils/forms/inputWrapper.js","../src/utils/forms/textInput.js","../src/utils/forms/maybeInput.js","../src/utils/forms/checkboxInput.js","../src/utils/forms/selectInput.js","../src/utils/transformProp.js","../src/utils/forms/arrayInput.js","../src/utils/forms/radioInput.js","../src/utils/formHelpers.js","../src/study/editors/snippets/inheritInput.js","../src/study/editors/snippets/task.js","../src/study/editors/snippets/page.js","../src/study/editors/snippets/quest.js","../src/study/editors/snippetActions.js","../src/study/editors/textMenu.js","../src/study/editors/textEditor.js","../src/study/editorComponent.js","../src/study/wizards/ratingWizard.js","../src/study/wizardComponent.js","../src/utils/classNames.js","../src/utils/contextMenuComponent.js","../src/study/sidebar/wizardActions.js","../src/study/sidebar/wizardHash.js","../src/study/sidebar/fileContext.js","../src/utils/uploader.js","../src/study/sidebar/nodeComponent.js","../src/study/sidebar/folderComponent.js","../src/study/sidebar/filesComponent.js","../src/study/sidebar/sidebarButtons.js","../src/study/sidebar/sidebarComponent.js","../src/study/studyComponent.js","../src/pool/poolModel.js","../src/utils/spinnerComponent.js","../src/pool/poolEditComponent.js","../src/pool/poolCreateComponent.js","../src/pool/poolActions.js","../src/login/authModel.js","../src/utils/sortTable.js","../src/utils/formatDate.js","../src/pool/poolComponent.js","../src/utils/dateRange.js","../src/pool/historyComponent.js","../src/downloads/downloadsModel.js","../src/downloads/downloadsCreate.js","../src/downloads/downloadsActions.js","../src/downloads/downloadsComponent.js","../src/downloadsAccess/downloadsAccessModel.js","../src/downloadsAccess/downloadsAccessCreateComponent.js","../src/downloadsAccess/downloadsAccessGrantComponent.js","../src/downloadsAccess/downloadsAccessRevokeComponent.js","../src/downloadsAccess/downloadsAccessActions.js","../src/downloadsAccess/downloadsAccessComponent.js","../src/login/loginComponent.js","../src/deployList/deployListModel.js","../src/deployList/deployListComponent.js","../src/changeRequestList/changeRequestListModel.js","../src/changeRequestList/changeRequestListComponent.js","../src/removalList/removalListModel.js","../src/removalList/removalListComponent.js","../src/deploy/deployModel.js","../src/deploy/rulesComponent.js","../src/deploy/deployComponent.js","../src/studyRemoval/studyRemovalComponent.js","../src/studyChangeRequest/studyChangeRequestComponent.js","../src/addUser/addUserModel.js","../src/addUser/addUserComponent.js","../src/activation/activationModel.js","../src/changePassword/changePasswordView.js","../src/activation/activationComponent.js","../src/changePassword/changePasswordModel.js","../src/changePassword/changePasswordComponent.js","../src/recovery/recoveryModel.js","../src/recovery/recoveryComponent.js","../src/routes.js","../src/layoutWrapper.js","../src/main.js"],"sourcesContent":["export let checkStatus = response => {\n\n\tif (response.status >= 200 && response.status < 300) {\n\t\treturn response;\n\t}\n\n\tlet error = new Error(response.statusText);\n\n\terror.response = response;\n\n\tthrow error;\n};\n\nexport let toJSON = response => response\n\t.json()\n\t.catch(\t);\n\n// extract info from status error\nexport let catchJSON = err => (err.response ? err.response.json() : Promise.reject())\n\t.catch(() => Promise.reject(err))\n\t.then(json => Promise.reject(json));\n\n\nexport function fetchVoid(url, options = {}){\n\tlet opts = Object.assign({\n\t\tcredentials: 'same-origin',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json'\n\t\t}\n\t}, options);\n\n\topts.body = JSON.stringify(options.body);\n\treturn fetch(url, opts)\n\t\t.then(checkStatus)\n\t\t.catch(catchJSON);\n}\n\nexport function fetchJson(url, options){\n\treturn fetchVoid(url, options)\n\t\t.then(toJSON);\n}\n\nexport function fetchText(url, options){\n\treturn fetchVoid(url, options)\n\t\t.then(response => response.text());\n}\n\nexport function fetchUpload(url, options){\n\tlet opts = Object.assign({\n\t\tcredentials: 'same-origin'\n\t}, options);\n\n\treturn fetch(url, opts)\n\t\t.then(checkStatus)\n\t\t.then(toJSON)\n\t\t.catch(catchJSON);\n}\n","import {toJSON, checkStatus} from 'utils/modelHelpers';\nexport default mainComponent;\n\nvar mainComponent = {\n\tcontroller: function(){\n\t\tvar ctrl = {\n\t\t\tstudies:m.prop(),\n\t\t\tloaded:false\n\t\t};\n\t\tfetch('/dashboard/dashboard/studies', {credentials: 'same-origin'})\n\t\t\t.then(checkStatus)\n\t\t\t.then(toJSON)\n\t\t\t.then(ctrl.studies)\n\t\t\t.then(()=>ctrl.loaded = true)\n\t\t\t.then(m.redraw);\n\n\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\treturn m('.container', [\n\t\t\tm('h3', 'My studies'),\n\t\t\t!ctrl.loaded\n\t\t\t\t?\n\t\t\t\tm('.loader')\n\t\t\t\t:\n\t\t\t\tm('.list-group',ctrl.studies().studies.map(study => m('a.list-group-item',{\n\t\t\t\t\thref: `/editor/${study.id}`,\n\t\t\t\t\tconfig: m.route\n\t\t\t\t}, study.name)))\n\t\t]);\n\t}\n};","export default jshintOptions;\nvar jshintOptions = {\n\t// JSHint Default Configuration File (as on JSHint website)\n\t// See http://jshint.com/docs/ for more details\n\n\t'curly'         : false,    // true: Require {} for every new block or scope\n\t'latedef'       : 'nofunc', // true: Require variables/functions to be defined before being used\n\t'undef'         : true,     // true: Require all non-global variables to be declared (prevents global leaks)\n\t'unused'        : 'vars',   // Unused variables:\n\t'strict'        : false,    // true: Requires all functions run in ES5 Strict Mode\n\n\t'browser'       : true,     // Web Browser (window, document, etc)\n\t'devel'         : true,     // Development/debugging (alert, confirm, etc)\n\n\tesversion\t: 3,\t    // Require es3 syntax for backward compatibility\n\n\t// Custom Globals\n\tpredef: ['piGlobal','define','require','requirejs','angular']\n};\n","import jshintOptions from './editors/jshintOptions';\nimport {fetchVoid, fetchJson} from 'utils/modelHelpers';\nexport default fileFactory;\nlet baseUrl = '/dashboard/dashboard';\n\nlet filePrototype = {\n\tapiUrl(){\n\t\treturn `${baseUrl}/files/${encodeURIComponent(this.studyId)}/file/${encodeURIComponent(this.id)}`;\n\t},\n\n\tget(){\n\t\treturn fetchJson(this.apiUrl())\n\t\t\t.then(response => {\n\t\t\t\tlet content = response.content.replace(/\\r\\n?|\\n?$/g, '\\n'); // replace carriage returns and add new line to EOF. this makes sure all files are unix encoded...\n\t\t\t\tthis.sourceContent(content);\n\t\t\t\tthis.content(content);\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.error = false;\n\t\t\t})\n\t\t\t.catch(reason => {\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.error = true;\n\t\t\t\treturn Promise.reject(reason); // do not swallow error\n\t\t\t});\n\t},\n\n\tsave(){\n\t\treturn fetchVoid(this.apiUrl(), {\n\t\t\tmethod:'put',\n\t\t\tbody: {content: this.content}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tthis.sourceContent(this.content()); // update source content\n\t\t\t\treturn response;\n\t\t\t});\n\t},\n\n\tmove(path, study){\n\t\tlet basePath = (path.substring(0, path.lastIndexOf('/')));\n\t\tlet folderExists = basePath === '' || study.files().some(f => f.isDir && f.path === basePath);\n\n\t\tif (!folderExists) return Promise.reject({message: `Folder ${basePath} does not exist.`});\n\t\tif (study.files().some(f=>f.path === path)) return Promise.reject({message: `File ${path} already exists.`});\n\n\t\tlet oldPath = this.path;\n\t\tthis.setPath(path);\n\t\tthis.content(this.content()); // in case where changing into a file type that needs syntax checking\n\n\t\treturn fetchJson(this.apiUrl() + `/move/`, {\n\t\t\tmethod:'put',\n\t\t\tbody: {path}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tthis.id = response.id;\n\t\t\t\tthis.url = response.url;\n\t\t\t})\n\t\t\t.catch(response => {\n\t\t\t\tthis.setPath(oldPath);\n\t\t\t\treturn Promise.reject(response);\n\t\t\t});\n\t},\n\n\tdel(){\n\t\treturn fetchVoid(this.apiUrl(), {method:'delete'});\n\t},\n\n\n\thasChanged() {\n\t\treturn this.sourceContent() !== this.content();\n\t},\n\n\tdefine(context = window){\n\t\tvar requirejs = context.requirejs;\n\t\tvar name = this.url;\n\t\tvar content = this.content();\n\n\t\treturn new Promise((resolve) => {\n\t\t\trequirejs.undef(name);\n\t\t\tcontext.eval(content.replace(`define(`,`define('` + name + `',`));\n\t\t\tresolve();\n\t\t});\n\t},\n\n\trequire(context = window){\n\t\tvar requirejs = context.requirejs;\n\t\treturn new Promise((resolve, reject) => {\n\t\t\trequirejs([this.url], resolve,reject);\n\t\t});\n\t},\n\n\tcheckSyntax(){\n\t\tvar jshint = window.JSHINT;\n\t\tthis.syntaxValid = jshint(this.content(), jshintOptions);\n\t\tthis.syntaxData = jshint.data();\n\t\treturn this.syntaxValid;\n\t},\n\n\tsetPath(path = ''){\n\t\tthis.path = path;\n\t\tthis.name = path.substring(path.lastIndexOf('/')+1);\n\t\tthis.basePath = (path.substring(0, path.lastIndexOf('/'))) + '/';\n\t\tthis.type = path.substring(path.lastIndexOf('.')+1).toLowerCase();\n\t}\n};\n\n/**\n * fileObj = {\n * \tid: #hash,\n *\tpath: path, \t\n * \turl: URL\n * }\n */\n\nconst fileFactory = fileObj => {\n\tlet file = Object.create(filePrototype);\n\tlet path = decodeURIComponent(fileObj.path);\n\n\n\tfile.setPath(path);\n\n\tObject.assign(file, fileObj, {\n\t\tid\t\t\t: fileObj.id,\n\t\tsourceContent\t\t: m.prop(fileObj.content || ''),\n\t\tcontent \t\t: contentProvider.call(file, fileObj.content || ''), // custom m.prop, alows checking syntax on change\n\n\t\t// keep track of loaded state\n\t\tloaded\t\t\t: false,\n\t\terror \t\t\t: false,\n\n\t\t// these are defined when calling checkSyntax\n\t\tsyntaxValid \t: undefined,\n\t\tsyntaxData \t\t: undefined\n\t});\n\n\tfile.content(fileObj.content || '');\n\n\tif (fileObj.files) file.files = fileObj.files.map(fileFactory).map(file => Object.assign(file, {studyId: fileObj.studyId}));\n\n\treturn file;\n\n\n\tfunction contentProvider (store) {\n\t\tvar prop = (...args) => {\n\t\t\tif (args.length) {\n\t\t\t\tstore = args[0];\n\t\t\t\tthis.type === 'js' && this.checkSyntax();\n\t\t\t}\n\t\t\treturn store;\n\t\t};\n\n\t\tprop.toJSON = () => store;\n\n\t\treturn prop;\n\t}\n};\n","import {fetchJson, fetchUpload} from 'utils/modelHelpers';\nimport fileFactory from './fileModel';\nexport default studyFactory;\n\nlet baseUrl = '/dashboard/dashboard';\n\nlet studyPrototype = {\n\tapiURL(path = ''){\n\t\treturn `${baseUrl}/files/${encodeURIComponent(this.id)}${path}`;\n\t},\n\n\tget(){\n\t\treturn fetchJson(this.apiURL())\n\t\t\t.then(study => {\n\t\t\t\tthis.loaded = true;\n\t\t\t\tlet files = flattenFiles(study.files)\n\t\t\t\t\t.map(assignStudyId(this.id))\n\t\t\t\t\t.map(fileFactory);\n\n\t\t\t\tthis.files(files);\n\t\t\t\tthis.sort();\n\t\t\t})\n\t\t\t.catch(reason => {\n\t\t\t\tthis.error = true;\n\t\t\t\treturn Promise.reject(reason); // do not swallow error\n\t\t\t});\n\n\t\tfunction flattenFiles(files){\n\t\t\tif (!files) return [];\n\t\t\treturn files\n\t\t\t\t\t.map(spreadFile)\n\t\t\t\t\t.reduce((result, fileArr) => result.concat(fileArr),[]);\n\t\t}\n\n\t\tfunction assignStudyId(id){\n\t\t\treturn f => Object.assign(f, {studyId: id});\n\t\t}\n\n\t\tfunction spreadFile(file){\n\t\t\treturn [file].concat(flattenFiles(file.files));\n\t\t}\n\n\n\t},\n\n\tgetFile(id){\n\t\treturn this.files().find(f => f.id === id);\n\t},\n\n\tcreateFile({name, content='',isDir}){\n\t\t// validation (make sure there are no invalid characters)\n\t\tif(/[^\\/-_.A-Za-z0-9]/.test(name)) return Promise.reject({message: `The file name \"${name}\" is not valid`});\n\n\t\t// validation (make sure file does not already exist)\n\t\tlet exists = this.files().some(file => file.path === name);\n\t\tif (exists) return Promise.reject({message: `The file \"${name}\" already exists`});\n\n\t\t// validateion (make sure direcotry exists)\n\t\tlet basePath = (name.substring(0, name.lastIndexOf('/'))).replace(/^\\//, '');\n\t\tlet dirExists = basePath === '' || this.files().some(file => file.isDir && file.path === basePath);\n\t\tif (!dirExists) return Promise.reject({message: `The directory \"${basePath}\" does not exist`});\n\n\t\treturn fetchJson(this.apiURL('/file'), {method:'post', body: {name, content, isDir}})\n\t\t\t.then(response => {\n\t\t\t\tObject.assign(response, {studyId: this.id, content, path:name, isDir});\n\t\t\t\tlet file = fileFactory(response);\n\t\t\t\tfile.loaded = true;\n\t\t\t\tthis.files().push(file);\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.then(this.sort.bind(this));\n\t},\n\n\tsort(response){\n\t\tlet files = this.files().sort(sort);\n\t\tthis.files(files);\n\t\treturn response;\n\n\t\tfunction sort(a,b){\n\t\t\t// sort by isDir then name\n\t\t\tlet nameA= +!a.isDir + a.name.toLowerCase(), nameB=+!b.isDir + b.name.toLowerCase();\n\t\t\tif (nameA < nameB) return -1;//sort string ascending\n\t\t\tif (nameA > nameB) return 1;\n\t\t\treturn 0; //default return value (no sorting)\n\t\t}\n\t},\n\n\tuploadFiles(path, files){\n\t\tlet paths = Array.from(files, file => path === '/' ? file.name : path + '/' + file.name);\n\t\tlet formData = buildFormData(path === '/' ? '' : path, files);\n\t\t// validation (make sure files do not already exist)\n\t\tlet exists = this.files().find(file => paths.includes(file.path));\n\t\tif (exists) return Promise.reject({message: `The file \"${exists.path}\" already exists`});\n\n\t\treturn fetchUpload(this.apiURL(`/upload/${path === '/' ? '' : path}`), {method:'post', body:formData})\n\t\t\t.then(response => {\n\t\t\t\tresponse.forEach(src => {\n\t\t\t\t\tlet file = fileFactory(Object.assign({studyId: this.id},src));\n\t\t\t\t\tthis.files().push(file);\n\t\t\t\t});\n\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.then(this.sort.bind(this));\n\n\t\tfunction buildFormData(path, files) {\n\t\t\tvar formData = new FormData;\n\t\t\t// formData.append('path', path);\n\n\t\t\t// for (let file in files) {\n\t\t\t// \tformData.append('files', files[file]);\n\t\t\t// }\n\n\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\tformData.append(i, files[i]);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t}\n\t},\n\n\tdel(fileId){\n\t\tlet file = this.getFile(fileId);\n\t\treturn file.del()\n\t\t\t.then(() => {\n\t\t\t\tlet files = this.files()\n\t\t\t\t\t.filter(f => f.path.indexOf(file.path) !== 0); // all paths that start with the same path are deleted\n\t\t\t\tthis.files(files);\n\t\t\t});\n\t}\n};\n\nlet studyFactory = \tid =>{\n\tlet study = Object.create(studyPrototype);\n\tObject.assign(study, {\n\t\tid \t\t: id,\n\t\tfiles \t: m.prop([]),\n\t\tloaded \t: false,\n\t\terror \t:false\n\t});\n\n\treturn study;\n};\n","export default fullHeight;\nlet fullHeight = (element, isInitialized, ctx) => {\n\tif (!isInitialized){\n\t\tonResize();\n\n\t\twindow.addEventListener('resize', onResize, true);\n\n\t\tctx.onunload = function(){\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t};\n\n\t}\n\n\tfunction onResize(){\n\t\telement.style.height = document.documentElement.clientHeight - element.getBoundingClientRect().top + 'px';\n\t}\n};","export default imgEditor;\n\nlet imgEditor = ({file}) => m('div.img-editor.centrify', [\n\tm('img', {src:file.url})\n]);","export default pdfEditor;\n\nlet pdfEditor = ({file}) => m('object', {\n\tdata: file.url,\n\ttype: 'application/pdf',\n\twidth: '100%',\n\theight: '100%'\n});\n\n","export default unknownComponent;\n\nlet unknownComponent = () => m('.centrify', [\n\tm('i.fa.fa-file.fa-5x'),\n\tm('h5', 'Unknow file type')\n]);","export default messages;\n\nlet noop = ()=>{};\n\nlet messages = {\n\tvm: {isOpen: false},\n\n\topen: (type, opts={}) => {\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\tmessages.vm = {resolve,reject,type, opts, isOpen:true};\n\t\t});\n\t\tm.redraw();\n\n\t\treturn promise;\n\t},\n\n\tclose: response => {\n\t\tlet vm = messages.vm;\n\t\tvm.isOpen = false;\n\t\tif (typeof vm.resolve === 'function') vm.resolve(response);\n\t\tm.redraw();\n\t},\n\n\tcustom: opts=>messages.open('custom', opts),\n\talert: opts => messages.open('alert', opts),\n\tconfirm: opts => messages.open('confirm', opts),\n\tprompt: opts => messages.open('prompt', opts),\n\n\tview: () => {\n\t\tlet vm = messages.vm;\n\t\tlet close = messages.close.bind(null, null);\n\t\tlet stopPropagation = e => e.stopPropagation();\n\t\treturn m('#messages.backdrop', [\n\t\t\t!vm || !vm.isOpen\n\t\t\t\t? ''\n\t\t\t\t:[\n\t\t\t\t\tm('.overlay', {config:messages.config(vm.opts)}),\n\t\t\t\t\tm('.backdrop-content', {onclick:close}, [\n\t\t\t\t\t\tm('.card', {class: vm.opts.wide ? 'col-sm-8' : 'col-sm-5', config:maxHeight}, [\n\t\t\t\t\t\t\tm('.card-block', {onclick: stopPropagation}, [\n\t\t\t\t\t\t\t\tmessages.views[vm.type](vm.opts)\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t]);\n\n\t},\n\n\tconfig: (opts) => {\n\t\treturn (element, isInitialized, context) => {\n\t\t\tif (!isInitialized) {\n\t\t\t\tlet handleKey = function(e) {\n\t\t\t\t\tif (e.keyCode == 27) {\n\t\t\t\t\t\tmessages.close(null);\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode == 13 && !opts.preventEnterSubmits) {\n\t\t\t\t\t\tmessages.close(true);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tdocument.body.addEventListener('keyup', handleKey);\n\n\t\t\t\tcontext.onunload = function() {\n\t\t\t\t\tdocument.body.removeEventListener('keyup', handleKey);\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t},\n\n\tviews: {\n\t\tcustom: (opts={}) => opts.content,\n\n\t\talert: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('p.card-text', opts.content),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t},\n\n\t\tconfirm: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('p.card-text', opts.content),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(null)}, opts.okText || 'Cancel'),\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t},\n\n\t\t/**\n\t\t * Promise prompt(Object opts{header: String, content: String, name: Prop})\n\t\t *\n\t\t * where:\n\t\t *   any Prop(any value)\n\t\t */\n\t\tprompt: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\tlet prop = opts.prop || noop;\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('.card-text', opts.content),\n\t\t\t\tm('.card-block', [\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tkey: 'prompt',\n\t\t\t\t\t\tvalue: prop(),\n\t\t\t\t\t\tonchange: m.withAttr('value', prop),\n\t\t\t\t\t\tconfig: (element, isInitialized) => {\n\t\t\t\t\t\t\tif (!isInitialized) element.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t]),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(null)}, opts.okText || 'Cancel'),\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t}\n\t}\n};\n\n\n// set message max height, so that content can scroll within it.\nlet maxHeight = (element, isInitialized, ctx) => {\n\tif (!isInitialized){\n\t\tonResize();\n\n\t\twindow.addEventListener('resize', onResize, true);\n\n\t\tctx.onunload = function(){\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t};\n\n\t}\n\n\tfunction onResize(){\n\t\telement.style.maxHeight = document.documentElement.clientHeight * 0.9 + 'px';\n\t}\n\n};\n","import messages from 'utils/messagesComponent';\n\nexport let uploadFiles = (path,study) => files => {\n\tstudy\n\t\t.uploadFiles(path, files)\n\t\t.catch(response => messages.alert({\n\t\t\theader: 'Upload File',\n\t\t\tcontent: response.message\n\t\t}))\n\t\t.then(m.redraw);\n};\n\n\nexport let moveFile = (file,study) => () => {\n\tlet newPath = m.prop(file.path);\n\treturn messages.prompt({\n\t\theader: 'Move/Rename File',\n\t\tprop: newPath\n\t})\n\t\t.then(response => {\n\t\t\tif (response) return moveAction(file,study);\n\t\t});\n\n\tfunction moveAction(file,study){\n\t\tlet def = file\n\t\t\t.move(newPath(),study) // the actual movement\n\t\t\t.then(redirect)\n\t\t\t.catch(response => messages.alert({\n\t\t\t\theader: 'Move/Rename File',\n\t\t\t\tcontent: response.message\n\t\t\t}))\n\t\t\t.then(m.redraw); // redraw after server response\n\n\t\tm.redraw();\n\t\treturn def;\n\t}\n\n\tfunction redirect(response){\n\t\tm.route(`/editor/${study.id}/file/${file.id}`);\t\n\t\treturn response;\n\t}\n};\n\nlet playground;\nexport let play = (file,study) => () => {\n\tlet isSaved = study.files().every(file => !file.hasChanged());\t\n\n\tif (isSaved) open();\n\telse messages.confirm({\n\t\theader: 'Play task',\n\t\tcontent: 'You have unsaved files, the player will use the saved version, are you sure you want to proceed?'\t\n\t}).then(response => response && open());\n\n\tfunction open(){\n\t\t// this is important, if we don't close the original window we get problems with onload\n\t\tif (playground && !playground.closed) playground.close();\n\n\t\tplayground = window.open('playground.html', 'Playground');\n\t\tplayground.onload = function(){\n\t\t\t// first set the unload listener\n\t\t\tplayground.addEventListener('unload', function() {\n\t\t\t\t// get focus back here\n\t\t\t\twindow.focus();\n\t\t\t});\n\n\t\t\t// then activate the player (this ensures that when )\n\t\t\tplayground.activate(file);\n\t\t\tplayground.focus();\n\t\t};\n\t}\n};\n\nexport let save = file => () => {\n\tfile.save()\n\t\t.then(m.redraw)\n\t\t.catch(err => messages.alert({\n\t\t\theader: 'Error Saving:',\n\t\t\tcontent: err.message\n\t\t}));\n};\n\nexport let copyUrl = file => () => {\n\tlet input = document.createElement('input');\n\tinput.value = file.url;\n\tdocument.body.appendChild(input);\n\tinput.select();\n\tif (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){\n\t\tmessages.alert({\n\t\t\theader: 'Copy URL',\n\t\t\tcontent: m('.card-block', [\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Copy Url by clicking Ctrl + C'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: el => el.select(),\n\t\t\t\t\t\tvalue: file.url\n\t\t\t\t\t})\n\t\t\t\t])\n\t\t\t])\n\t\t});\n\t}\n\n\ttry {\n\t\tdocument.execCommand('copy');\n\t} catch(err){\n\t\tmessages.alert({\n\t\t\theader: 'Copy URL',\n\t\t\tcontent: 'Copying the URL has failed.'\n\t\t});\n\t}\n\n\tinput.parentNode.removeChild(input);\n};\n\n\n// add trailing slash if needed, and then remove proceeding slash\n// return prop\nlet pathProp = path => m.prop(path.replace(/\\/?$/, '/').replace(/^\\//, ''));\n\nexport let  createFile = (study, name, content) => {\n\tstudy.createFile({name:name(), content:content()})\n\t\t.then(response => {\n\t\t\tm.route(`/editor/${study.id}/file/${encodeURIComponent(response.id)}`);\n\t\t\treturn response;\n\t\t})\n\t\t.catch(err => messages.alert({\n\t\t\theader: 'Failed to create file:',\n\t\t\tcontent: err.message\n\t\t}));\n};\n\nexport let createDir = (study, path='') => () => {\n\tlet name = pathProp(path);\n\n\tmessages.prompt({\n\t\theader: 'Create Directory',\n\t\tcontent: 'Please insert directory name',\n\t\tprop: name\n\t})\n\t\t.then(response => {\n\t\t\tif (response) return study.createFile({name:name(), isDir:true});\n\t\t})\n\t\t.then(m.redraw)\n\t\t.catch(err => messages.alert({\n\t\t\theader: 'Failed to create directory:',\n\t\t\tcontent: err.message\n\t\t}));\n};\n\nexport let createEmpty = (study, path = '') => () => {\n\tlet name = pathProp(path);\n\tlet content = ()=>'';\n\n\tmessages.prompt({\n\t\theader: 'Create file',\n\t\tcontent: 'Please insert the file name:',\n\t\tprop: name\n\t}).then(response => {\n\t\tif (response) return createFile(study, name,content);\n\t});\n};\n","import fullHeight from 'utils/fullHeight';\nexport default ace;\n\nlet ace = args => m.component(aceComponent, args);\n\nlet noop = function(){};\n\nlet aceComponent = {\n\tview: function editorView(ctrl, args){\n\t\treturn m('.editor', {config: aceComponent.config(args)});\n\t},\n\n\tconfig: function({content, observer, settings = {}}){\n\t\treturn function(element, isInitialized, ctx){\n\t\t\tlet editor;\n\t\t\tlet mode = settings.mode || 'javascript';\n\n\t\t\t// paster with padding\n\t\t\tlet paste = text => {\n\t\t\t\tif (!editor) return false;\n\t\t\t\tlet pos = editor.getSelectionRange().start; \n\t\t\t\tlet line = editor.getSession().getLine(pos.row);\n\t\t\t\tlet padding = line.match(/^\\s*/);\n\t\t\t\t// replace all new lines with padding\n\t\t\t\tif (padding) text = text.replace(/(?:\\r\\n|\\r|\\n)/g, '\\n' + padding[0]);\n\t\t\t\t\n\t\t\t\teditor.insert(text);\n\t\t\t\teditor.focus();\n\t\t\t};\n\n\t\t\tif (!isInitialized){\n\t\t\t\tfullHeight(element, isInitialized, ctx);\n\n\t\t\t\trequire(['ace/ace'], function(ace){\n\t\t\t\t\tace.config.set('packaged', true);\n\t\t\t\t\tace.config.set('basePath', require.toUrl('ace'));\n\n\t\t\t\t\teditor = ctx.editor = ace.edit(element);\n\t\t\t\t\tlet session = editor.getSession();\n\t\t\t\t\tlet commands = editor.commands;\n\n\t\t\t\t\teditor.setTheme('ace/theme/cobalt');\n\t\t\t\t\tsession.setMode('ace/mode/' + mode);\n\t\t\t\t\tif (mode !== 'javascript') session.setUseWorker(false);\n\t\t\t\t\teditor.setHighlightActiveLine(true);\n\t\t\t\t\teditor.setShowPrintMargin(false);\n\t\t\t\t\teditor.setFontSize('18px');\n\t\t\t\t\teditor.$blockScrolling = Infinity; // scroll to top\n\n\t\t\t\t\t// set jshintOptions\n\t\t\t\t\teditor.session.on('changeMode', function(e, session){\n\t\t\t\t\t\tif (session.getMode().$id === 'ace/mode/javascript' && !!session.$worker && settings.jshintOptions) {\n\t\t\t\t\t\t\tsession.$worker.send('setOptions', [settings.jshintOptions]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.on('change', function(){\n\t\t\t\t\t\tcontent(editor.getValue());\n\t\t\t\t\t\tm.redraw();\n\t\t\t\t\t});\n\n\t\t\t\t\tcommands.addCommand({\n\t\t\t\t\t\tname: 'save',\n\t\t\t\t\t\tbindKey: {win: 'Ctrl-S', mac: 'Command-S'},\n\t\t\t\t\t\texec: settings.onSave || noop\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(observer) observer.on('paste',paste );\n\t\t\t\t\t\n\t\t\t\t\tsetContent();\n\t\t\t\t\tsession.setUndoManager(new ace.UndoManager()); // reset undo manager so that ctrl+z doesn't erase file\n\t\t\t\t\teditor.focus();\n\t\t\t\t\t\n\t\t\t\t\tctx.onunload = () => {\n\t\t\t\t\t\teditor.destroy();\n\t\t\t\t\t\tif(observer) observer.off(paste );\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t}\n\t\t\t\n\t\t\t// each redraw set content from model (the function makes sure that this is not done when not needed...)\n\t\t\tsetContent();\n\n\t\t\tfunction setContent(){\n\t\t\t\tlet editor = ctx.editor;\n\t\t\t\tif (!editor) return;\n\t\t\t\t\n\t\t\t\t// this should trigger only drastic changes such as the first time the editor is set\n\t\t\t\tif (editor.getValue() !== content()){\n\t\t\t\t\teditor.setValue(content());\n\t\t\t\t\teditor.moveCursorTo(0,0);\n\t\t\t\t\teditor.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n};\n","export  default observer;\n\nfunction observer(){\n\tlet channels = {};\n\treturn {\n\t\ton(channel,cb){\n\t\t\tchannels[channel] || (channels[channel] = []);\n\t\t\tchannels[channel].push(cb);\n\t\t},\n\t\toff(cb){\n\t\t\tfor (let channel in channels) {\n\t\t\t\tlet index = channels[channel].indexOf(cb);\n\t\t\t\tif (index > -1) channels[channel].splice(index, 1);\n\t\t\t}\n\t\t},\n\t\ttrigger(channel, ...args){\n\t\t\tif (!channels[channel]) return;\n\t\t\tchannels[channel].forEach(cb => cb.apply(null, args));\n\t\t}\n\t};\n}\n","export default syntax;\n\nlet syntax = args => m.component(syntaxComponent, args);\n\n/**\n * Syntax component\n * Takes an argument as follows:\n *\n * {valid: Boolean, data: jshint(script).data()}\n */\nvar syntaxComponent = {\n\n\t/**\n\t * Analyze script\n\t * @param  {String} script A script to analyze\n\t * @return {Object}\n\t * {\n\t *      isValid: Boolean,\n\t *      data: Object, // raw data\n\t *      errors: Array, // an array of analyzed errors\n\t *      errorCount: Number, // the number of errors\n\t *      warningCount: Number // the number of warnings\n\t * }\n\t */\n\tanalize: (isValid, data) => {\n\t\tvar errorCount = 0;\n\t\tvar warningCount = 0;\n\t\tvar errors = isValid ? [] : data.errors\n\t\t\t.filter(e => e) // clean null values\n\t\t\t.map(err => {\n\t\t\t\tvar isError = err.code && (err.code[0] === 'E');\n\n\t\t\t\tisError ? errorCount++ : warningCount++;\n\n\t\t\t\treturn {\n\t\t\t\t\tisError: isError,\n\t\t\t\t\tline: err.line,\n\t\t\t\t\tcol: err.character,\n\t\t\t\t\treason: err.reason,\n\t\t\t\t\tevidence: err.evidence\n\t\t\t\t};\n\t\t\t});\n\t\treturn {\n\t\t\tisValid: isValid,\n\t\t\tdata: data,\n\t\t\terrors : errors,\n\t\t\terrorCount: errorCount,\n\t\t\twarningCount: warningCount\n\t\t};\n\t},\n\n\tcontroller:  args => {\n\t\tvar file = args.file;\n\t\treturn syntaxComponent.analize(file.syntaxValid, file.syntaxData);\n\t},\n\n\tview: ctrl => {\n\t\treturn m('div', [\n\t\t\tctrl.isValid\n\t\t\t\t?\n\t\t\t\tm('div', {class:'alert alert-success'}, [\n\t\t\t\t\tm('strong','Well done!'),\n\t\t\t\t\t'Your script is squeaky clean'\n\t\t\t\t])\n\t\t\t\t:\n\t\t\t\tm('div', [\n\t\t\t\t\tm('table.table', [\n\t\t\t\t\t\tm('tbody', ctrl.errors.map(err => {\n\t\t\t\t\t\t\treturn m('tr',[\n\t\t\t\t\t\t\t\tm('td.text-muted', `line ${err.line}`),\n\t\t\t\t\t\t\t\tm('td.text-muted', `col ${err.col}`),\n\t\t\t\t\t\t\t\tm('td', {class: err.isError ? 'text-danger' : 'text-info'}, err.reason),\n\t\t\t\t\t\t\t\tm('td',err.evidence)\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t}))\n\t\t\t\t\t]),\n\n\t\t\t\t\tm('.row',[\n\t\t\t\t\t\tm('.col-md-6', [\n\t\t\t\t\t\t\tm('div', {class:'alert alert-danger'}, [\n\t\t\t\t\t\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t\t\t\t\t\t`You have ${ctrl.errorCount} critical errors.`\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('.col-md-6', [\n\t\t\t\t\t\t\tm('div', {class:'alert alert-info'}, [\n\t\t\t\t\t\t\t\tm('strong',{class:'glyphicon glyphicon-warning-sign'}),\n\t\t\t\t\t\t\t\t`You have ${ctrl.warningCount} non standard syntax errors.`\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\n\t\t\t\t])\n\t\t]);\n\t}\n};\n","export function warn(message, test){\n\treturn {level:'warn', message: message, test:test};\n}\n\nexport function error(message, test){\n\treturn {level:'error', message: message, test:test};\n}\n\nexport function row(element, testArr){\n\tvar messages = flatten(testArr)\n\t\t.filter(msg => msg) // clean empty\n\t\t.filter(msg => typeof msg.test == 'function' ? msg.test(element) : !!msg.test); // run test...\n\n\treturn !messages.length ? null : {\n\t\telement: element,\n\t\tmessages: messages\n\t};\n}\n\nfunction flatten(arr) {\n\treturn arr.reduce(function (flat, toFlatten) {\n\t\treturn flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n\t}, []);\n}","function multiPick(arr, propArr){\n\treturn arr\n\t\t.map(e=> e && [].concat(e[propArr[0]], e[propArr[1]], e[propArr[2]])) // gather all stim arrays\n\t\t.reduce((previous, current)=>previous.concat(current),[]) // flatten arrays\n\t\t.filter(t=>t); // remove all undefined stim\n}\n\nfunction flattenSequence(sequence){\n\tfunction unMix(e){\n\t\treturn flattenSequence([].concat(e.data, e.elseData, (e.branches || []).map(e=>e.data)));\n\t}\n\n\treturn sequence\n\t\t.reduce((previous, current) => {return previous.concat(current && current.mixer ? unMix(current) : current);},[])\n\t\t.filter(t=>t); // remove all undefined stim;\n}\n\nfunction concatClean(){\n\tvar args = [].splice.call(arguments,0);\n\treturn [].concat.apply([], args).filter(e=>e);\n}\n\nexport function pipElements(script){\n\tvar trials, stimuli, media;\n\n\ttrials = concatClean(flattenSequence(script.sequence), script.trialSets);\n\tstimuli = concatClean(\n\t\tscript.stimulusSets,\n\t\tmultiPick(trials,['stimuli', 'layout'])\n\t);\n\tmedia = concatClean(\n\t\tscript.mediaSets,\n\t\tmultiPick(stimuli,['media','touchMedia'])\n\t);\n\n\treturn {trials:trials, stimuli:stimuli, media:media};\n}\n\nexport function questElements(script){\n\tvar pages, questions;\n\n\tpages = [].concat(\n\t\tflattenSequence(script.sequence),\n\t\tscript.pagesSets\n\t).filter(t=>t);\n\n\tquestions = [].concat(\n\t\tscript.questionsSets,\n\t\tflattenSequence(multiPick(pages,['questions']))\n\t).filter(t=>t);\n\n\treturn {pages:pages, questions:questions};\n}\n\nexport function managerElements(script){\n\tvar tasks;\n\n\ttasks = [].concat(\n\t\tflattenSequence(script.sequence),\n\t\tscript.pagesSets\n\t).filter(t=>t);\n\n\treturn {tasks:tasks};\n}","import {warn, error, row} from './messages';\nimport {pipElements} from './parser';\n\nexport default pipValidator;\n\nfunction pipValidator(script, url){\n\tvar errors = [];\n\tvar elements = pipElements(script);\n\n\terrors.push({type:'Settings',errors: checkSettings(script, url)});\n\terrors.push({type:'Trials',errors: filterMap(elements.trials, trialTest)});\n\t// errors.push({type:'Stimuli',errors: filterMap(elements.stimuli, stimuliTest)});\n\t// errors.push({type:'Media',errors: filterMap(elements.media, mediaTest)});\n\n\treturn errors;\n}\n\nfunction filterMap(arr, fn){\n\treturn arr.map(fn).filter(e=>e);\n}\n\n/**\n * Check settings\n * @param  {Object} script The script to be tested\n * @param  {String} url    The script origin URL\n * @return {Array}        Array of error rows\n */\nfunction checkSettings(script, url){\n\tvar settings = script.settings || {};\n\n\tvar w = byProp(warn);\n\t// var e = byProp(error);\n\n\tvar errors = [\n\t\tr('base_url', [\n\t\t\tw('Your base_url is not in the same directory as your script.', e => {\n\t\t\t\t// use this!!!\n\t\t\t\t// http://stackoverflow.com/questions/4497531/javascript-get-url-path\n\t\t\t\tvar getPath = url => {\n\t\t\t\t\tvar a = document.createElement('a');\n\t\t\t\t\ta.href = url;\n\t\t\t\t\treturn a.pathname;\n\t\t\t\t};\n\n\t\t\t\tvar path = getPath(url).substring(0, url.lastIndexOf('/') + 1); // get path but remove file name\n\t\t\t\tvar t = s => (!s || getPath(s).indexOf(path) !== 0);\n\n\t\t\t\treturn (typeof e == 'object') ? t(e.image) && t(e.template) : t(e);\n\t\t\t})\n\t\t])\n\t];\n\n\treturn errors.filter(function(err){return !!err;});\n\n\tfunction r(prop, arr){\n\t\tvar el = {};\n\t\tel[prop] = settings[prop];\n\t\treturn prop in settings && row(el, arr);\n\t}\n\n\t// wrap warn/error so that I don't have to individually\n\tfunction byProp(fn){\n\t\treturn function(msg, test){\n\t\t\treturn fn(msg, e => {\n\t\t\t\tfor (var prop in e) {\n\t\t\t\t\treturn test(e[prop]);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t}\n}\n\nfunction trialTest(trial) {\n\tvar tests = [\n\t\ttestInteractions(trial.interactions),\n\t\ttestInput(trial.input)\n\t];\n\n\treturn row(trial, tests);\n\n\tfunction testInteractions(interactions){\n\t\tif (!interactions) {return;}\n\n\t\tif (!Array.isArray(interactions)){\n\t\t\treturn [error('Interactions must be an array.', true)];\n\t\t}\n\n\t\treturn  interactions.map((interaction, index) => {\n\t\t\treturn [\n\t\t\t\t!interaction.conditions ? error(`Interaction [${index}] must have conditions`, true) : [\n\t\t\t\t\terror(`Interaction conditon [${index}] must have a type`, toArray(interaction.conditions).some(c=>!c.type))\n\t\t\t\t],\n\t\t\t\t!interaction.actions ? error(`Interaction [${index}] must have actions`, true) : [\n\t\t\t\t\terror(`Interaction action [${index}] must have a type`, toArray(interaction.actions).some(a=>!a.type))\n\t\t\t\t]\n\t\t\t];\n\t\t});\n\n\n\t\tfunction toArray(arr){\n\t\t\treturn Array.isArray(arr) ? arr : [arr];\n\t\t}\n\n\t}\n\n\tfunction testInput(input){\n\t\tif (!input) {return;}\n\n\t\tif (!Array.isArray(trial.input)){\n\t\t\treturn [error('Input must be an Array', true)];\n\t\t}\n\n\t\treturn [\n\t\t\terror('Input must always have a handle', input.some(i=>!i.handle)),\n\t\t\terror('Input must always have an on attribute', input.some(i=>!i.on))\n\t\t];\n\t}\n}\n\nfunction stimuliTest(stim){\n\tvar tests = [];\n\treturn row(stim, tests);\n}\n\nfunction mediaTest(media){\n\tvar tests = [\n\n\t];\n\treturn row(media, tests);\n}","import messages from './messages';\nimport {questElements} from './parser';\n\nexport default function questValidator(script){\n\tvar errors = [];\n\n\terrors.push({type:'Settings', errors:[]});\n\terrors.push({type:'Pages', errors:[]});\n\terrors.push({type:'Questions', errors:[]});\n\n\treturn errors;\n}","\nimport {warn, error} from './messages';\nimport {managerElements} from './parser';\n\nexport default function managerValidator(script){\n\tvar errors = [];\n\tvar elements = managerElements(script);\n\n\terrors.push({type:'Settings', errors:[]});\n\terrors.push({type:'Tasks', errors:[]});\n\n\treturn errors;\n}\n\n\n\n","import pipValidate from './pipValidator';\nimport questValidate from './questValidator';\nimport managerValidate from './managerValidator';\n\nexport default function validate(script){\n\tvar type = script.type && script.type.toLowerCase();\n\tswitch (type){\n\tcase 'pip' : return pipValidate.apply(null, arguments);\n\tcase 'quest' : return questValidate.apply(null, arguments);\n\tcase 'manager' : return managerValidate.apply(null, arguments);\n\tdefault:\n\t\tthrow new Error('Unknown script.type: ' + type);\n\t}\n}\n\nexport function dd(){\n\treturn [\n\t\t{\n\t\t\ttype: 'task',\n\t\t\terrosrs:[],\n\t\t\terrors: [\n\t\t\t\t{\n\t\t\t\t\telement: {name:'myName', content: [1,2,3]},\n\t\t\t\t\tmessages: [\n\t\t\t\t\t\t{level:'error', message: 'error message1'},\n\t\t\t\t\t\t{level:'warn', message: 'warn message2'},\n\t\t\t\t\t\t{level:'warn', message: 'warn message3'},\n\t\t\t\t\t\t{level:'error', message: 'error message4'}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\telement: {name:'otherName', content: [1,2,3]},\n\t\t\t\t\tmessages: [\n\t\t\t\t\t\t{level:'warn', message: 'warn message1'},\n\t\t\t\t\t\t{level:'error', message: 'error message2'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\n\t];\n}\n","import validator from './parser/validator';\nexport default validate;\n\nlet validate = args => m.component(validateComponent, args);\n\nvar validateComponent = {\n\tcontroller: args => {\n\t\tvar file = args.file;\n\t\tvar ctrl = {\n\t\t\tvalidations : m.prop([]),\n\t\t\tisError: false\n\t\t};\n\n\t\tm.startComputation();\n\t\tfile\n\t\t\t.define()\n\t\t\t.then(()=>{\n\t\t\t\treturn file.require();\n\t\t\t})\n\t\t\t.then(script => {\n\t\t\t\tctrl.validations(validator(script, file.url));\n\t\t\t\tm.endComputation();\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tctrl.isError = true;\n\t\t\t\tm.endComputation();\n\t\t\t});\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\treturn  m('div', [\n\t\t\t!ctrl.isError ? '' :\tm('div', {class:'alert alert-danger'}, [\n\t\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t\t`There was a problem parsing this script. Are you sure that it is a valid PI script? Make sure you fix all syntax errors.`\n\t\t\t]),\n\n\t\t\tctrl.validations().map(validationReport => {\n\t\t\t\treturn [\n\t\t\t\t\tm('h4', validationReport.type),\n\t\t\t\t\t!validationReport.errors.length\n\t\t\t\t\t\t?\n\t\t\t\t\t\tm('div', {class:'alert alert-success'}, [\n\t\t\t\t\t\t\tm('strong','Well done!'),\n\t\t\t\t\t\t\t'Your script is squeaky clean'\n\t\t\t\t\t\t])\n\t\t\t\t\t\t:\n\t\t\t\t\t\tvalidationReport.errors.map(err => {\n\t\t\t\t\t\t\treturn m('.row',[\n\t\t\t\t\t\t\t\tm('.col-md-4.stringified',\n\t\t\t\t\t\t\t\t\tm('div', {class:'pre'}, m.trust(stringify(err.element)))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tm('.col-md-8',[\n\t\t\t\t\t\t\t\t\tm('ul', err.messages.map(msg => {\n\t\t\t\t\t\t\t\t\t\treturn m('li.list-unstyled', {class: msg.level == 'error' ? 'text-danger' : 'text-info'}, [\n\t\t\t\t\t\t\t\t\t\t\tm('strong', msg.level),\n\t\t\t\t\t\t\t\t\t\t\tmsg.message\n\t\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t})\n\n\t\t]);\n\t}\n};\n\n\nfunction stringify(value, pretty) {\n\tif (value == null) { // null || undefined\n\t\treturn '<i class=\"text-muted\">undefined</i>';\n\t}\n\tif (value === '') {\n\t\treturn '<i class=\"text-muted\">an empty string</i>';\n\t}\n\n\tswitch (typeof value) {\n\t\tcase 'string':\n\t\t\tbreak;\n\t\tcase 'number':\n\t\t\tvalue = '' + value;\n\t\t\tbreak;\n\t\tcase 'object':\n\t\t\t// display the error message not the full thing...\n\t\t\tif (value instanceof Error){\n\t\t\t\tvalue = value.message;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t/* fall through */\n\t\tdefault:\n\t\t\t// @TODO: implement this: http://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript\n\t\t\tvalue = syntaxHighlight(JSON.stringify(value, null, 4));\n\t}\n\n\treturn value;\n}\n\n\nfunction syntaxHighlight(json) {\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n            if (/:$/.test(match)) {\n                cls = 'key';\n            } else {\n                cls = 'string';\n            }\n        } else if (/true|false/.test(match)) {\n            cls = 'boolean';\n        } else if (/null/.test(match)) {\n            cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n    });\n}\n","const END_LINE = '\\n';\nconst TAB = '\\t';\nexport let indent = (str, tab = TAB) => str.replace(/^/gm, tab);\n\nexport let print = obj => {\n\tswitch (typeof obj) {\n\t\tcase 'boolean': return obj ? 'true' : 'false';\n\t\tcase 'string' : return printString(obj); \n\t\tcase 'number' : return obj + '';\n\t\tcase 'undefined' : return 'undefined';\n\t\tcase 'function': \n\t\t\tif (obj.toJSON) return print(obj()); // Support m.prop\n\t\t\telse return obj.toString();\n\t}\n\n\tif (obj === null) return 'null';\n\n\tif (Array.isArray(obj)) return printArray(obj);\n\t\n\treturn printObj(obj);\n\n\tfunction printString(str){\n\t\treturn str === '' ? str : str\n\t\t\t// escape string\n\t\t\t.replace(/[\\\\\"']/g, '\\\\$&')\n\t\t\t.replace(/\\u0000/g, '\\\\0')\n\t\t\t// manage rows separately\n\t\t\t.split(END_LINE)\n\t\t\t.map(str => `'${str}'`)\n\t\t\t.join(` +${END_LINE}${TAB}`);\n\t}\n\t\n\tfunction printArray(arr){\n\t\tlet isShort = arr.every(element => ['string', 'number', 'boolean'].includes(typeof element) && (element.length === undefined || element.length < 15) );\n\t\tlet content = arr\n\t\t\t.map(value => print(value))\n\t\t\t.join(isShort ? ', ' : ',\\n');\n\n\t\treturn isShort\n\t\t\t? `[${content}]`\n\t\t\t: `[\\n${indent(content)}\\n]`;\n\t}\n\n\tfunction printObj(obj){\n\t\tlet content = Object.keys(obj)\n\t\t\t.map(key => `${escapeKey(key)} : ${print(obj[key])}`)\n\t\t\t.map(row => indent(row))\n\t\t\t.join(',' + END_LINE);\n\t\treturn `{\\n${content}\\n}`;\n\n\t\tfunction escapeKey(key){\n\t\t\treturn /[^1-9a-zA-Z$_]/.test(key) ? `'${key}'` : key;\n\t\t}\n\t}\n};\n","export default inputWrapper;\nlet inputWrapper = (view) => (ctrl, args) => {\n\tlet isValid = !ctrl.validity || ctrl.validity();\n\tlet groupClass;\n\tlet inputClass;\n\tlet form = args.form;\n\n\tif (!form) throw new Error('Inputs require a form');\n\t\t\n\tif (form.showValidation()){\n\t\tgroupClass = isValid ? 'has-success' : 'has-danger';\n\t\tinputClass = isValid ? 'form-control-success' : 'form-control-error';\n\t}\n\n\treturn m('.form-group.row', {class: groupClass}, [\n\t\targs.isStack\n\t\t? [ \n\t\t\tm('.col-sm-12', [\n\t\t\t\targs.label != null ? m('label', {class: 'form-control-label'}, args.label) : '',\n\t\t\t\tview(ctrl, args, {groupClass, inputClass}),\n\t\t\t\targs.help && m('small.text-muted.m-y-0', args.help )\n\t\t\t])\n\t\t]\n\t\t: [\n\t\t\tm('.col-sm-2', [\n\t\t\t\tm('label.form-control-label', args.label)\n\t\t\t]),\n\t\t\tm('.col-sm-10', [\n\t\t\t\tview(ctrl, args, {groupClass, inputClass})\n\t\t\t]),\n\t\t\targs.help && m('small.text-muted.col-sm-offset-2.col-sm-10.m-y-0', args.help )\n\t\t]\n\t]);\n};\n","import inputWrapper from './inputWrapper';\nexport default textInputComponent;\n\nlet textInputComponent  = {\n\tcontroller({prop, form, required = false}) {\n\t\tlet validity = () => !required || prop().length;\n\t\tform.register(validity);\n\n\t\treturn {validity};\n\t},\n\n\tview: inputWrapper((ctrl, {prop, isArea = false, isFirst = false, placeholder = '', help, rows = 3}, {inputClass}) => {\n\t\treturn !isArea\n\t\t\t? m('input.form-control', {\n\t\t\t\tclass: inputClass,\n\t\t\t\tplaceholder: placeholder,\n\t\t\t\tvalue: prop(),\n\t\t\t\tonkeyup: m.withAttr('value', prop),\n\t\t\t\tconfig: (element, isInit) => isFirst && isInit && element.focus()\n\t\t\t})\n\t\t\t: m('textarea.form-control', {\n\t\t\t\tclass: inputClass,\n\t\t\t\tplaceholder: placeholder,\n\t\t\t\tonkeyup: m.withAttr('value', prop),\n\t\t\t\trows,\n\t\t\t\tconfig: (element, isInit) => isFirst && isInit && element.focus()\n\t\t\t} , [prop()]);\n\t})\n};\n","import inputWrapper from './inputWrapper';\nexport default maybeInputComponent;\n\nlet  maybeInputComponent = {\n\tcontroller({prop, form, required, dflt}){\n\t\tif (!form) throw new Error('Inputs require a form');\n\n\t\tlet text = m.prop(typeof prop() == 'boolean' ? dflt || '' : prop());\n\t\tlet checked = m.prop(!!prop()); \n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation,\n\t\t\ttext: function(value){\n\t\t\t\tif (arguments.length){\n\t\t\t\t\ttext(value);\n\t\t\t\t\tprop(value || true);\n\t\t\t\t}\n\t\t\t\treturn text();\n\t\t\t},\n\t\t\tchecked: function(value){\n\t\t\t\tif (arguments.length) {\n\t\t\t\t\tchecked(value);\n\t\t\t\t\tif (checked() && text()) prop(text());\n\t\t\t\t\telse prop(checked());\n\t\t\t\t}\n\t\t\t\treturn checked();\n\t\t\t}\t\n\t\t};\n\t},\n\tview: inputWrapper(({text, checked}, args) => {\n\t\tlet placeholder = args.placeholder || '';\n\t\treturn m('.input-group', [\n\t\t\tm('span.input-group-addon', [\n\t\t\t\tm('input', {\n\t\t\t\t\ttype:'checkbox',\n\t\t\t\t\tonclick: m.withAttr('checked', checked),\n\t\t\t\t\tchecked: checked()\n\t\t\t\t})\n\t\t\t]),\n\t\t\tm('input.form-control', {\n\t\t\t\tplaceholder: placeholder,\n\t\t\t\tvalue: text(),\n\t\t\t\tonkeyup: m.withAttr('value', text),\n\t\t\t\tdisabled: !checked()\n\t\t\t})\n\t\t]);\n\t})\n};\n","import inputWrapper from './inputWrapper';\nexport default checkboxInputComponent;\n\nlet  checkboxInputComponent = {\n\tcontroller({prop, form, required}){\n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation};\n\t},\n\tview: inputWrapper((ctrl, {prop, description = ''}, {groupClass, inputClass}) => {\n\t\treturn m('.checkbox.checkbox-input-group', {class: groupClass}, [\n\t\t\tm('label.c-input.c-checkbox', {class: inputClass}, [\n\t\t\t\tm('input.form-control', {\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tonclick: m.withAttr('checked', prop),\n\t\t\t\t\tchecked: prop()\n\t\t\t\t}),\n\t\t\t\tm('span.c-indicator'),\n\t\t\t\tm.trust('&nbsp;'),\n\t\t\t\tdescription\n\t\t\t])\n\t\t]);\n\t})\n};\n","import inputWrapper from './inputWrapper';\nexport default selectInputComponent;\n\nlet selectInputComponent = {\n\tcontroller({prop, form, required}){\n\t\tif (!form) throw new Error('Inputs require a form');\n\n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation};\n\t},\n\tview: inputWrapper((ctrl, {prop, isFirst = false, values = {}}, {inputClass}) => {\n\t\treturn m('.input-group', [\n\t\t\tm('select.c-select.form-control', {class: inputClass}, {\n\t\t\t\tonchange: e => prop(values[e.target.value]),\n\t\t\t\tconfig: (element, isInit) => isFirst && isInit && element.focus()\n\t\t\t}, Object.keys(values).map(key => m('option',  key)))\n\t\t]);\n\t})\n};\n\n","export default transformProp;\n\n/**\n * TransformedProp transformProp(Prop prop, Map input, Map output)\n * \n * where:\n *\tProp :: m.prop\n *\tMap  :: any Function(any)\n *\n *\tCreates a Transformed prop that pipes the prop through transformation functions.\n **/\nlet transformProp = ({prop, input, output}) => {\n\tlet p = (...args) => {\n\t\tif (args.length) prop(input(args[0]));\n\t\treturn output(prop());\n\t};\n\n\tp.toJSON = () => output(prop());\n\n\treturn p;\n};\n","import textInputComponent from './textInput';\nimport transformProp from 'utils/transformProp';\nexport default arrayInput;\n\nlet arrayInput = args => {\n\tlet identity = arg => arg;\n\tlet fixedArgs = Object.assign(args);\n\tfixedArgs.prop = transformProp({\n\t\tprop: args.prop,\n\t\toutput: arr => arr.map(args.fromArr || identity).join('\\n'),\n\t\tinput: str => str === '' ? [] : str.replace(/\\n*$/, '').split('\\n').map(args.toArr || identity)\n\t});\n\n\treturn m.component(textInputComponent, fixedArgs);\n};\n\n","import inputWrapper from './inputWrapper';\nexport default selectInputComponent;\n\nlet selectInputComponent = {\n\tcontroller({prop, form, required}){\n\t\tif (!form) throw new Error('Inputs require a form');\n\n\t\tlet validity = () => !required || prop();\n\t\tform.register(validity);\n\n\t\treturn {validity, showValidation: form.showValidation};\n\t},\n\tview: inputWrapper((ctrl, {prop, values = {}}) => {\n\t\treturn m('.c-inputs-stacked', Object.keys(values)\n\t\t\t.map(key => m('label.c-input.c-radio', [\n\t\t\t\tm('input', {type:'radio', checked: values[key] === prop(), onchange: prop.bind(null, values[key])}),\n\t\t\t\tm('span.c-indicator'),\n\t\t\t\tkey\n\t\t\t])));\n\t})\n};\n\n","import textInputComponent from './forms/textInput';\nimport maybeInputComponent from './forms/maybeInput';\nimport checkboxInputComponent from './forms/checkboxInput';\nimport selectInputComponent from './forms/selectInput';\nimport arrayInputSrc from './forms/arrayInput';\nimport radioInputComponent from './forms/radioInput';\n\nexport function formFactory(){\n\tlet validationHash = [];\n\treturn {\n\t\tregister(fn){\n\t\t\tvalidationHash.push(fn);\n\t\t},\n\t\tisValid() {\n\t\t\treturn validationHash.every(fn => fn.call());\n\t\t},\n\t\tshowValidation: m.prop(false)\n\t};\n}\n\nexport let textInput = args => m.component(textInputComponent, args);\nexport let maybeInput = args => m.component(maybeInputComponent, args);\nexport let checkboxInput = args => m.component(checkboxInputComponent, args);\nexport let selectInput = args => m.component(selectInputComponent, args);\nexport let radioInput = args => m.component(radioInputComponent, args);\nexport let arrayInput = arrayInputSrc;\n","import inputWrapper from 'utils/forms/inputWrapper';\nexport default inheritInput;\n\nlet inheritInput = args => m.component(inheritInputComponent, args);\n\nlet inheritInputComponent = {\n\tcontroller({prop}){\n\t\tlet value = prop();\n\t\tlet rawType = m.prop(typeof value === 'string' ? 'random' : value.type);\n\t\tlet rawSet = m.prop(typeof value === 'string' ? value : value.set);\n\n\t\treturn {type, set};\n\n\t\tfunction update(){\n\t\t\tlet type = rawType();\n\t\t\tlet set = rawSet();\n\t\t\tprop(type === 'random' ? set : {type, set});\n\t\t}\n\t\t\n\t\tfunction type(value){\n\t\t\tif (arguments){\n\t\t\t\trawType(value);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\treturn rawType();\n\t\t}\n\t\t\n\t\tfunction set(value){\n\t\t\tif (arguments){\n\t\t\t\trawSet(value);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\treturn rawSet();\n\t\t}\n\t},\n\n\tview: inputWrapper(({type,set}) => {\n\n\t\treturn m('.form-inline', [\n\t\t\tm('.form-group.input-group', [\n\t\t\t\tm('input.form-control', {\n\t\t\t\t\tplaceholder:'Set',\n\t\t\t\t\tonchange: m.withAttr('value', set)\n\t\t\t\t}),\n\t\t\t\tm('span.input-group-addon', {style:'display:none'}) // needed to make the corners of the input square...\n\t\t\t]),\n\t\t\tm('select.c-select', {\n\t\t\t\tonchange: m.withAttr('value', type)\n\t\t\t}, TYPES.map(key => m('option', {value:key},key)))\n\t\t]);\n\t})\n};\n\nconst TYPES = ['random', 'exRandom', 'sequential'];\n","import {formFactory, textInput, arrayInput, checkboxInput, selectInput, maybeInput} from 'utils/formHelpers';\nimport inheritInput from './inheritInput';\nexport default taskComponent;\n\nlet taskComponent = {\n\tcontroller({output,close}){\n\t\tlet form = formFactory();\n\t\t\n\t\tlet type = m.prop('message');\n\t\tlet common = {\n\t\t\tinherit: m.prop(''),\n\t\t\tname: m.prop(''),\n\t\t\ttitle: m.prop('')\n\t\t};\n\t\tlet task = m.prop({});\n\t\t\t\n\t\treturn {type, common, task, form, close, proceed};\n\n\t\tfunction proceed(){\n\t\t\toutput(Object.assign({type}, common, task()));\n\t\t\tclose(true)();\n\t\t}\t\t\n\n\t},\n\tview({type, common, task, form, close, proceed}){\n\t\treturn m('div', [\t\n\t\t\tm('h4', 'Add task'),\n\t\t\tm('.card-block', [\n\t\t\t\tinheritInput({label:'inherit', prop:common.inherit, form, help: 'Base this element off of an element from a set'}),\n\t\t\t\tselectInput({label:'type', prop: type, form, values: {message: 'message', pip: 'pip', quest: 'quest'}}),\n\t\t\t\ttextInput({label: 'name', prop: common.name, help: 'The name for the task',form}),\n\t\t\t\ttextInput({label: 'title', prop: common.title, help: 'The title to be displayed in the browsers tab',form}),\n\t\t\t\tm.component(taskSwitch(type()), {task, form})\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(false)}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:proceed}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nfunction taskSwitch(type){\n\tswitch (type) {\n\t\tcase 'message' : return messageComponent;\n\t\tcase 'pip' : return pipComponent;\n\t\tcase 'quest' : return questComponent;\n\t\tdefault :\n\t\t\tthrow new Error(`Unknown task type: ${type}`);\n\t}\n}\n\nlet messageComponent = {\n\tcontroller({task}){\n\t\ttask({\n\t\t\tpiTemplate: m.prop(true),\n\t\t\ttemplate: m.prop(''),\n\t\t\ttemplateUrl: m.prop('')\n\t\t});\n\t},\n\tview(ctrl, {task, form}){\n\t\tlet props = task();\n\t\treturn m('div', [\n\t\t\tselectInput({label:'piTemplate', prop: props.piTemplate, form, values: {'Active': true, 'Debriefing template': 'debrief', 'Don\\'t use': false}, help: 'Use the PI style templates'}),\n\t\t\ttextInput({label: 'templateUrl', prop: props.templateUrl, help: 'The URL for the task template file',form}),\n\t\t\ttextInput({label: 'template', prop: props.template, rows:6,  form, isArea:true, help: m.trust('You can manually create your template here <strong>instead</strong> of using a url')})\n\t\t]);\t\n\t}\n};\n\nlet pipComponent = {\n\tcontroller({task}){\n\t\ttask({\n\t\t\tversion: m.prop('0.3'),\n\t\t\tscriptUrl: m.prop('')\n\t\t});\n\t},\n\tview(ctrl, {task, form}){\n\t\tlet props = task();\n\t\treturn m('div', [\n\t\t\ttextInput({label: 'scriptUrl', prop: props.scriptUrl, help: 'The URL for the task script file',form}),\n\t\t\tselectInput({label:'version', prop: props.version, form, values: {'0.3':0.3, '0.2':0.2}, help: 'The version of PIP that you want to use'})\n\t\t]);\t\n\t}\n};\n\nlet questComponent = {\n\tcontroller({task}){\n\t\ttask({\n\t\t\tscriptUrl: m.prop('')\n\t\t});\n\t},\n\tview(ctrl, {task, form}){\n\t\tlet props = task();\n\t\treturn m('div', [\n\t\t\ttextInput({label: 'scriptUrl', prop: props.scriptUrl, help: 'The URL for the task script file',form})\n\t\t]);\t\n\t}\n};\n\n","import {formFactory, textInput, checkboxInput, maybeInput} from 'utils/formHelpers';\nimport inheritInput from './inheritInput';\nexport default pageComponent;\n\nlet pageComponent = {\n\tcontroller({output,close}){\n\t\tlet form = formFactory();\n\t\tlet page = {\n\t\t\tinherit: m.prop(''),\n\t\t\theader: m.prop(''),\n\t\t\tdecline: m.prop(false),\n\t\t\tprogressBar: m.prop('<%= pagesMeta.number %> out of <%= pagesMeta.outOf%>'),\n\t\t\tautoFocus: true,\n\t\t\tquestions: [],\n\t\t\tv1style:2\n\t\t};\n\t\toutput(page);\n\n\t\treturn {page,form, close};\n\n\t},\n\tview({page,form,close}){\n\t\treturn m('div', [\t\n\t\t\tm('h4', 'Add Page'),\n\t\t\tm('.card-block', [\n\t\t\t\tinheritInput({label:'inherit', prop:page.inherit, form, help: 'Base this element off of an element from a set'}),\n\t\t\t\ttextInput({label: 'header', prop: page.header, help: 'The header for the page',form}),\n\t\t\t\tcheckboxInput({label: 'decline', description: 'Allow declining to answer', prop: page.decline,form}),\n\t\t\t\tmaybeInput({label:'progressBar', help: 'If and when to display the  progress bar (use templates to control the when part)', prop: page.progressBar,form})\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(false)}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\n","import {formFactory, textInput, checkboxInput, arrayInput, selectInput, maybeInput} from 'utils/formHelpers';\nimport inheritInput from './inheritInput';\nexport default questComponent;\n\nlet questComponent = {\n\tcontroller({output,close}){\n\t\tlet form = formFactory();\n\t\tlet type = m.prop();\n\t\tlet common = {\n\t\t\tinherit: m.prop(''),\n\t\t\tname: m.prop(''),\n\t\t\tstem: m.prop(''),\n\t\t\trequired: m.prop(false),\n\t\t\terrorMsg: {\n\t\t\t\trequired: m.prop('')\n\t\t\t}\n\t\t};\n\t\tlet quest = m.prop({});\n\t\toutput(quest);\n\n\t\treturn {type, common, quest,form, close, proceed};\n\n\t\tfunction proceed(){\n\t\t\tlet script = output(Object.assign({type}, common, quest()));\n\t\t\tif (!script.required()) script.required = script.errorMsg = undefined;\n\t\t\tif (!script.help || !script.help()) script.help = script.helpText = undefined;\n\t\t\t\n\t\t\tclose(true)();\n\t\t}\t\t\n\n\t},\n\tview({type, common, quest,form,close, proceed}){\n\t\treturn m('div', [\t\n\t\t\tm('h4', 'Add Question'),\n\t\t\tm('.card-block', [\n\t\t\t\tselectInput({label:'type', prop: type, form, values: typeMap}),\n\t\t\t\tinheritInput({label:'inherit', prop:common.inherit, form, help: 'Base this element off of an element from a set'}),\n\t\t\t\ttextInput({label: 'name', prop: common.name, help: 'The name by which this question will be recorded',form}),\n\t\t\t\ttextInput({label: 'stem', prop: common.stem, help: 'The question text',form}),\n\t\t\t\tm.component(question(type()), {type,quest,form,common}),\n\t\t\t\tcheckboxInput({label: 'required', prop: common.required, description: 'Require this question to be answered', form}),\n\t\t\t\tcommon.required()\n\t\t\t\t\t? textInput({label:'requiredText',  help: 'The error message for when the question has not been answered', prop: common.errorMsg.required ,form})\n\t\t\t\t\t: ''\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(false)}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:proceed}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet typeMap = {None: undefined, Text: 'text', 'Text Area': 'textarea', 'Select One': 'selectOne', 'Select Multiple': 'selectMulti', Slider: 'slider'};\n\nlet question = type => {\n\tswitch (type) {\n\t\tcase 'text' : return textComponent;\n\t\tcase 'textarea' : return textareaComponent;\n\t\tcase 'selectOne' : return selectOneComponent;\n\t\tcase 'selectMulti' : return selectOneComponent;\n\t\tcase 'slider' : return sliderComponent;\n\t\tcase undefined : return {view: () => m('div')};\n\t\tdefault:\n\t\t\tthrow new Error('Unknown question type');\n\t}\n};\n\nlet textComponent = {\n\tcontroller({quest, common}){\n\t\tcommon.errorMsg.required('This text field is required');\n\t\t// setup unique properties\n\t\tquest({\n\t\t\tautoSubmit: m.prop(false)\n\t\t});\n\t},\n\tview(ctrl, {quest, form}){\n\t\tlet props = quest();\n\t\treturn m('div', [\n\t\t\tcheckboxInput({label: 'autoSubmit', prop: props.autoSubmit, description: 'Submit on enter', form})\n\t\t]);\t\n\t}\n};\n\nlet textareaComponent = {\n\tcontroller({quest, common}){\n\t\tcommon.errorMsg.required('This text field is required');\n\t\t// setup unique properties\n\t\tquest({\n\t\t\trows: m.prop(3),\n\t\t\tcolumns: m.prop('')\n\t\t});\n\t},\n\tview(ctrl, {quest, form}){\n\t\tlet props = quest();\n\t\treturn m('div', [\n\t\t\ttextInput({label: 'rows', prop: props.rows, help: 'The number of visible text lines', form})\n\t\t]);\t\n\n\t}\n};\n\nlet selectOneComponent = {\n\tcontroller({quest,common}){\n\t\tcommon.errorMsg.required('Please select an answer, or click \\'decline to answer\\'');\n\t\t// setup unique properties\n\t\tquest({\n\t\t\tautoSubmit: m.prop(true),\n\t\t\tanswers: m.prop([\n\t\t\t\t'Very much',\n\t\t\t\t'Somewhat',\n\t\t\t\t'Undecided',\n\t\t\t\t'Not realy',\n\t\t\t\t'Not at all'\n\t\t\t]),\n\t\t\tnumericValues:true,\n\t\t\thelp: m.prop(false),\n\t\t\thelpText: m.prop('Tip: For quick response, click to select your answer, and then click again to submit.')\n\t\t});\n\t},\n\tview(ctrl, {quest, form}){\n\t\tlet props = quest();\n\t\treturn m('div', [\n\t\t\tcheckboxInput({label: 'autoSubmit', prop: props.autoSubmit, description: 'Submit on double click', form}),\n\t\t\tarrayInput({label: 'answers', prop: props.answers, rows:7,  form, isArea:true, help: 'Each row here represents an answer option', required:true}),\n\t\t\tmaybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: props.help,form, dflt: '<%= pagesMeta.number < 3 %>'}),\n\t\t\tprops.help()\n\t\t\t\t? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: props.helpText,form, isArea: true})\n\t\t\t\t: ''\n\t\t]);\t\n\t}\n};\n\nlet sliderComponent = {\n\tcontroller({quest,common}){\n\t\tcommon.errorMsg.required('Please select an answer, or click \\'decline to answer\\'');\n\t\t// setup unique properties\n\t\tquest({\n\t\t\tmin: m.prop(0),\n\t\t\tmax: m.prop(100),\n\t\t\tsteps: m.prop(''),\n\t\t\thidePips: m.prop(false), \n\t\t\thighlight: m.prop(true),\n\t\t\tlabels : m.prop(['Low', 'Medium', 'High']),\n\t\t\thelp: m.prop(false),\n\t\t\thelpText: m.prop('Click on the gray line to indicate your judgment. After clicking the line, you can slide the circle to choose the exact judgment.')\n\t\t});\n\t},\n\tview(ctrl, {quest, form}){\n\t\tlet props = quest();\n\t\treturn m('div', [\n\t\t\ttextInput({label: 'min', prop: props.min, help: 'The minimum value for the slider',form}),\n\t\t\ttextInput({label: 'max', prop: props.max, help: 'The maximum value for the slider',form}),\n\t\t\ttextInput({label: 'steps', prop: props.steps, help: 'Break the slider continuum to individual steps. Set to an integer or empty for a continuous slider',form}),\n\t\t\tprops.steps()\n\t\t\t\t? '' \n\t\t\t\t: checkboxInput({label: 'hidePips', prop: props.hidePips, description: 'Hide the markers for the individual steps',form}),\n\t\t\tarrayInput({label:'labels', prop: props.labels, help: 'A list of labels for the slider range', isArea: true, rows:5, form}),\n\t\t\tmaybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: props.help,form, dflt: '<%= pagesMeta.number < 3 %>'}),\n\t\t\tprops.help()\n\t\t\t\t? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: props.helpText,form, isArea: true})\n\t\t\t\t: ''\n\t\t]);\t\n\t}\n};\n","import messages from 'utils/messagesComponent';\nimport {print} from 'utils/prettyPrint';\nimport taskComponent from './snippets/task';\nimport pageComponent from './snippets/page';\nimport questComponent from './snippets/quest';\n\nexport let  snippetRunner = component => observer => () => {\n\tlet output = m.prop();\n\tmessages\n\t\t.custom({\n\t\t\tpreventEnterSubmits: true,\n\t\t\tcontent: m.component(component, {output, close}),\n\t\t\twide: true\n\t\t})\n\t\t.then(isOk => isOk && observer.trigger('paste', print(clearUnused(output()))));\n\n\tfunction close(value) {return () => messages.close(value);}\n};\n\nexport let taskSnippet = snippetRunner(taskComponent);\nexport let pageSnippet = snippetRunner(pageComponent);\nexport let questSnippet = snippetRunner(questComponent);\n\nfunction clearUnused(obj){\n\treturn Object.keys(obj).reduce((result, key) => {\n\t\tlet value = obj[key];\n\t\tif (typeof value === 'function' && value.toJSON) value = value();\n\t\t\n\t\t// check if is empty\n\t\tif (value === '' || value === undefined) return result;\n\t\tif (Array.isArray(value) && !value.length) return result;\n\n\t\tresult[key] = value;\n\t\treturn result;\n\t}, {});\n}\n","import {play, save} from '../sidebar/fileActions';\nimport {pageSnippet, questSnippet, taskSnippet} from './snippetActions';\n\nexport default textMenuView;\n\nconst amdReg = /(?:define\\(\\[['\"])(.*?)(?=['\"])/;\n\nlet textMenuView = ({mode, file, study, observer}) => {\n\tlet setMode = value => () => mode(value);\n\tlet modeClass = value => mode() === value ? 'active' : '';\n\tlet isJs = file.type === 'js';\n\tlet isExpt = /\\.expt\\.xml$/.test(file.path);\n\tlet amdMatch = amdReg.exec(file.content());\n\tlet APItype = amdMatch && amdMatch[1];\n\n\treturn m('.btn-toolbar.editor-menu', [\n\t\tm('.file-name', {class: file.hasChanged() ? 'text-danger' : ''},\n\t\t\tm('span',{class: file.hasChanged() ? '' : 'invisible'}, '*'),\n\t\t\tfile.path\n\t\t),\n\n\t\tm('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\tm('a.btn.btn-secondary', {href: `http://projectimplicit.github.io/PIquest/0.0/basics/overview.html`, target: '_blank', title:'API documentation'},[\n\t\t\t\tm('strong.fa.fa-book'),\n\t\t\t\tm('strong', ' Docs')\n\t\t\t]),\n\t\t\tm('a.btn.btn-secondary', {href: `https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts`, target: '_blank', title:'Editor help'},[\n\t\t\t\tm('strong.fa.fa-info')\n\t\t\t])\n\t\t]),\n\n\t\t!isJs ? '' : m('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\tm('a.btn.btn-secondary', {onclick: setMode('edit'), class: modeClass('edit')},[\n\t\t\t\tm('strong','Edit')\n\t\t\t]),\n\t\t\tm('a.btn.btn-secondary', {onclick: setMode('syntax'), class: modeClass('syntax')},[\n\t\t\t\tm('strong',\n\t\t\t\t\t'Syntax ',\n\t\t\t\t\tfile.syntaxValid\n\t\t\t\t\t\t? m('i.fa.fa-check-square.text-success')\n\t\t\t\t\t\t: m('span.label.label-danger', file.syntaxData.errors.length)\n\t\t\t\t)\n\t\t\t])\n\t\t\t//m('a.btn.btn-secondary', {onclick: setMode('validator'), class: modeClass('validator')},[\n\t\t\t//\tm('strong','Validator')\n\t\t\t//])\n\t\t]),\n\t\tm('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\tAPItype !== 'managerAPI' ? '' : [\n\t\t\t\tm('a.btn.btn-secondary', {onclick: taskSnippet(observer), title: 'Add task element'}, [\n\t\t\t\t\tm('strong','T')\t\n\t\t\t\t])\n\t\t\t],\n\t\t\tAPItype !== 'questAPI' ? '' : [\n\t\t\t\tm('a.btn.btn-secondary', {onclick: questSnippet(observer), title: 'Add question element'}, [\n\t\t\t\t\tm('strong','Q')\t\n\t\t\t\t]),\n\t\t\t\tm('a.btn.btn-secondary', {onclick: pageSnippet(observer), title: 'Add page element'}, [\n\t\t\t\t\tm('strong','P')\t\n\t\t\t\t])\n\t\t\t],\n\t\t\tm('a.btn.btn-secondary', {onclick:() => observer.trigger('paste', '{\\n<%= %>\\n}'), title:'Paste a template wizard'},[\n\t\t\t\tm('strong.fa.fa-percent')\n\t\t\t])\n\t\t]),\n\t\tm('.btn-group.btn-group-sm.pull-xs-right', [\n\t\t\t!isJs ? '' :  m('a.btn.btn-secondary', {onclick: play(file,study), title:'Play this task'},[\n\t\t\t\tm('strong.fa.fa-play')\n\t\t\t]),\n\t\t\t\n\t\t\t!isExpt ? '' :  m('a.btn.btn-secondary', {href: `https://app-prod-03.implicit.harvard.edu/implicit/Launch?study=${file.url.replace(/^.*?\\/implicit\\//, '')}`, target: '_blank', title:'Play this task'},[\n\t\t\t\tm('strong.fa.fa-play')\n\t\t\t]),\n\n\t\t\tm('a.btn.btn-secondary', {onclick: save(file), title:'Save (ctrl+s)',class: file.hasChanged() ? 'btn-danger-outline' : ''},[\n\t\t\t\tm('strong.fa.fa-save')\n\t\t\t])\n\t\t])\n\t]);\n};\n\n","import {save} from '../sidebar/fileActions';\nimport ace from './ace/aceComponent';\nimport observerFactory from 'utils/observer';\n\nimport jshintOptions from './jshintOptions';\nimport syntaxComponent from './ace/syntaxComponent';\nimport validatorComponent from './ace/validatorComponent';\n\nimport textMenu from './textMenu';\n\nexport default textEditor;\n\nlet textEditor = args => m.component(textEditorComponent, args);\n\nlet textEditorComponent = {\n\tcontroller: function({file,study}){\n\t\tfile.loaded || file.get()\n\t\t\t.then(m.redraw)\n\t\t\t.catch(m.redraw);\n\n\t\tlet ctrl = {mode:m.prop('edit'), observer: observerFactory(), study};\n\n\t\treturn ctrl;\n\t},\n\n\tview: function(ctrl, {file,study}){\n\t\tlet observer = ctrl.observer;\n\n\t\tif (!file.loaded) return m('.loader');\n\n\t\tif (file.error) return m('div', {class:'alert alert-danger'}, [\n\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t`The file \"${file.path}\" was not found`\n\t\t]);\n\n\t\treturn m('.editor', [\n\t\t\ttextMenu({mode: ctrl.mode, file, study, observer}),\n\t\t\ttextContent(ctrl, {file,observer})\n\t\t]);\n\t}\n};\n\nlet textContent = (ctrl, {file, observer}) => {\n\tlet textMode = modeMap[file.type] || 'javascript';\n\tswitch (ctrl.mode()){\n\t\tcase 'edit' : return ace({content:file.content, observer, settings: {onSave: save(file), mode: textMode, jshintOptions}});\n\t\tcase 'validator': return validatorComponent({file});\n\t\tcase 'syntax': return syntaxComponent({file});\n\t}\n};\n\nlet modeMap = {\n\tjs: 'javascript',\n\tjsp: 'jsp',\n\tjst: 'ejs',\n\thtml: 'ejs',\n\thtm: 'ejs',\n\txml: 'xml'\n};\n","import fullHeight from 'utils/fullHeight';\nimport imgEditor from './editors/imgEditor';\nimport pdfEditor from './editors/pdfEditor';\nimport unknowEditor from './editors/unknownEditor';\nimport textEditor from './editors/textEditor';\n\nexport default fileEditorComponent;\n\nlet editors = {\n\tjs: textEditor,\n\thtml: textEditor,\n\thtm: textEditor,\n\tjst: textEditor,\n\txml: textEditor,\n\n\tjpg: imgEditor,\n\tbmp: imgEditor,\n\tpng: imgEditor,\n\n\tpdf: pdfEditor\n};\n\nlet fileEditorComponent = {\n\tcontroller: function({study}) {\n\t\tvar id = m.route.param('fileID');\n\t\tvar file = study.getFile(id);\n\t\tvar ctrl = {file,study};\n\n\t\treturn ctrl;\n\t},\n\n\tview: ({file, study}, args = {}) => {\n\t\tlet editor = file && editors[file.type] || unknowEditor;\n\n\t\treturn m('div', {config:fullHeight}, [\n\t\t\tfile\n\t\t\t\t? editor({file, study,  settings: args.settings})\n\t\t\t\t: m('.centrify', [\n\t\t\t\t\tm('i.fa.fa-smile-o.fa-5x'),\n\t\t\t\t\tm('h5', 'Please select a file to start working')\n\t\t\t\t])\n\t\t]);\n\t}\n};\n","import {print, indent} from 'utils/prettyPrint';\n\nexport default function ratingWizard({basicPage, basicSelect, questionList, sequence}){\n\tconst NEW_LINE = '\\n';\n\tlet content = [\n\t\t`var API = new Quest();`,\n\n\t\t``,\n\t\t`// The structure for the basic questionnaire page`,\n\t\t`API.addPagesSet('basicPage', ${print(basicPage)});`,\n\n\t\t``,\n\t\t`// The structure for the basic question\t`,\n\t\t`API.addQuestionsSet('basicSelect', ${print(basicSelect)});`,\n\n\t\t`// This is the question pool, the sequence picks the questions from here`,\n\t\t`API.addQuestionsSet('questionList', ${print(questionList)});`,\n\t\t``,\n\n\t\t`// This is the sequence of questions`,\n\t\t`// Note that you may want to update the \"times\" property if you change the number of questions`,\n\t\t`API.addSequence(${print(sequence)});`,\n\n\t\t``,\n\t\t`return API.script;`\n\t].join(NEW_LINE);\n\n\treturn `define(['questAPI'], function(Quest){\\n${indent(content)}\\n});`;\n}\n","import {formFactory, textInput, checkboxInput, maybeInput, arrayInput} from 'utils/formHelpers';\nimport {createFile} from './sidebar/fileActions';\nimport ratingWizard from './wizards/ratingWizard';\nexport default wizardComponent;\n\nlet wizardComponent = {\n\tcontroller({study}){\n\t\tlet path = m.prop('');\n\t\tlet form = formFactory();\n\t\tlet submit = () => {\n\t\t\tform.showValidation(true);\n\t\t\tif (form.isValid()){\n\t\t\t\tcreateFile(study, path, compileScript(script) );\n\t\t\t}\n\t\t\t\n\t\t};\n\n\t\tlet compileScript = script => () => {\n\t\t\tscript.basicPage.questions = [\n\t\t\t\t{inherit: {type:script.randomize() ? 'exRandom' : 'sequential', set:'questionList'}}\n\t\t\t];\n\t\t\tscript.sequence = [\n\t\t\t\t{\n\t\t\t\t\tmixer:'repeat',\n\t\t\t\t\ttimes: script.times() || script.questionList().length,\n\t\t\t\t\tdata:[\n\t\t\t\t\t\t{inherit: 'basicPage'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\treturn ratingWizard(script);\n\t\t};\n\n\n\t\tlet script ={\n\t\t\tbasicPage: {\n\t\t\t\theader: m.prop(''),\n\t\t\t\tdecline: m.prop(true),\n\t\t\t\tautoFocus:true,\n\t\t\t\tv1style: 2\n\t\t\t},\n\t\t\tbasicSelect: {\n\t\t\t\ttype: 'selectOne',\n\t\t\t\tautoSubmit: m.prop(false),\n\t\t\t\tnumericValues: m.prop(true),\n\t\t\t\thelp: m.prop('<%= pagesMeta.number < 3 %>'),\n\t\t\t\thelpText: m.prop('Tip: For quick response, click to select your answer, and then click again to submit.'),\n\t\t\t\tanswers: m.prop([\n\t\t\t\t\t'Very much',\n\t\t\t\t\t'Somewhat',\n\t\t\t\t\t'Undecided',\n\t\t\t\t\t'Not realy',\n\t\t\t\t\t'Not at all'\n\t\t\t\t]) \n\t\t\t},\n\t\t\tquestionList: m.prop([\n\t\t\t\t{stem:'Do you like chocolate?', name:'q1', inherit:'basicSelect'},\n\t\t\t\t{stem:'Do you like bannanas?', name:'q2', inherit:'basicSelect'}\n\t\t\t]),\n\t\t\ttimes: m.prop(false),\n\t\t\trandomize: m.prop(true),\n\t\t\tsequence: [\n\t\t\t\t{\n\t\t\t\t\tmixer: 'repeat',\n\t\t\t\t\ttimes: m.prop(10),\n\t\t\t\t\tdata: [\n\t\t\t\t\t\t{inherit:'basicPage'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\treturn {path, form, submit, script};\n\t},\n\tview({form,submit, script, path}){\t\t\n\t\tlet basicPage = script.basicPage;\n\t\tlet basicSelect = script.basicSelect;\n\n\t\treturn m('.wizard.container', [\n\t\t\tm('h3', 'Rating wizard'),\n\t\t\tm('p', 'This wizard is responsible for rating stuff'),\n\t\t\ttextInput({label:'File Name',  placeholder: 'Path to file', prop: path ,form, required:true}), \n\n\t\t\tm('h4', 'Basic Page'),\n\t\t\ttextInput({label:'Header',  placeholder: 'Page header', help: 'The header for all pages.', prop: basicPage.header,form}), \n\t\t\tcheckboxInput({label: 'Decline', description: 'Allow users to decline', prop: basicPage.decline, form}),\n\n\t\t\tm('h4', 'Basic Select'),\n\t\t\tcheckboxInput({label: 'autoSubmit', description: 'Submit upon second click', prop: basicSelect.autoSubmit, form}),\n\t\t\tarrayInput({label: 'answers', prop: (basicSelect.answers), rows:7,  form, isArea:true, help: 'Each row here represents an answer option', required:true}),\n\t\t\tcheckboxInput({label: 'numericValues', description: 'Responses are recorded as numbers', prop: basicSelect.numericValues, form}),\n\t\t\tmaybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: basicSelect.help,form}),\n\t\t\tbasicSelect.help()\n\t\t\t\t? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: basicSelect.helpText,form, isArea: true})\n\t\t\t\t: '',\n\n\t\t\tm('h4', 'Sequence'),\n\t\t\tcheckboxInput({label: 'Randomize', description: 'Randomize questions', prop: script.randomize, form}),\n\t\t\tmaybeInput({label: 'Choose', help:'Set a number of questions to choose from the pool. If this option is not selected all questions will be used.', form, prop: script.times}),\n\t\t\tarrayInput({label: 'questions', prop: script.questionList, toArr: (stem, index) => ({stem, name: `q${index}`, inherit:'basicSelect'}), fromArr: q => q.stem, rows:20,  form, isArea:true, help: 'Each row here represents a questions', required:true}),\n\t\t\tm('.row', [\n\t\t\t\tm('.col-cs-12.text-xs-right', [\n\t\t\t\t\t!form.showValidation() || form.isValid()\n\t\t\t\t\t\t? m('button.btn.btn-primary', {onclick: submit}, 'Create')\t\n\t\t\t\t\t\t: m('button.btn.btn-danger', {disabled: true}, 'Not Valid')\n\t\t\t\t])\n\t\t\t])\n\t\t]); \n\t} \n};\n","// taken from here:\n// https://github.com/JedWatson/classnames/blob/master/index.js\nvar hasOwn = {}.hasOwnProperty;\n\nfunction classNames () {\n\tvar classes = '';\n\n\tfor (var i = 0; i < arguments.length; i++) {\n\t\tvar arg = arguments[i];\n\t\tif (!arg) continue;\n\n\t\tvar argType = typeof arg;\n\n\t\tif (argType === 'string' || argType === 'number') {\n\t\t\tclasses += ' ' + arg;\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tclasses += ' ' + classNames.apply(null, arg);\n\t\t} else if (argType === 'object') {\n\t\t\tfor (var key in arg) {\n\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\tclasses += ' ' + key;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn classes.substr(1);\n}\n\nexport default classNames;\n","import classNames from './classNames';\nexport default contextMenuComponent;\n\n/**\n * Set this component into your layout then use any mouse event to open the context menu:\n * oncontextmenu: contextMenuComponent.open([...menu])\n *\n * Example menu:\n * [\n * \t{icon:'fa-play', text:'begone'},\n *\t{icon:'fa-play', text:'asdf'},\n *\t{separator:true},\n *\t{icon:'fa-play', text:'wertwert', menu: [\n *\t\t{icon:'fa-play', text:'asdf'}\n *\t]}\n * ]\n */\n\nlet contextMenuComponent = {\n\tvm: {\n\t\tshow: m.prop(false),\n\t\tstyle: m.prop({}),\n\t\tmenu: m.prop([])\n\t},\n\tview: () => {\n\t\treturn m(\n\t\t\t'.context-menu',\n\t\t\t{\n\t\t\t\tclass: classNames({'show-context-menu': contextMenuComponent.vm.show()}),\n\t\t\t\tstyle: contextMenuComponent.vm.style()\n\t\t\t},\n\t\t\tcontextMenuComponent.vm.menu().map(menuNode)\n\t\t);\n\t},\n\n\topen: menu => e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tcontextMenuComponent.vm.menu(menu);\n\t\tcontextMenuComponent.vm.show(true);\n\t\tcontextMenuComponent.vm.style({\n\t\t\tleft:e.pageX + 'px',\n\t\t\ttop:e.pageY + 'px'\n\t\t});\n\n\t\tdocument.addEventListener('mousedown', onClick, false);\n\t\tfunction onClick(){\n\t\t\tcontextMenuComponent.vm.show(false);\n\t\t\tdocument.removeEventListener('mousedown', onClick);\n\t\t\tm.redraw();\n\t\t}\n\t}\n};\n\nlet menuNode = (node, key) => {\n\treturn node.separator\n\t\t? m('.context-menu-separator', {key:key})\n\t\t: m('.context-menu-item', {class: classNames({disabled: node.disabled, submenu:node.menu, key: key})}, [\n\t\t\tm('button.context-menu-btn',{onmousedown: node.disabled || node.action}, [\n\t\t\t\tm('i.fa', {class:node.icon}),\n\t\t\t\tm('span.context-menu-text', node.text)\n\t\t\t]),\n\t\t\tnode.menu ? m('.context-menu', node.menu.map(menuNode)) : ''\n\t\t]);\n};","import {fetchText} from 'utils/modelHelpers';\nimport {createFile} from './fileActions';\nimport messages from 'utils/messagesComponent';\n\n// add trailing slash if needed, and then remove proceeding slash\n// return prop\nlet pathProp = path => m.prop(path.replace(/\\/?$/, '/').replace(/^\\//, ''));\n\nexport let createFromTemplate = ({study, path, url, templateName}) => () => {\n\tlet name = pathProp(path);\n\tlet template = fetchText(url);\n\n\treturn messages.prompt({\n\t\theader: `Create from \"${templateName}\"`,\n\t\tcontent: 'Please insert the file name:',\n\t\tprop: name\n\t})\n\t\t.then(response => {\n\t\t\tif (response) return template.then(content => createFile(study, name,() => content));\n\t\t})\n\t\t.catch(err => {\n\t\t\tlet message = (err.response && err.response.status === 404)\n\t\t\t\t? `Template file not found at ${url}`\n\t\t\t\t: err.message;\n\n\t\t\treturn messages.alert({\n\t\t\t\theader: `Create from \"${templateName}\" failed`,\n\t\t\t\tcontent: message\n\t\t\t});\n\t\t});\n};\n","export default hash;\n\nlet hash = {};\n\nhash.piPlayer = {\n\t'Empty': '/implicit/user/yba/wizards/emptypip.js',\n\t'Typical': '/implicit/user/yba/wizards/typical.js',\n\t'Simple sorting task': '/implicit/user/yba/wizards/sorting.js',\n\t'IAT (images)': '/implicit/user/yba/wizards/iatimages.js',\n\t'IAT (words)': '/implicit/user/yba/wizards/iatwords.js',\n\t'IAT (modify attributes)': '/implicit/user/yba/wizards/iatatt.js',\n\t'IAT (all the parameters)': '/implicit/user/yba/wizards/iatall.js',\n\t'Mobile IAT': '/implicit/user/yba/wizards/iatmobile.js',\n\t'ST-IAT': '/implicit/user/yba/wizards/stiatsimple.js',\n\t'ST-IAT (all parameters)': '/implicit/user/yba/wizards/stiatall.js',\n\t'AMP (with words as primes)': '/implicit/user/yba/wizards/ampwords.js',\n\t'AMP (all parameters)': '/implicit/user/yba/wizards/ampall.js',\n\t'Brief-IAT': '/implicit/user/yba/wizards/batsimple.js',\n\t'Brief-IAT (all parameters)': '/implicit/user/yba/wizards/batall.js',\n\t'Attitude induction (behaviors)': '/implicit/user/yba/wizards/attitude.js',\n\t'Evaluative Conditioning': '/implicit/user/yba/wizards/ec.js'\n};\n\nhash.piQuest = {\n\t'Empty': '/implicit/user/yba/wizards/emptyquest.js',\n\t'Rating Questionnaire': '/implicit/user/yba/wizards/rating.js',\n\t'Rating Questionnaire (with images)': '/implicit/user/yba/wizards/ratingimages.js'\n};\n\nhash.piMessage = {\n\t'Consent (Yoav lab)': '/implicit/user/yba/wizards/consent.jst',\n\t'Intro': '/implicit/user/yba/wizards/intro.jst',\n\t'Debriefing': '/implicit/user/yba/wizards/debriefing.jst'\n};\n\nhash.piManager = {\n\t'Empty': '/implicit/user/yba/wizards/emptymanager.js',\n\t'Typical': '/implicit/user/yba/wizards/emptymanager.js'\n};\n","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nimport {createDir, createEmpty, moveFile, copyUrl} from './fileActions';\nimport {createFromTemplate} from './wizardActions';\nimport wizardHash from './wizardHash';\nexport default fileContext;\n\n// download support according to modernizer\nlet downloadSupport = !window.externalHost && 'download' in document.createElement('a');\n\nlet fileContext = (file, study) => {\n\tlet path = file.isDir ? file.path : file.basePath;\n\tlet menu = [\n\t\t// {icon:'fa-copy', text:'Duplicate', action: () => messages.alert({header:'Duplicate: ' + file.name, content:'Duplicate has not been implemented yet'})},\n\n\t\t{icon:'fa-folder', text:'New Directory', action: createDir(study, path)},\n\t\t{icon:'fa-file', text:'New File', action: createEmpty(study, path)},\n\t\t{icon:'fa-file-text', text:'New from template', menu: mapWizardHash(wizardHash)},\n\t\t{icon:'fa-magic', text:'New from wizard', menu: [\n\t\t\t{text: 'Rating wizard', action: activateWizard(`rating`)}\n\t\t]},\n\t\t{separator:true},\n\t\t{icon:'fa-refresh', text: 'Refresh/Reset', action: refreshFile, disabled: file.content() == file.sourceContent()},\n\t\t{icon:'fa-download', text:'Download', action: downloadFile},\n\t\t{icon:'fa-link', text: 'Copy URL', action: copyUrl(file)},\n\n\t\t{icon:'fa-close', text:'Delete', action: deleteFile},\n\t\t{icon:'fa-exchange', text:'Move/Rename...', action: moveFile(file,study)}\n\t];\n\n\treturn contextMenu.open(menu);\n\n\tfunction activateWizard(route){\n\t\treturn () => m.route(`/editor/${study.id}/wizard/` + route);\n\t}\n\t\n\tfunction mapWizardHash(wizardHash){\n\t\treturn Object.keys(wizardHash).map((text) => {\n\t\t\tlet value = wizardHash[text];\n\t\t\treturn typeof value === 'string'\n\t\t\t\t? {text, action: createFromTemplate({study, path, url:value, templateName:text})}\n\t\t\t\t: {text, menu: mapWizardHash(value)};\n\t\t});\n\t}\n\n\tfunction refreshFile(){\n\t\tfile.content(file.sourceContent());\n\t\tm.redraw();\n\t}\n\n\tfunction downloadFile(){\n\t\tif (downloadSupport){\n\t\t\tlet link = document.createElement('a');\n\t\t\tlink.href = file.url;\n\t\t\tlink.download = file.name;\n\t\t\tlink.target = '_blank';\n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\t\t\tdocument.body.removeChild(link);\n\t\t} else {\n\t\t\tlet win = window.open(file.url, '_blank');\n\t\t\twin.focus();\n\t\t}\n\t}\n\n\tfunction deleteFile(){\n\t\tmessages.confirm({\n\t\t\theader:['Delete ',m('small', file.name)],\n\t\t\tcontent: 'Are you sure you want to delete this file? This action is permanent!'\n\t\t})\n\t\t.then(ok => {\n\t\t\tif (ok) return study.del(file.id);\n\t\t})\n\t\t.then(m.redraw)\n\t\t.catch( err => {\n\t\t\terr.response.json()\n\t\t\t\t.then(response => {\n\t\t\t\t\tmessages.alert({\n\t\t\t\t\t\theader: 'Delete failed:',\n\t\t\t\t\t\tcontent: response.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\treturn err;\n\t\t});\n\t} // end delete file\n};\n\n","const DRAGOVER_CLASS = 'is-dragover';\nfunction dragdrop(element, options) {\n\toptions = options || {};\n\n\telement.addEventListener('dragover', activate);\n\telement.addEventListener('dragleave', deactivate);\n\telement.addEventListener('dragend', deactivate);\n\telement.addEventListener('drop', deactivate);\n\telement.addEventListener('drop', update);\n\n\tfunction activate(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation(); // so that only the lowest level element gets focused\n\t\telement.classList.add(DRAGOVER_CLASS);\n\t}\n\tfunction deactivate() {\n\t\telement.classList.remove(DRAGOVER_CLASS);\n\t}\n\tfunction update(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tonchange(options)(e);\n\t}\n}\n\nexport let uploadConfig = ctrl => (element, isInitialized) => {\n\tif (!isInitialized) {\n\t\tdragdrop(element, {onchange: ctrl.onchange});\n\t}\n};\n\nexport let uploadBox = args => m('form.upload', {method:'post', enctype:'multipart/form-data', config:uploadConfig(args)},[\n\tm('i.fa.fa-download\t.fa-3x.m-b-1'),\n\tm('input.box__file', {id:'upload', type:'file', name:'files[]', 'data-multiple-caption':'{count} files selected', multiple:true, onchange:onchange(args)}),\n\tm('label', {for:'upload'},\n\t\tm('strong', 'Choose a file'),\n\t\tm('span', ' or drag it here')\n\t)\n]);\n\n// call onchange with files\nlet onchange = args => e => {\n\tif (typeof args.onchange == 'function') {\n\t\targs.onchange((e.dataTransfer || e.target).files);\n\t}\n};","import folder from './folderComponent';\nimport classNames from 'utils/classNames';\nimport fileContext from './fileContext';\nimport {uploadConfig} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\n\nexport default node;\n\nlet node = (file, args) => m.component(nodeComponent, file, args);\n\nlet nodeComponent = {\n\tcontroller: (file) => {\n\t\treturn {\n\t\t\tisCurrent: m.route.param('fileID') === file.id\n\t\t};\n\t},\n\tview: (ctrl, file, {folderHash, study, filesVM}) => {\n\t\tlet vm = filesVM(file.id); // vm is created by the study component, it exposes a \"isOpen\" and \"isChanged\" properties\n\t\treturn m('li.file-node',\n\t\t\t{\n\t\t\t\tkey: file.id,\n\t\t\t\tclass: classNames({\n\t\t\t\t\topen : vm.isOpen()\n\t\t\t\t}),\n\t\t\t\tonclick: file.isDir ? () => vm.isOpen(!vm.isOpen()) : choose(file),\n\t\t\t\toncontextmenu: fileContext(file, study),\n\t\t\t\tconfig: file.isDir ? uploadConfig({onchange:uploadFiles(file.path, study)}) : null\n\t\t\t},\n\t\t\t[\n\t\t\t\tm('a.wholerow', {\n\t\t\t\t\tunselectable:'on',\n\t\t\t\t\tclass:classNames({\n\t\t\t\t\t\t'current': ctrl.isCurrent\n\t\t\t\t\t})\n\t\t\t\t}, m.trust('&nbsp;')),\n\t\t\t\tm('i.fa.fa-fw', {\n\t\t\t\t\tclass: classNames({\n\t\t\t\t\t\t'fa-caret-right' : file.isDir && !vm.isOpen(),\n\t\t\t\t\t\t'fa-caret-down': file.isDir && vm.isOpen()\n\t\t\t\t\t})\n\t\t\t\t}),\n\n\t\t\t\tm('a', [\n\t\t\t\t\tm('i.fa.fa-fw.fa-file-o', {\n\t\t\t\t\t\tclass: classNames({\n\t\t\t\t\t\t\t'fa-file-code-o': /(js)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-text-o': /(jst|html|xml)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-image-o': /(jpg|png|bmp)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-pdf-o': /(pdf)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-folder-o': file.isDir\n\t\t\t\t\t\t})\n\t\t\t\t\t}),\n\t\t\t\t\tm('span',{class:classNames({'font-weight-bold':file.hasChanged()})},` ${file.name}`),\n\t\t\t\t\tfile.isDir ? folder(file.path + '/', {folderHash, study, filesVM}) : ''\n\t\t\t\t])\n\t\t\t]\n\t\t);\n\t}\n};\n\nlet choose = (file) => e => {\n\te.stopPropagation();\n\te.preventDefault();\n\tm.route(`/editor/${file.studyId}/file/${encodeURIComponent(file.id)}`);\n};\n","import node from './nodeComponent';\nexport default folder;\n\nlet folder = (path, args) => m.component(folderComponent, path, args);\n\nlet folderComponent = {\n\tview(ctrl, path, {folderHash, study, filesVM}){\n\t\tlet files = folderHash[path] || [];\n\n\t\treturn m('.files',[\n\t\t\tm('ul', files.map(file => node(file, {folderHash, study, filesVM})))\n\t\t]);\n\t}\n};\n","import folderComponent from './folderComponent';\nimport {uploadConfig} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\nexport default filesComponent;\n\nlet currentStudy, filesVM;\n\n\nlet filesComponent = {\n\tcontroller(){\n\t\t// Create new VM only if we change study name\n\t\tlet studyId = m.route.param('studyId');\n\t\tif (!filesVM || (currentStudy !== studyId)){\n\t\t\tcurrentStudy = studyId;\n\t\t\tfilesVM = viewModelMap({\n\t\t\t\tisOpen: m.prop(false),\n\t\t\t\tisChanged: m.prop(false)\n\t\t\t});\n\t\t}\n\n\t\treturn {filesVM, parseFiles};\n\t},\n\tview({parseFiles, filesVM}, {study}){\n\t\tlet folderHash = parseFiles(study.files());\n\t\tlet config = uploadConfig({onchange:uploadFiles('/', study)});\n\t\treturn m('div', {config}, folderComponent('/', {folderHash, study, filesVM}));\n\t}\n};\n\n\n// http://lhorie.github.io/mithril-blog/mapping-view-models.html\nvar viewModelMap = function(signature) {\n\tvar map = {};\n\treturn function(key) {\n\t\tif (!map[key]) {\n\t\t\tmap[key] = {};\n\t\t\tfor (var prop in signature) map[key][prop] = m.prop(signature[prop]());\n\t\t}\n\t\treturn map[key];\n\t};\n};\n\nlet parseFiles = files => files.reduce((hash, file)=>{\n\tlet path = file.basePath;\n\tif (!hash[path]) hash[path] = [];\n\thash[path].push(file);\n\treturn hash;\n}, {});","import {createEmpty} from './fileActions';\nexport default sidebarButtons;\n\nlet sidebarButtons = {\n\tcontroller: ({study}) => {\n\t\tlet ctrl = {\n\t\t\tnewOpen: false,\n\t\t\ttoggleNew: () => ctrl.newOpen = !ctrl.newOpen,\n\t\t\tcreateEmpty: createEmpty(study),\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\n\tview: ctrl => {\n\t\treturn m('.btn-group', {class: ctrl.newOpen ? 'open' : ''}, [\n\t\t\tm('.btn.btn-sm.btn-secondary', {onclick:ctrl.createEmpty}, [\n\t\t\t\tm('i.fa.fa-plus'), ' New'\n\t\t\t]),\n\t\t\tm('.btn.btn-sm.btn-secondary.dropdown-toggle', {onclick:ctrl.toggleNew}),\n\t\t\tm('.dropdown-menu', {onclick: ctrl.toggleNew}, [\n\t\t//\t\tm('a.dropdown-item', {onclick: ctrl.createPIP}, 'piPlayer'),\n\t\t//\t\tm('a.dropdown-item', {onclick: ctrl.createQuest}, 'piQuest'),\n\t\t//\t\tm('a.dropdown-item', {onclick: ctrl.createManager}, 'piManager')\n\t\t\t])\n\t\t]);\n\t}\n};\n","import filesComponent from './filesComponent';\nimport sidebarButtons from './sidebarButtons';\nimport {uploadBox} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\nexport default sidebarComponent;\n\nlet sidebarComponent = {\n\tview: (ctrl , {study, filesVM}) => {\n\t\treturn m('.sidebar', [\n\t\t\tm('h5', study.id),\n\t\t\tm('p.text-muted.m-a-1', [\n\t\t\t\tm('small', 'Right click the file list in order to perform actions.')\n\t\t\t]),\n//\t\t\tm.component(sidebarButtons, {study}),\n\t\t\tm.component(filesComponent, {study,filesVM, files: study.files() || []}),\n\t\t\tuploadBox({onchange: uploadFiles('/', study)})\n\t\t]);\n\t}\n};\n","export default editorLayoutComponent;\nimport studyFactory from './studyModel';\nimport editorComponent from './editorComponent';\nimport wizardComponent from './wizardComponent';\nimport sidebarComponent from './sidebar/sidebarComponent';\n\nlet study, filesVM;\n\nlet editorLayoutComponent = {\n\tcontroller: ()=>{\n\t\tlet id = m.route.param('studyId');\n\n\t\tif (!study || (study.id !== id)){\n\t\t\tstudy = studyFactory(id);\n\t\t\tstudy\n\t\t\t\t.get()\n\t\t\t\t.then(m.redraw);\n\t\t}\n\n\t\tif (!filesVM) filesVM = viewModelMap({\n\t\t\tisOpen: m.prop(false),\n\t\t\tisChanged: m.prop(false)\n\t\t});\n\n\t\tlet ctrl = {study, filesVM, onunload};\n\n\t\twindow.addEventListener('beforeunload', beforeunload);\n\n\t\treturn ctrl;\n\n\t\tfunction hasUnsavedData(){\n\t\t\treturn study.files().some(f => f.content() !== f.sourceContent());\n\t\t}\n\n\t\tfunction beforeunload(event) {\n\t\t\tif (hasUnsavedData()) return event.returnValue = 'You have unsaved data are you sure you want to leave?';\n\t\t}\n\n\t\tfunction onunload(e){\n\t\t\tlet leavingEditor = () => !/^\\/editor\\//.test(m.route());\n\t\t\tif (leavingEditor() && hasUnsavedData() && !window.confirm('You have unsaved data are you sure you want to leave?')){\n\t\t\t\te.preventDefault();\n\t\t\t} else {\n\t\t\t\twindow.removeEventListener('beforeunload', beforeunload);\n\t\t\t}\n\t\t}\n\t},\n\tview: ({study, filesVM}) => {\n\t\treturn m('.row.study', [\n\t\t\tstudy.loaded\n\t\t\t\t? [\n\t\t\t\t\tm('.col-md-2', [\n\t\t\t\t\t\tm.component(sidebarComponent, {study, filesVM})\n\t\t\t\t\t]),\n\t\t\t\t\tm('.col-md-10',[\n\t\t\t\t\t\tm.route.param('resource') === 'wizard'\n\t\t\t\t\t\t\t? m.component(wizardComponent, {study})\n\t\t\t\t\t\t\t: m.component(editorComponent, {study, filesVM})\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t\t\t:\n\t\t\t\t''\n\t\t]);\n\t}\n};\n\n// http://lhorie.github.io/mithril-blog/mapping-view-models.html\nvar viewModelMap = function(signature) {\n\tvar map = {};\n\treturn function(key) {\n\t\tif (!map[key]) {\n\t\t\tmap[key] = {};\n\t\t\tfor (var prop in signature) map[key][prop] = m.prop(signature[prop]());\n\t\t}\n\t\treturn map[key];\n\t};\n};\n","import {fetchJson} from 'utils/modelHelpers';\nconst url = '/dashboard/StudyData';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_PAUSED = 'P';\nexport const STATUS_STOP = 'S';\n\nexport function createStudy(study){\n\tlet body = Object.assign({\n\t\taction:'insertRulesTable',\n\t\tcreationDate: new Date(),\n\t\tstudyStatus: STATUS_RUNNING\n\t}, study);\n\n\treturn fetchJson(url, {method: 'post', body: body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateStudy(study){\n\tlet body = Object.assign({\n\t\taction:'updateRulesTable'\n\t}, study);\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateStatus(study, status){\n\tlet body = Object.assign({\n\t\taction:'updateStudyStatus'\n\t}, study,{studyStatus: status});\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function getAllPoolStudies(){\n\treturn fetchJson(url, {method:'post', body: {action:'getAllPoolStudies'}})\n\t\t.then(interceptErrors);\n}\n\nexport function getLast100PoolUpdates(){\n\treturn fetchJson(url, {method:'post', body: {action:'getLast100PoolUpdates'}})\n\t\t.then(interceptErrors);\n}\n\nexport function getStudyId(study){\n\tlet body = Object.assign({\n\t\taction:'getStudyId'\n\t}, study);\n\n\treturn  fetchJson(url, {method: 'post',body:body});\n}\n\nexport function resetStudy(study){\n\treturn fetchJson(url, {method:'post', body: Object.assign({action:'resetCompletions'}, study)})\n\t\t.then(interceptErrors);\n}\n\nfunction interceptErrors(response){\n\tif (!response.error){\n\t\treturn response;\n\t}\n\n\tlet errors = {\n\t\t1: 'This ID already exists.',\n\t\t2: 'The study could not be found.',\n\t\t3: 'The rule file could not be found.',\n\t\t4: 'The rules file does not fit the \"research\" schema.'\n\t};\n\n\treturn Promise.reject({message: errors[response.error]});\n}","export default spinner;\n\nlet spinner = {\n\tdisplay: m.prop(false),\n\tshow(response){\n\t\tspinner.display(true);\n\t\tm.redraw();\n\t\treturn response;\n\t},\n\thide(response){\n\t\tspinner.display(false);\n\t\tm.redraw();\n\t\treturn response;\n\t},\n\tview(){\n\t\treturn m('.backdrop', {hidden:!spinner.display()}, // spinner.show()\n\t\t\tm('.overlay'),\n\t\t\tm('.backdrop-content.spinner.icon.fa.fa-cog.fa-spin')\n\t\t);\n\t}\n};","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default editMessage;\n\n/**\n * Create edit component\n * Promise editMessage({input:Object, output:Prop})\n */\nlet editMessage = args => messages.custom({\n\tcontent: m.component(editComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet editComponent = {\n\tcontroller({input, output, close}){\n\t\tlet study = ['rulesUrl', 'targetCompletions', 'autopauseUrl', 'userEmail'].reduce((study, prop)=>{\n\t\t\tstudy[prop] = m.prop(input[prop] || '');\n\t\t\treturn study;\n\t\t}, {});\n\n\t\t// export study to calling component\n\t\toutput(study);\n\n\n\t\tlet ctrl = {\n\t\t\tstudy,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet isEmail = str  => /\\S+@\\S+\\.\\S+/.test(str);\n\t\t\t\tlet isNormalInteger = str => /^\\+?(0|[1-9]\\d*)$/.test(str);\n\n\t\t\t\tlet response = {\n\t\t\t\t\trulesUrl: study.rulesUrl(),\n\t\t\t\t\ttargetCompletions: isNormalInteger(study.targetCompletions()),\n\t\t\t\t\tautopauseUrl: study.autopauseUrl(),\n\t\t\t\t\tuserEmail: isEmail(study.userEmail())\n\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) {\n\t\t\t\t\tstudy.targetCompletions(+study.targetCompletions());// targetCompletions should be cast as a number\n\t\t\t\t\tclose(true);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl, {input}){\n\t\tlet study = ctrl.study;\n\t\tlet validity = ctrl.validity();\n\t\tlet miniButtonView = (prop, name, url) => m('button.btn.btn-secondary.btn-sm', {onclick: prop.bind(null,url)}, name);\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Study Editor'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Study ID'),\n\t\t\t\t\tm('p',[\n\t\t\t\t\t\tm('strong.form-control-static', input.studyId)\n\t\t\t\t\t])\n\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Study URL'),\n\t\t\t\t\tm('p',[\n\t\t\t\t\t\tm('strong.form-control-static', input.studyUrl)\n\t\t\t\t\t])\n\t\t\t\t]),\n\n\t\t\t\tm('.form-group', {class:groupClasses(validity.rulesUrl)}, [\n\t\t\t\t\tm('label', 'Rules File URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Rules file URL',\n\t\t\t\t\t\tvalue: study.rulesUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.rulesUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.rulesUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tminiButtonView(study.rulesUrl, 'Priority26', '/research/library/rules/Priority26.xml')\n\t\t\t\t\t]),\n\t\t\t\t\tvalidationView(validity.rulesUrl, 'This row is required')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.autopauseUrl)}, [\n\t\t\t\t\tm('label', 'Auto-pause file URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tplaceholder:'Auto pause file URL',\n\t\t\t\t\t\tvalue: study.autopauseUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.autopauseUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.autopauseUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Default', '/research/library/pausefiles/pausedefault.xml'),\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Never', '/research/library/pausefiles/neverpause.xml'),\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Low restrictions', '/research/library/pausefiles/pauselowrestrictions.xml')\n\t\t\t\t\t]),\n\t\t\t\t\tvalidationView(validity.autopauseUrl, 'This row is required')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.targetCompletions)}, [\n\t\t\t\t\tm('label','Target number of sessions'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'number',\n\t\t\t\t\t\tplaceholder:'Target Sessions',\n\t\t\t\t\t\tvalue: study.targetCompletions(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.targetCompletions),\n\t\t\t\t\t\tonclick: m.withAttr('value', study.targetCompletions),\n\t\t\t\t\t\tclass:inputClasses(validity.targetCompletions)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.targetCompletions, 'This row is required and has to be an integer above 0')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.userEmail)}, [\n\t\t\t\t\tm('label','User Email'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'email',\n\t\t\t\t\t\tplaceholder:'Email',\n\t\t\t\t\t\tvalue: study.userEmail(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.userEmail),\n\t\t\t\t\t\tclass:inputClasses(validity.userEmail)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.userEmail, 'This row is required and must be a valid Email')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default createMessage;\n\n/**\n * Create edit component\n * Promise editMessage({output:Prop})\n */\nlet createMessage = args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet study = output({\n\t\t\tstudyUrl: m.prop('')\n\t\t});\n\n\t\tlet ctrl = {\n\t\t\tstudy,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyUrl: study.studyUrl()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet study = ctrl.study;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Create Study'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyUrl)}, [\n\t\t\t\t\tm('label', 'Study URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study URL',\n\t\t\t\t\t\tvalue: study.studyUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.studyUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.studyUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyUrl, 'This row is required')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};","import {updateStudy, createStudy, updateStatus, getStudyId, resetStudy, STATUS_RUNNING, STATUS_PAUSED, STATUS_STOP} from './poolModel';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport editMessage from './poolEditComponent';\nimport createMessage from './poolCreateComponent';\n\n\nexport function play(study){\n\treturn messages.confirm({\n\t\theader: 'Continue Study:',\n\t\tcontent: `Are you sure you want to continue \"${study.studyId}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_RUNNING)\n\t\t\t\t.then(()=>study.studyStatus = STATUS_RUNNING)\n\t\t\t\t.catch(reportError('Continue Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n}\n\nexport function pause(study){\n\treturn messages.confirm({\n\t\theader: 'Pause Study:',\n\t\tcontent: `Are you sure you want to pause \"${study.studyId}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_PAUSED)\n\t\t\t\t.then(()=>study.studyStatus = STATUS_PAUSED)\n\t\t\t\t.catch(reportError('Pause Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n}\n\nexport let remove  = (study, list) => {\n\treturn messages.confirm({\n\t\theader: 'Remove Study:',\n\t\tcontent: `Are you sure you want to remove \"${study.studyId}\" from the pool?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_STOP)\n\t\t\t\t.then(() => list(list().filter(el => el !== study)))\n\t\t\t\t.catch(reportError('Remove Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n};\n\nexport let edit  = (input) => {\n\tlet output = m.prop();\n\treturn editMessage({input, output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tstudyPending(input, true)();\n\t\t\t\tlet study = Object.assign({}, input, unPropify(output()));\n\t\t\t\treturn updateStudy(study)\n\t\t\t\t\t.then(() => Object.assign(input, study)) // update study in view\n\t\t\t\t\t.catch(reportError('Study Editor'))\n\t\t\t\t\t.then(studyPending(input, false));\n\t\t\t}\n\t\t});\n};\n\nexport let create = (list) => {\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tspinner.show();\n\t\t\t\tgetStudyId(output())\n\t\t\t\t\t.then(response => Object.assign(unPropify(output()), response)) // add response data to \"newStudy\"\n\t\t\t\t\t.then(spinner.hide)\n\t\t\t\t\t.then(editNewStudy);\n\t\t\t}\n\t\t});\n\n\tfunction editNewStudy(input){\n\t\tlet output = m.prop();\n\t\treturn editMessage({input, output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tlet study = Object.assign({\n\t\t\t\t\t\tstartedSessions: 0,\n\t\t\t\t\t\tcompletedSessions: 0,\n\t\t\t\t\t\tcreationDate:new Date(),\n\t\t\t\t\t\tstudyStatus: STATUS_RUNNING\n\t\t\t\t\t}, input, unPropify(output()));\n\t\t\t\t\treturn createStudy(study)\n\t\t\t\t\t\t.then(() => list().push(study))\n\t\t\t\t\t\t.then(m.redraw)\n\t\t\t\t\t\t.catch(reportError('Create Study'));\n\t\t\t\t}\n\t\t\t});\n\t}\n};\n\nexport let reset = study => {\n\tmessages.confirm({\n\t\theader: 'Restart study',\n\t\tcontent: 'Are you sure you want to restart this study? This action will reset all started and completed sessions.'\n\t}).then(response => {\n\t\tif (response) {\n\t\t\tlet old = {\n\t\t\t\tstartedSessions: study.startedSessions,\n\t\t\t\tcompletedSessions: study.completedSessions\n\t\t\t};\n\t\t\tstudy.startedSessions = study.completedSessions = 0;\n\t\t\tm.redraw();\n\t\t\treturn resetStudy(study)\n\t\t\t\t.catch(response => {\n\t\t\t\t\tObject.assign(study, old);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t})\n\t\t\t\t.catch(reportError('Restart study'));\n\t\t}\n\t});\n};\n\nlet reportError = header => err => messages.alert({header, content: err.message});\n\nlet studyPending = (study, state) => () => {\n\tstudy.$pending = state;\n\tm.redraw();\n};\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst loginUrl = '/dashboard/dashboard/connect';\nconst logoutUrl = '/dashboard/dashboard/logout';\n\nlet authorizeState = {};\n\nexport let isLoggedIn = () => !!authorizeState.isLoggedin;\nexport let getRole = () => authorizeState.role;\n\nexport function authorize(){\n\tauthorizeState = getAuth();\n}\n\nexport let login = (username, password) => fetchJson(loginUrl, {\n\tmethod: 'post',\n\tbody: {username, password}\n});\n\nexport let logout = () => fetchVoid(logoutUrl, {method:'post'}).then(getAuth);\n\nfunction getAuth(){\n\tvar cookieValue = decodeURIComponent(document.cookie.replace(/(?:(?:^|.*;\\s*)PiLogin\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1'));\n\ttry {\n\t\treturn cookieValue ? JSON.parse(cookieValue) : {};\n\t} catch (e) {\n\t\tsetTimeout(()=>{throw e;});\n\t\treturn {};\n\t}\n}","export default function sortTable(listProp, sortByProp) {\n\treturn function(e) {\n\t\tlet prop = e.target.getAttribute('data-sort-by');\n\t\tlet list = listProp();\n\t\tif (prop) {\n\t\t\tif (typeof sortByProp == 'function') sortByProp(prop); // record property so that we can change style accordingly\n\t\t\tvar first = list[0];\n\t\t\tlist.sort(function(a, b) {\n\t\t\t\treturn a[prop] > b[prop] ? 1 : a[prop] < b[prop] ? -1 : 0;\n\t\t\t});\n\t\t\tif (first === list[0]) list.reverse();\n\t\t}\n\t};\n}\n","export default function formatDate(date){\n\tlet pad = num => num < 10 ? '0' + num : num;\n\treturn `${pad(date.getMonth() + 1)}\\\\${pad(date.getDate())}\\\\${date.getFullYear()}`;\n}\n","import {getAllPoolStudies, STATUS_PAUSED, STATUS_RUNNING} from './poolModel';\nimport {play, pause, remove, edit, create, reset} from './poolActions';\nimport {getRole} from 'login/authModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default poolComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nconst TABLE_WIDTH = 8;\n\nlet poolComponent = {\n\tcontroller: () => {\n\t\tconst ctrl = {\n\t\t\tplay, pause, remove, edit, reset, create,\n\t\t\tcanCreate: () => getRole() === 'SU',\n\t\t\tlist: m.prop([]),\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop(),\n\t\t\terror: m.prop('')\n\t\t};\n\n\t\tgetAllPoolStudies()\n\t\t\t.then(ctrl.list)\n\t\t\t.catch(ctrl.error)\n\t\t\t.then(m.redraw);\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet list = ctrl.list;\n\t\treturn m('.pool', [\n\t\t\tm('h2', 'Study pool'),\n\t\t\tctrl.error()\n\t\t\t\t?\n\t\t\t\tm('.alert.alert-warning',\n\t\t\t\t\tm('strong', 'Warning!! '), ctrl.error().message\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\t\tm('thead', [\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', {colspan:TABLE_WIDTH - 1}, [\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\tm('th', [\n\t\t\t\t\t\t\t\tm('a.btn.btn-secondary', {href:'/pool/history', config:m.route}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-history'), '  History'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tctrl.canCreate() ? m('tr', [\n\t\t\t\t\t\t\tm('th.text-xs-center', {colspan:TABLE_WIDTH}, [\n\t\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Add new study'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', thConfig('studyUrl',ctrl.sortBy), 'Study'),\n\t\t\t\t\t\t\tm('th', thConfig('rulesUrl',ctrl.sortBy), 'Rules'),\n\t\t\t\t\t\t\tm('th', thConfig('autopauseUrl',ctrl.sortBy), 'Autopause'),\n\t\t\t\t\t\t\tm('th', thConfig('completedSessions',ctrl.sortBy), 'Completion'),\n\t\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date'),\n\t\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tbody', [\n\t\t\t\t\t\tlist().length === 0\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\tm('tr.table-info',\n\t\t\t\t\t\t\t\tm('td.text-xs-center', {colspan: TABLE_WIDTH},\n\t\t\t\t\t\t\t\t\tm('strong', 'Heads up! '), 'There are no pool studies yet'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(study => m('tr', [\n\t\t\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\t\t\tm('td', study.studyId),\n\n\t\t\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.studyUrl, target: '_blank'}, 'Study')\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Rules url\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.rulesUrl, target: '_blank'}, 'Rules')\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Autopause url\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.autopauseUrl, target: '_blank'}, 'Autopause')\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Completions\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tstudy.startedSessions ? (100 * study.completedSessions / study.startedSessions).toFixed(1) + '% ' : 'n/a ',\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\t\t\tm('.card-header', 'Completion Details'),\n\t\t\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Target Completions: '), study.targetCompletions\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Started Sessions: '), study.startedSessions\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Completed Sessions: '), study.completedSessions\n\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Date\n\t\t\t\t\t\t\t\tm('td', formatDate(new Date(study.creationDate))),\n\n\t\t\t\t\t\t\t\t// ### Status\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t\t\t}[study.studyStatus]\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tstudy.$pending\n\t\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\tm('.l', 'Loading...')\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\t\t\t\tstudy.canUnpause && study.studyStatus === STATUS_PAUSED ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.play.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-play')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canPause && study.studyStatus === STATUS_RUNNING ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.pause.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-pause')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canReset ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.edit.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-edit')\n\t\t\t\t\t\t\t\t\t\t\t]): '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canReset ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.reset.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-refresh')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tstudy.canStop ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, study, list)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t\t\t\t]) : ''\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]))\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\treturn study =>\n\t\tincludes(study.studyId, ctrl.globalSearch()) ||\n\t\tincludes(study.studyUrl, ctrl.globalSearch()) ||\n\t\tincludes(study.rulesUrl, ctrl.globalSearch());\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}\n","// import $ from 'jquery';\nlet Pikaday = window.Pikaday;\n\nexport let datePicker = (prop, options) => m.component(pikaday, {prop,options});\nexport let dateRangePicker = args => m.component(pikadayRange, args);\n\nlet pikaday = {\n\tview(ctrl, {prop, options}){\n\t\treturn m('div', {config: pikaday.config(prop, options)});\n\t},\n\tconfig(prop, options){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tif (!isInitialized){\n\t\t\t\tctx.picker = new Pikaday(Object.assign({\n\t\t\t\t\tonSelect: prop,\n\t\t\t\t\tcontainer: element\n\t\t\t\t},options));\n\n\t\t\t\telement.appendChild(ctx.picker.el);\n\t\t\t}\n\n\t\t\tctx.picker.setDate(prop());\n\t\t};\n\t}\n};\n\n/**\n * args = {\n * \tstartValue: m.prop,\n *  endValue: m.prop,\n *  options: Object // specific daterange plugin options\n * }\n */\n\nlet pikadayRange = {\n\tview: function(ctrl, args){\n\t\treturn m('.date-range',[\n\t\t\tm('.figure', [\n\t\t\t\tm('strong','Start Date'),\n\t\t\t\tm('br'),\n\t\t\t\tm('.figure', {config:pikadayRange.configStart(args)})\n\t\t\t]),\n\t\t\tm.trust('&nbsp;'),\n\t\t\tm('.figure', [\n\t\t\t\tm('strong','End Date'),\n\t\t\t\tm('br'),\n\t\t\t\tm('.figure', {config:pikadayRange.configEnd(args)})\n\t\t\t])\n\t\t]);\n\t},\n\tconfigStart({startDate, endDate}){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tlet picker = ctx.picker;\n\n\t\t\tif (!isInitialized){\n\t\t\t\tpicker = ctx.picker = new Pikaday({\n\t\t\t\t\tmaxDate: new Date(),\n\t\t\t\t\tonSelect: date => startDate(date) && update() || m.redraw()\n\t\t\t\t});\n\t\t\t\telement.appendChild(picker.el);\n\n\t\t\t\tctx.onunload = picker.destroy.bind(picker);\n\t\t\t\tpicker.setDate(startDate());\n\t\t\t}\n\n\t\t\t// resset picker date only if the date has changed externaly\n\t\t\tif (!datesEqual(startDate() ,picker.getDate())){\n\t\t\t\tpicker.setDate(startDate(),true);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\tfunction update(){\n\t\t\t\tpicker.setStartRange(startDate());\n\t\t\t\tpicker.setEndRange(endDate());\n\t\t\t\tpicker.setMaxDate(endDate());\n\t\t\t}\n\t\t};\n\t},\n\tconfigEnd({startDate, endDate}){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tlet picker = ctx.picker;\n\n\t\t\tif (!isInitialized){\n\t\t\t\tpicker = ctx.picker = new Pikaday({\n\t\t\t\t\tmaxDate: new Date(),\n\t\t\t\t\tonSelect: date => endDate(date) && update() || m.redraw()\n\t\t\t\t});\n\t\t\t\telement.appendChild(picker.el);\n\n\t\t\t\tctx.onunload = picker.destroy.bind(picker);\n\t\t\t\tpicker.setDate(endDate());\n\t\t\t}\n\n\t\t\t// resset picker date only if the date has changed externaly\n\t\t\tif (!datesEqual(endDate() ,picker.getDate())){\n\t\t\t\tpicker.setDate(endDate(),true);\n\t\t\t\tupdate();\n\t\t\t}\n\n\t\t\tfunction update(){\n\t\t\t\tpicker.setStartRange(startDate());\n\t\t\t\tpicker.setEndRange(endDate());\n\t\t\t\tpicker.setMinDate(startDate());\n\t\t\t}\n\t\t};\n\t}\n};\n\nlet datesEqual = (date1, date2) => date1 instanceof Date && date2 instanceof Date && date1.getTime() === date2.getTime();","import {getLast100PoolUpdates} from './poolModel';\nimport {dateRangePicker} from 'utils/dateRange';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default poolComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nlet poolComponent = {\n\tcontroller: () => {\n\t\tconst ctrl = {\n\t\t\tlist: m.prop([]),\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tstartDate: m.prop(new Date(0)),\n\t\t\tendDate: m.prop(new Date()),\n\t\t\tsortBy: m.prop()\n\t\t};\n\n\t\tgetLast100PoolUpdates()\n\t\t\t.then(ctrl.list)\n\t\t\t.then(m.redraw);\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet list = ctrl.list;\n\t\treturn m('.pool', [\n\t\t\tm('h2', 'Pool history'),\n\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\tm('thead', [\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th.row', {colspan:8}, [\n\t\t\t\t\t\t\tm('.col-sm-4',\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tm('.col-sm-8',\n\t\t\t\t\t\t\t\tdateRangePicker(ctrl),\n\t\t\t\t\t\t\t\tm('.btn-group-vertical.history-button-group',[\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'Last 7 Days', 7),\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'Last 30 Days', 30),\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'Last 90 Days', 90),\n\t\t\t\t\t\t\t\t\tdayButtonView(ctrl, 'All times', 3650)\n\t\t\t\t\t\t\t\t])\n\n\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', thConfig('studyUrl',ctrl.sortBy), 'Study'),\n\t\t\t\t\t\t\tm('th', thConfig('rulesUrl',ctrl.sortBy), 'Rules'),\n\t\t\t\t\t\t\tm('th', thConfig('autopauseUrl',ctrl.sortBy), 'Autopause'),\t\t\n\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Creation Date'),\n\t\t\t\t\t\tm('th', thConfig('completedSessions',ctrl.sortBy), 'Completion'),\n\t\t\t\t\t\tm('th','New Status'),\n\t\t\t\t\t\tm('th','Old Status'),\n\t\t\t\t\t\tm('th', thConfig('updaterId',ctrl.sortBy), 'Updater'),\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('tbody', [\n\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(study => m('tr', [\n\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\tm('td', study.studyId),\n\n\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.studyUrl, target: '_blank'}, 'Study')\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Rules url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.rulesUrl, target: '_blank'}, 'Rules')\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Autopause url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.autopauseUrl, target: '_blank'}, 'Autopause')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t\t\t// ### Date\n\t\t\t\t\t\tm('td', formatDate(new Date(study.creationDate))),\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ### Target Completionss\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tstudy.startedSessions ? (100 * study.completedSessions / study.startedSessions).toFixed(1) + '% ' : 'n/a ',\n\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\tm('.card-header', 'Completion Details'),\n\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Target Completions: '), study.targetCompletions\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Started Sessions: '), study.startedSessions\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Completed Sessions: '), study.completedSessions\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### New Status\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t}[study.newStatus]\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t// ### Old Status\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t}[study.studyStatus]\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('td', study.updaterId),\n\t\t\t\t\t]))\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\treturn study =>\n\t\t(includes(study.studyId, ctrl.globalSearch()) ||\tincludes(study.updaterId, ctrl.globalSearch()) || includes(study.rulesUrl, ctrl.globalSearch())\n\t\t \t|| includes(study.targetCompletions, ctrl.globalSearch()))\n\t\t&& (new Date(study.creationDate)).getTime() >= ctrl.startDate().getTime()\n\t&& (new Date(study.creationDate)).getTime() <= ctrl.endDate().getTime()+86000000; //include the end day selected\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}\n\nlet dayButtonView = (ctrl, name, days) => m('button.btn.btn-secondary.btn-sm', {onclick: () => {\n\tlet d = new Date();\n\td.setDate(d.getDate() - days);\n\tctrl.startDate(d);\n\tctrl.endDate(new Date());\n}}, name);","import {fetchJson, fetchVoid} from 'utils/modelHelpers';\nconst url = '/dashboard/DashboardData';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_COMPLETE = 'C';\nexport const STATUS_ERROR = 'X';\n\nexport let getAllDownloads = () => fetchJson(url, {\n\tmethod:'post',\n\tbody: {action:'getAllDownloads'}\n}).then(interceptErrors);\n\nexport let removeDownload = download => fetchVoid(url, {\n\tmethod:'post',\n\tbody: Object.assign({action:'removeDownload'}, download)\n}).then(interceptErrors);\n\nexport let createDownload = download => fetchJson(url, {\n\tmethod: 'post',\n\tbody: Object.assign({action:'download'}, download)\n}).then(interceptErrors);\n\n\n\nfunction interceptErrors(response){\n\tif (!response || !response.error){\n\t\treturn response;\n\t}\n\n\treturn Promise.reject({message: response.msg});\n}","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\n\nexport default args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet download ={\n\t\t\tstudyId: m.prop(''),\n\t\t\tdb: m.prop('test'),\n\t\t\tstartDate: m.prop(new Date(0)),\n\t\t\tendDate: m.prop(new Date())\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(download);\n\n\n\t\tlet ctrl = {\n\t\t\tdownload,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: download.studyId()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet download = ctrl.download;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Request Download'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: download.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', download.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to request a download.')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label','Database'),\n\t\t\t\t\tm('select.form-control', {onchange: m.withAttr('value',download.db)}, [\n\t\t\t\t\t\tm('option',{value:'test', selected: download.db() === 'test'}, 'Development'),\n\t\t\t\t\t\tm('option',{value:'warehouse', selected: download.db() === 'warehouse'}, 'Production')\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Date Range'),\n\t\t\t\t\tdateRangePicker(download),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tdayButtonView(download, 'Last 7 Days', 7),\n\t\t\t\t\t\tdayButtonView(download, 'Last 30 Days', 30),\n\t\t\t\t\t\tdayButtonView(download, 'Last 90 Days', 90),\n\t\t\t\t\t\tdayButtonView(download, 'All times', 3650)\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\nlet dayButtonView = (download, name, days) => m('button.btn.btn-secondary.btn-sm', {onclick: () => {\n\tlet d = new Date();\n\td.setDate(d.getDate() - days);\n\tdownload.startDate(d);\n\tdownload.endDate(new Date());\n}}, name);","import {getAllDownloads, removeDownload, createDownload, STATUS_RUNNING} from './downloadsModel';\nimport createMessage from './downloadsCreate';\nimport messages from 'utils/messagesComponent';\n\n/**\n * Get all downloads\n */\n\nexport let recursiveGetAll = debounce(getAll, 5000);\nexport function getAll({list, cancel, error}){\n\treturn getAllDownloads()\n\t\t.then(list)\n\t\t.then(response => {\n\t\t\tif (!cancel() && response.some(download => download.studyStatus === STATUS_RUNNING)) {\n\t\t\t\trecursiveGetAll({list, cancel, error});\n\t\t\t}\n\t\t})\n\t\t.catch(error)\n\t\t.then(m.redraw);\n}\n\n\n// debounce but call at first iteration\nfunction debounce(func, wait) {\n\tlet first = true;\n\tlet timeout;\n\treturn function() {\n\t\tvar context = this, args = arguments;\n\t\tvar later = function() {\n\t\t\ttimeout = null;\n\t\t\tfunc.apply(context, args);\n\t\t};\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (first) {\n\t\t\tfunc.apply(context, args);\n\t\t\tfirst = false;\n\t\t}\n\t};\n}\n\n\n/**\n * Remove download\n */\n\nexport function remove(download, list) {\n\treturn messages.confirm({\n\t\theader: 'Delete Request:',\n\t\tcontent: [\n\t\t\t'Are you sure you want to delete this request from your queue?',\n\t\t\tm('.text-xs-center',\n\t\t\t\tm('small.muted-text','(Don\\'t worry, the data will stay on our servers and you can request it again in the future)')\n\t\t\t)\n\t\t]\n\t})\n\t.then(function(response){\n\t\tif (response) return doRemove(download, list);\n\t});\n}\n\nfunction doRemove(download, list){\n\tlist(list().filter(el => el !== download));\n\tm.redraw();\n\tremoveDownload(download)\n\t\t.catch(err => {\n\t\t\tlist().push(download);\n\t\t\treturn messages.alert({\n\t\t\t\theader: 'Delete Request',\n\t\t\t\tcontent: err.message\n\t\t\t});\n\t\t});\n}\n\n/**\n * Create download\n */\n\nexport function create(list, cancel){\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response){\n\t\t\t\tlet download = unPropify(output());\n\t\t\t\tlist().unshift(Object.assign({\n\t\t\t\t\tstudyStatus: STATUS_RUNNING,\n\t\t\t\t\tcreationDate: new Date()\n\t\t\t\t},download));\n\t\t\t\tcancel(true);\n\t\t\t\treturn createDownload(download)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tcancel(false);\n\t\t\t\t\t\tgetAll({list, cancel});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reportError)\n\t\t\t\t\t.then(cancel.bind(null, false));\n\t\t\t}\n\t\t});\n}\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});\n\nlet reportError = header => err => messages.alert({header, content: err.message});","import {STATUS_RUNNING, STATUS_COMPLETE, STATUS_ERROR} from './downloadsModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nimport {getAll, remove, create} from './downloadsActions';\nexport default downloadsComponent;\n\nconst TABLE_WIDTH = 7;\nconst statusLabelsMap = {}; // defined at the bottom of this file\n\nconst downloadsComponent = {\n\tcontroller(){\n\t\tlet list = m.prop([]);\n\t\tlet cancelDownload = m.prop(false);\n\n\t\tconst ctrl = {\n\t\t\tlist,\n\t\t\tcancelDownload,\n\t\t\tcreate,\n\t\t\tremove,\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop('studyId'),\n\t\t\tonunload(){\n\t\t\t\tcancelDownload(true);\n\t\t\t},\n\t\t\terror: m.prop('')\n\t\t};\n\n\t\tgetAll({list:ctrl.list, cancel: cancelDownload, error: ctrl.error});\n\n\t\treturn ctrl;\n\t},\n\n\tview(ctrl) {\n\t\tlet list = ctrl.list;\n\t\treturn m('.downloads', [\n\t\t\tm('h2', 'Downloads'),\n\t\t\tctrl.error()\n\t\t\t\t?\n\t\t\t\tm('.alert.alert-warning',\n\t\t\t\t\tm('strong', 'Warning!! '), ctrl.error().message\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\t\tm('thead', [\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', {colspan:TABLE_WIDTH}, [\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th.text-xs-center', {colspan:TABLE_WIDTH}, [\n\t\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list, ctrl.cancelDownload)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Download request'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', 'Data file'),\n\t\t\t\t\t\t\tm('th', thConfig('db',ctrl.sortBy), 'Database'),\n\t\t\t\t\t\t\tm('th', thConfig('fileSize',ctrl.sortBy), 'File Size'),\n\t\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date Added'),\n\t\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tbody', [\n\t\t\t\t\t\tlist().length === 0\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\tm('tr.table-info',\n\t\t\t\t\t\t\t\tm('td.text-xs-center', {colspan: TABLE_WIDTH},\n\t\t\t\t\t\t\t\t\tm('strong', 'Heads up! '), 'There are no downloads running yet'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t:\n\n\t\t\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(download => m('tr', [\n\t\t\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\t\t\tm('td', download.studyId),\n\n\t\t\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\t\t\tm('td',\n\t\t\t\t\t\t\t\t\tdownload.studyStatus == STATUS_RUNNING\n\t\t\t\t\t\t\t\t\t\t? m('i.text-muted', 'Loading...')\n\t\t\t\t\t\t\t\t\t\t: download.fileSize\n\t\t\t\t\t\t\t\t\t\t\t? m('a', {href:download.studyUrl, download:true, target: '_blank'}, 'Download')\n\t\t\t\t\t\t\t\t\t\t\t: m('i.text-muted', 'No Data')\n\t\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\t\t\t// ### Database\n\t\t\t\t\t\t\t\tm('td', download.db),\n\n\t\t\t\t\t\t\t\t// ### Filesize\n\t\t\t\t\t\t\t\tm('td', download.fileSize !== 'unknown'\n\t\t\t\t\t\t\t\t\t? download.fileSize\n\t\t\t\t\t\t\t\t\t: m('i.text-muted', 'Unknown')\n\t\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\t\t\t// ### Date Added\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tformatDate(new Date(download.creationDate)),\n\t\t\t\t\t\t\t\t\t'  ',\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\t\t\tm('.card-header', 'Creation Details'),\n\t\t\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Creation Date: '), formatDate(new Date(download.creationDate))\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'Start Date: '), formatDate(new Date(download.startDate))\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\t\t\tm('strong', 'End Date: '), formatDate(new Date(download.endDate))\n\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Status\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tstatusLabelsMap[download.studyStatus]\n\t\t\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\t\t\tm('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, download, list)}, [\n\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]))\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\tlet search = ctrl.globalSearch();\n\treturn study =>\n\t\tincludes(study.studyId, search) ||\n\t\tincludes(study.studyUrl, search);\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}\n\nstatusLabelsMap[STATUS_COMPLETE] = m('span.label.label-success', 'Complete');\nstatusLabelsMap[STATUS_RUNNING] = m('span.label.label-info', 'Running');\nstatusLabelsMap[STATUS_ERROR] = m('span.label.label-danger', 'Error');\n","import {fetchJson} from 'utils/modelHelpers';\nconst url = '/dashboard/DownloadsAccess';\nexport const STATUS_APPROVED = true;\nexport const STATUS_SUBMITTED = false;\n\nexport function createDataAccessRequest(dataAccessRequest){\n\tlet body = Object.assign({\n\t\taction:'createDataAccessRequest'\n\t}, dataAccessRequest);\n\n\treturn fetchJson(url, {method: 'post', body: body})\n\t\t.then(interceptErrors);\n}\n\nexport function deleteDataAccessRequest(dataAccessRequest){\n\tlet body = Object.assign({\n\t\taction:'deleteDataAccessRequest'\n\t}, dataAccessRequest);\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateApproved(dataAccessRequest, approved){\n\tlet body = Object.assign({\n\t\taction:'updateApproved'\n\t}, dataAccessRequest,{approved: approved});\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function getAllOpenRequests(){\n\treturn fetchJson(url, {method:'post', body: {action:'getAllOpenRequests'}})\n\t\t.then(interceptErrors);\n}\n\n\n\nfunction interceptErrors(response){\n\tif (!response.error){\n\t\treturn response;\n\t}\n\n\tlet errors = {\n\t\t1: 'This ID already exists.',\n\t\t2: 'The study could not be found.',\n\t\t3: 'The rule file could not be found.',\n\t\t4: 'The rules file does not fit the \"research\" schema.'\n\t};\n\n\treturn Promise.reject({message: errors[response.error]});\n}","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\nexport default createMessage;\n\nlet createMessage = args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet downloadAccess ={\n\t\t\tstudyId: m.prop('')\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(downloadAccess);\n\n\n\t\tlet ctrl = {\n\t\t\tdownloadAccess,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: downloadAccess.studyId()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet downloadAccess = ctrl.downloadAccess;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Request Download'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: downloadAccess.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to request a download.')\n\t\t\t\t])\n\t\t\t\t\n\t\t\t\t\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\n","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\nexport default grantMessage;\n\nlet grantMessage = args => messages.custom({\n\tcontent: m.component(grantComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet grantComponent = {\n\tcontroller({output, close}){\n\t\tlet downloadAccess ={\n\t\t\tstudyId: m.prop(''),\n\t\t\tusername: m.prop('')\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(downloadAccess);\n\n\n\t\tlet ctrl = {\n\t\t\tdownloadAccess,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: downloadAccess.studyId(),\n\t\t\t\t\tusername: downloadAccess.username()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet downloadAccess = ctrl.downloadAccess;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Grant Data Access'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: downloadAccess.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tm('label', 'Username'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Username',\n\t\t\t\t\t\tvalue: downloadAccess.username(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.username),\n\t\t\t\t\t\tclass:inputClasses(validity.username)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to grant access.'),\n\t\t\t\t\tvalidationView(validity.username, 'The username is required in order to grant access.')\n\t\t\t\t])\n\t\t\t\t\n\t\t\t\t\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\n","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\nexport default revokeMessage;\n\nlet revokeMessage = args => messages.custom({\n\tcontent: m.component(revokeComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet revokeComponent = {\n\tcontroller({output, close}){\n\t\tlet downloadAccess ={\n\t\t\tstudyId: m.prop(''),\n\t\t\tusername: m.prop('')\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(downloadAccess);\n\n\n\t\tlet ctrl = {\n\t\t\tdownloadAccess,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: downloadAccess.studyId(),\n\t\t\t\t\tusername: downloadAccess.username()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet downloadAccess = ctrl.downloadAccess;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Revoke Data Access'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: downloadAccess.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tm('label', 'Username'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Username',\n\t\t\t\t\t\tvalue: downloadAccess.username(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', downloadAccess.username),\n\t\t\t\t\t\tclass:inputClasses(validity.username)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to revoke access.'),\n\t\t\t\t\tvalidationView(validity.username, 'The username is required in order to revoke access.')\n\t\t\t\t])\n\t\t\t\t\n\t\t\t\t\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\n","import {createDataAccessRequest, deleteDataAccessRequest, updateApproved, getAllOpenRequests, STATUS_APPROVED, STATUS_SUBMITTED} from './downloadsAccessModel';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport createMessage from './downloadsAccessCreateComponent';\nimport grantMessage from './downloadsAccessGrantComponent';\nimport revokeMessage from './downloadsAccessRevokeComponent';\n\nexport function play(downloadAccess, list){\n\treturn messages.confirm({\n\t\theader: 'Approve Access Request:',\n\t\tcontent: `Are you sure you want to grant access of \"${downloadAccess.studyId}\" to \"${downloadAccess.username}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\treturn updateApproved(downloadAccess, STATUS_APPROVED)\n\t\t\t\t.then(() => list(list().filter(el => el !== downloadAccess)))\n\t\t\t    .then(messages.alert({header:'Grant access completed', content: 'Access granted'}))\n\t\t\t\t.catch(reportError('Grant Access'))\n\t\t\t\t.then(m.redraw());\n\t\t}\n\t});\n}\n\n\nexport let remove  = (downloadAccess, list) => {\n\treturn messages.confirm({\n\t\theader: 'Delete request:',\n\t\tcontent: `Are you sure you want to delete the access request for\"${downloadAccess.studyId}\"? If access has already been granted you will lose it`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\t\n\t\t\treturn deleteDataAccessRequest(downloadAccess)\n\t\t\t\t.then(() => list(list().filter(el => el !== downloadAccess)))\n\t\t\t    .then(messages.alert({header:\"Deletion complete\", content: \"Access has been deleted\"}))\n\t\t\t\t.catch(reportError('Remove Download Request'))\n\t\t\t    .then(m.redraw());\n\n\t\t}\n\t});\n};\n\texport let grant = (list) => {\n\t\tlet output = m.prop();\n\t\treturn grantMessage({output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tvar now = new Date();\n\t\t\t\t\tlet downloadAccess = Object.assign({\n\t\t\t\t\t\tapproved: STATUS_APPROVED,\n\t\t\t\t\t\tcreationDate: now\n\t\t\t\t\t}, null, unPropify(output()));\n\t\t\t\t\treturn createDataAccessRequest(downloadAccess)\n\t\t\t\t\t.then(messages.alert({header:\"Grant access completed\", content: \"Access granted\"}))\n\t\t\t\t\t\t.catch(reportError('Grant Access'));\n\t\t\t\t}\n\t\t\t});\t\n};\n\texport let revoke = (list) => {\n\t\tlet output = m.prop();\n\t\treturn revokeMessage({output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tvar now = new Date();\n\t\t\t\t\tlet downloadAccess = Object.assign({\n\t\t\t\t\t\tcreationDate: now\n\t\t\t\t\t}, null, unPropify(output()));\n\t\t\t\t\treturn deleteDataAccessRequest(downloadAccess)\n\t\t\t\t\t.then(messages.alert({header:\"Revoke access completed\", content: \"Access revoked\"}))\n\t\t\t\t\t\t.catch(reportError('Revoke Access'));\n\t\t\t\t}\n\t\t\t});\t\n};\nexport let create = (list) => {\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tvar now = new Date();\n\t\t\t\tlet downloadAccess = Object.assign({\n\t\t\t\t\tapproved: STATUS_SUBMITTED,\n\t\t\t\t\tcreationDate: now,\n\t\t\t\t\tapproved: 'access pending'\n\t\t\t\t}, null, unPropify(output()));\n\t\t\t\treturn createDataAccessRequest(downloadAccess)\n\t\t\t\t\t.then(() => list().unshift(downloadAccess))\n\t\t\t\t\t.then(m.redraw)\n\t\t\t\t\t.catch(reportError('Data Access Request'));\n\t\t\t}\n\t\t});\n\n\t\t/*export let create = (list) => {\n\t\t\tlet output = m.prop();\n\t\t\treturn createMessage({output})\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\teditNewStudy(list);\n\t\t\t\t\t}\n\t\t\t\t});\t*/\t\n\n\tfunction editNewStudy(input){\n\t\tlet output = m.prop();\n\t\treturn createMessage({input, output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tlet downloadAccess = Object.assign({\n\t\t\t\t\t\tapproved: STATUS_SUBMITTED\n\t\t\t\t\t}, input, unPropify(output()));\n\t\t\t\t\treturn createDataAccessRequest(downloadAccess)\n\t\t\t\t\t\t.then(() => list().unshift(downloadAccess))\n\t\t\t\t\t\t.then(m.redraw)\n\t\t\t\t\t\t.catch(reportError('Data Access Request'));\n\t\t\t\t}\n\t\t\t});\n\t}}\n\nlet editMessage = args => messages.custom({\n\tcontent: m.component(editComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\n\nlet reportError = header => err => messages.alert({header, content: err.message});\n\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});","import {getAllOpenRequests, STATUS_APPROVED, STATUS_SUBMITTED} from './downloadsAccessModel';\nimport {play, pause, remove, edit, create, grant, revoke, reset} from './downloadsAccessActions';\nimport {getRole} from 'login/authModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default downloadsAccessComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nconst TABLE_WIDTH = 6;\n\nlet downloadsAccessComponent = {\n\tcontroller: () => {\n\t\tconst ctrl = {\n\t\t\tplay: play,\n\t\t\tremove: remove,\n\t\t\tcreate: create,\n\t\t\tgrant: grant,\n\t\t\trevoke: revoke,\n\t\t\tlist: m.prop([]),\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop(),\n\t\t\terror: m.prop(''),\n\t\t\tisAdmin: () => getRole() === 'SU',\n\t\t};\n\n\t\tgetAllOpenRequests()\n\t\t\t.then(ctrl.list)\n\t\t\t.catch(ctrl.error)\n\t\t\t.then(m.redraw);\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet list = ctrl.list;\n\t\treturn m('.downloadAccess', [\n\t\t\tm('h2', 'Data Download Access Requests'),\n\t\t\tctrl.error()\n\t\t\t\t?\n\t\t\t\tm('.alert.alert-warning',\n\t\t\t\t\tm('strong', 'Warning!! '), ctrl.error().message\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\t\tm('thead', [\n\t\t\t\t\t\t\n\t\t\t\t\t\tm('tr', [m('th.text-xs-left', {colspan:1}, [\n\t\t\t\t\t\t\t\tctrl.isAdmin()? '' : m('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Request Access'\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\tm('th.text-xs-left', {colspan:1}, [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.grant.bind(null, list)}, [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Grant Access'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t,m('th.text-xs-left', {colspan:1}, [\n\t\t\t\t\t\t\t\tctrl.isAdmin()? m('button.btn.btn-secondary', {onclick:ctrl.revoke.bind(null, list)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Revoke Access'\n\t\t\t\t\t\t\t\t]) : ''\n\t\t\t\t\t\t\t]),m('th', {colspan:TABLE_WIDTH-2}, [\n\t\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\n\t\t\t\t\t\tm('tr', [\n\t\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\t\tm('th', thConfig('username',ctrl.sortBy), 'Username'),\n\t\t\t\t\t\t\tm('th', thConfig('email',ctrl.sortBy), 'Email'),\n\t\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date'),\n\t\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tbody', [\n\t\t\t\t\t\tlist().length === 0\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\tm('tr.table-info',\n\t\t\t\t\t\t\t\tm('td.text-xs-center', {colspan: TABLE_WIDTH},\n\t\t\t\t\t\t\t\t\tm('strong', 'Heads up! '), 'There are no requests yet'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tlist().filter(dataRequestFilter(ctrl)).map(dataRequest => m('tr', [\n\t\t\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\t\t\tm('td', dataRequest.studyId),\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// ### USERNAME\n\t\t\t\t\t\t\t\tm('td', dataRequest.username),\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// ### EMAIL\n\t\t\t\t\t\t\t\tm('td', dataRequest.email),\n\n\t\t\t\t\t\t\t\t// ### Date\n\t\t\t\t\t\t\t\tm('td', formatDate(new Date(dataRequest.creationDate))),\n\t\t\t\t\t\t\t\tdataRequest.approved=== STATUS_APPROVED\n\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\tm('td', {style:'color:green'},'access granted')\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\tm('td', {style:'color:red'},'access pending')\n\n\t\t\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\t\t\t,m('td', [\n\t\t\t\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\t\t\t\tdataRequest.canApprove && dataRequest.approved === STATUS_SUBMITTED ? m('button.btn.btn-sm.btn-secondary', {title:'Approve request, and auto email requester',onclick: ctrl.play.bind(null, dataRequest,list)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-play')\n\t\t\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\t\t\tdataRequest.canDelete ? m('button.btn.btn-sm.btn-secondary', {title:'Delete request.  If this is a granted request owner will lose access to it',onclick: ctrl.remove.bind(null, dataRequest, list)}, [\n\t\t\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t\t\t\t]) : ''\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]))\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction dataRequestFilter(ctrl){\n\treturn dataRequest =>\n\t\tincludes(dataRequest.studyId, ctrl.globalSearch()) ||\n\t\tincludes(dataRequest.username, ctrl.globalSearch()) ||\n\t\tincludes(dataRequest.email, ctrl.globalSearch());\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}","import {login, isLoggedIn} from './authModel';\nimport fullHeight from 'utils/fullHeight';\nexport default loginComponent;\n\nlet loginComponent = {\n\tcontroller(){\n\t\tconst username = m.prop('');\n\t\tconst password = m.prop('');\n\t\tconst ctrl = {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tisLoggedIn,\n\t\t\terror: m.prop(''),\n\t\t\tlogin: loginAction\n\t\t};\n\t\t\n\n\t\treturn ctrl;\n\n\t\tfunction loginAction(){\n\t\t\tconsole.log('va', username(), password())\n\t\t\tlogin(username, password)\n\t\t\t\t.then(() => {\n\t\t\t\t\tm.route('/');\n\t\t\t\t})\n\t\t\t\t.catch(response => {\n\t\t\t\t\tctrl.error(response.message);\n\t\t\t\t\tm.redraw();\n\t\t\t\t})\n                                ;\n\t\t}\n\t},\n\tview(ctrl){\n\t\treturn m('.login.centrify', {config:fullHeight},[\n\t\t\tisLoggedIn()\n\t\t\t?\n\t\t\t[\n\t\t\t\tm('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n\t\t\t\tm('h5', 'You are already logged in!')\n\t\t\t]\n\t\t\t:\n\t\t\tm('.card.card-inverse.col-md-4', [\n\t\t\t\tm('.card-block',[\n\t\t\t\t\tm('h4', 'Please sign in'),\n\n\t\t\t\t\tm('form', {onsubmit:ctrl.login}, [\n\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\ttype:'username',\n\t\t\t\t\t\t\tplaceholder: 'Username / Email',\n\t\t\t\t\t\t\tvalue: ctrl.username(),\n\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\tconfig: getStartValue(ctrl.username)\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\ttype:'password',\n\t\t\t\t\t\t\tplaceholder: 'Password',\n\t\t\t\t\t\t\tvalue: ctrl.password(),\n\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.password),\n\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.password),\n\t\t\t\t\t\t\tconfig: getStartValue(ctrl.password)\n\t\t\t\t\t\t})\n\t\t\t\t\t]),\n\n\t\t\t\t\tctrl.error() ? m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()) : '',\n\t\t\t\t\tm('button.btn.btn-primary.btn-block', {onclick: ctrl.login},'Sign in'),\n\t\t\t\t \tm('p.text-center',\n\t\t\t\t\t\tm('small.text-muted',  m('a', {href:'index.html?/recovery'}, 'Lost your password?'))\n\t\t\t\t \t)\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n};\n\nfunction getStartValue(prop){\n\tconsole.log('horrible hack to manage chrome pw autocomplete')\n\treturn (element, isInit) => {// !isInit && prop(element.value);\n\t\tif (!isInit) setTimeout(()=>prop(element.value), 30);\n\t}\n}","import {fetchJson} from 'utils/modelHelpers';\n\nconst baseUrl = '/dashboard/dashboard/deploy_list';\n\nexport function get_study_list(){\n    return fetchJson(baseUrl);\n}\n","import {get_study_list} from './deployListModel';\nimport sortTable from 'utils/sortTable';\n\nconst TABLE_WIDTH = 8;\n\nimport {formFactory, textInput, checkboxInput, maybeInput, radioInput} from 'utils/formHelpers';\nexport default deployComponent;\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nlet deployComponent = {\n    controller(){\n        let ctrl = {\n            list: m.prop(''),\n            sortBy: m.prop('CREATION_DATE'),\n        };\n        get_study_list()\n            .then(response =>{ctrl.list(response.requests);\n            })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n        return {ctrl};\n    },\n    view({ctrl}){\n        let list = ctrl.list;\n        return m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n            m('thead', [\n                m('tr', [\n                    m('th', thConfig('CREATION_DATE',ctrl.sortBy), 'Creation date'),\n                    m('th', thConfig('FOLDER_LOCATION',ctrl.sortBy), 'Folder location'),\n                    m('th', thConfig('RULE_FILE',ctrl.sortBy), 'Rule file'),\n                    m('th', thConfig('RESEARCHER_EMAIL',ctrl.sortBy), 'Researcher email'),\n                    m('th', thConfig('RESEARCHER_NAME',ctrl.sortBy), 'Researcher name'),\n                    m('th', thConfig('TARGET_NUMBER',ctrl.sortBy), 'Target number'),\n                    m('th', thConfig('APPROVED_BY_A_REVIEWER',ctrl.sortBy), 'Approved by a reviewer'),\n                    m('th', thConfig('EXPERIMENT_FILE',ctrl.sortBy), 'Experiment file'),\n                    m('th', thConfig('LAUNCH_CONFIRMATION',ctrl.sortBy), 'Launch confirmation'),\n                    m('th', thConfig('COMMENTS',ctrl.sortBy), 'Comments'),\n                ])\n            ]),\n            m('tbody', [\n                ctrl.list().length === 0\n                ?\n                m('tr.table-info',\n                    m('td.text-xs-center', {colspan: TABLE_WIDTH},\n                        m('strong', 'Heads up! '), 'There are no pool requests yet'\n                    )\n                )\n                :\n                ctrl.list().map(study => m('tr', [\n                    m('td', study.CREATION_DATE),\n                    m('td', m('a', {href:study.FOLDER_LOCATION}, study.FOLDER_LOCATION)),\n                    m('td', study.RULE_FILE),\n                    m('td', m('a', {href:\"mailto:\"+study.RESEARCHER_EMAIL}, study.RESEARCHER_EMAIL)),\n                    m('td', study.RESEARCHER_NAME),\n                    m('td', study.TARGET_NUMBER),\n                    m('td', study.APPROVED_BY_A_REVIEWER),\n                    m('td', study.EXPERIMENT_FILE),\n                    m('td', study.LAUNCH_CONFIRMATION),\n                    m('td', study.COMMENTS)\n                ]))\n            ])\n        ]);\n     }\n};\n","import {fetchJson} from 'utils/modelHelpers';\n\nconst baseUrl = '/dashboard/dashboard/change_request_list';\n\n\nexport function get_change_request_list(){\n    return fetchJson(baseUrl);\n}\n","import {get_change_request_list} from './changeRequestListModel';\nimport sortTable from 'utils/sortTable';\nconst TABLE_WIDTH = 8;\nexport default changeRequestListComponent;\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\nlet changeRequestListComponent = {\n    controller(){\n        let form = formFactory();\n        \n        let ctrl = {\n            list: m.prop(''),\n            sortBy: m.prop('CREATION_DATE'),\n        };\n        get_change_request_list()\n          .then(response =>{ctrl.list(response.requests);\n                sortTable(ctrl.list, ctrl.sortBy);\n            })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n        return {ctrl, form};\n    },\n\n    view({form, ctrl}){\n        let list = ctrl.list;\n\n        return m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n            m('thead', [\n                m('tr', [\n                    m('th', thConfig('CREATION_DATE',ctrl.sortBy), 'Creation date'),\n                    m('th', thConfig('RESEARCHER_EMAIL',ctrl.sortBy), 'Researcher email'),\n                    m('th', thConfig('RESEARCHER_NAME',ctrl.sortBy), 'Researcher name'),\n                    m('th', thConfig('FILE_NAMES',ctrl.sortBy), 'File names'),\n                    m('th', thConfig('TARGET_SESSIONS',ctrl.sortBy), 'Target sessions'),\n                    m('th', thConfig('STUDY_SHOWFILES_LINK',ctrl.sortBy), 'Study showfiles link'),\n                    m('th', thConfig('STATUS',ctrl.sortBy), 'Status'),\n                    m('th', thConfig('COMMENTS',ctrl.sortBy), 'Comments'),\n                ])\n            ]),\n            m('tbody', [\n                ctrl.list().length === 0\n                ?\n                m('tr.table-info',\n                    m('td.text-xs-center', {colspan: TABLE_WIDTH},\n                        m('strong', 'Heads up! '), 'There are no pool studies yet'\n                    )\n                )\n                :\n                ctrl.list().map(study => m('tr', [\n                    m('td', study.CREATION_DATE),\n                    m('td', m('a', {href:\"mailto:\"+study.RESEARCHER_EMAIL}, study.RESEARCHER_EMAIL)),\n                    m('td', study.RESEARCHER_NAME),\n                    m('td', study.FILE_NAMES),\n                    m('td', study.TARGET_SESSIONS),\n                    m('td', m('a', {href:study.STUDY_SHOWFILES_LINK}, study.STUDY_SHOWFILES_LINK)),\n                    m('td', study.STATUS),\n                    m('td', study.COMMENTS)\n                ]))\n            ])\n        ]);\n     }\n};","import {fetchJson} from 'utils/modelHelpers';\n\nconst baseUrl = '/dashboard/dashboard/removal_list';\n\nexport function get_removal_list(){\n    return fetchJson(baseUrl);\n}\n","import {get_removal_list} from './removalListModel';\nimport sortTable from 'utils/sortTable';\n\nconst TABLE_WIDTH = 8;\nexport default removalListComponent;\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nlet removalListComponent = {\n    controller(){\n        let ctrl = {\n            list: m.prop(''),\n            sortBy: m.prop('CREATION_DATE'),\n        };\n        get_removal_list()\n          .then(response =>{ctrl.list(response.requests);\n                sortTable(ctrl.list, ctrl.sortBy);\n            })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n        return {ctrl};\n    },\n    view({ctrl}){\n        let list = ctrl.list;\n        return m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n            m('thead', [\n                m('tr', [\n                    m('th', thConfig('CREATION_DATE',ctrl.sortBy), 'Creation date'),\n                    m('th', thConfig('RESEARCHER_EMAIL',ctrl.sortBy), 'Researcher email'),\n                    m('th', thConfig('RESEARCHER_NAME',ctrl.sortBy), 'Researcher name'),\n                    m('th', thConfig('STUDY_NAME',ctrl.sortBy), 'Study name'),\n                    m('th', thConfig('COMPLETED_N',ctrl.sortBy), 'Completed n'),\n                    m('th', thConfig('COMMENTS',ctrl.sortBy), 'Comments'),\n                ])\n            ]),\n            m('tbody', [\n                ctrl.list().length === 0\n                ?\n                m('tr.table-info',\n                    m('td.text-xs-center', {colspan: TABLE_WIDTH},\n                        m('strong', 'Heads up! '), 'There are no pool studies yet'\n                    )\n                )\n                :\n                ctrl.list().map(study => m('tr', [\n                    m('td', study.CREATION_DATE),\n                    m('td', m('a', {href:\"mailto:\"+study.RESEARCHER_EMAIL}, study.RESEARCHER_EMAIL)),\n                    m('td', study.RESEARCHER_NAME),\n                    m('td', study.STUDY_NAME),\n                    m('td', study.COMPLETED_N),\n                    m('td', study.COMMENTS)\n                ]))\n            ])\n        ]);\n     }\n};","import {fetchJson} from 'utils/modelHelpers';\nconst baseUrl = '/dashboard/dashboard/studies';\n\nfunction get_prop_url(study_id)\n{\t\n    return `${baseUrl}/${encodeURIComponent(study_id)}/prop`;\n}\n\nfunction deploy_url(study_id)\n{\t\n    return `${baseUrl}/${encodeURIComponent(study_id)}/deploy`;\n}\n\nexport function get_study_prop(study_id){\n    var url = get_prop_url(study_id);\n    return fetchJson(url);\n}\n\nexport let deploy = (study_id, ctrl) => fetchJson(deploy_url(study_id), {\n\tmethod: 'post',\n\tbody: {target_number: ctrl.target_number, approved_by_a_reviewer: ctrl.approved_by_a_reviewer, experiment_file: ctrl.experiment_file, launch_confirmation: ctrl.launch_confirmation, comments: ctrl.comments, rulesValue: ctrl.rulesValue}\n}); \n\nexport let study_removal = (study_id, ctrl) => fetchJson(deploy_url(study_id), {\n\tmethod: 'delete',\n\tbody: {study_name: ctrl.study_name, completed_n: ctrl.completed_n, comments: ctrl.comments}\n});\n\nexport let Study_change_request = (study_id, ctrl) => fetchJson(deploy_url(study_id), {\n\tmethod: 'put',\n\tbody: {file_names: ctrl.file_names, target_sessions: ctrl.target_sessions, status: ctrl.status, comments: ctrl.comments}\n});","import messages from 'utils/messagesComponent';\nexport default args => m.component(rulesComponent, args);\n\nlet rulesComponent = {\n\tcontroller({visual, value, comments}){\n\t\treturn {visual, value, edit, remove, addcomments};\n\n\t\tfunction edit(){\n\t\t\twindow.open('../ruletable.html');\n\t\t}\n\n\t\tfunction remove(){\n\t\t\tvisual('None');\n\t\t\tvalue('parent'); // this value is defined by the rule generator\n\t\t}\n\n\t\tfunction addcomments(){\n\t\t\tmessages.prompt({\n\t\t\t\tprop: comments,\n\t\t\t\theader: 'Edit rule comments'\n\t\t\t});\n\t\t}\n\t},\n\tview: ({visual, value, edit, remove, addcomments}) => {\n\t\treturn m('div', [\n\t\t\tm('btn-toolbar', [\n\t\t\t\tm('.btn.btn-secondary.btn-sm', {onclick: edit},  [\n\t\t\t\t\tm('i.fa.fa-edit'), ' Rule editor'\n\t\t\t\t]),\n\t\t\t\tm('.btn.btn-secondary.btn-sm', {onclick: remove},  [\n\t\t\t\t\tm('i.fa.fa-remove'), ' Clear rules'\n\t\t\t\t])\n                        ]),\n\t\t\tm('#ruleGenerator.card.card-warning.m-t-1', {config: getInputs(visual, value)}, [\n\t\t\t\tm('.card-block', visual())\n\t\t\t]),\n\t\t\tm('small.text-muted', ` Consider whether it makes sense for just any person from any country of any age to complete your study. If you want to create restrictions, use the Rules editor`)\n\t\t]);\t\n\t}\n};\n\nlet getInputs = (visual, value) => (element, isInit) => {\n\tif (isInit) return true;\n\telement.ruleGeneratorVisual = visual;\n\telement.ruleGeneratorValue = value;\n};\n\n","import {deploy, get_study_prop} from './deployModel';\nimport messages from 'utils/messagesComponent';\nimport {formFactory, textInput, checkboxInput, radioInput} from 'utils/formHelpers';\nimport rulesEditor from './rulesComponent';\nexport default deployComponent;\n\nconst ASTERIX = m('span.text-danger', '*');\n\nlet deployComponent = {\n    controller(){\n        let form = formFactory();\n        let ctrl = {\n            sent:false,\n            folder_location: m.prop(''),\n            researcher_email: m.prop(''),\n            researcher_name: m.prop(''),\n            target_number: m.prop(''),\n            \n            rulesValue: m.prop('parent'), // this value is defined by the rule generator\n            rulesVisual: m.prop('None'),\n            rulesComments: m.prop(''),\n            rule_file: m.prop(''),\n\n            approved_by_a_reviewer: m.prop(''),\n            zero_unnecessary_files: m.prop(''),\n\n            // unnecessary\n            completed_checklist: m.prop(''),\n            approved_by_irb: m.prop(''),\n            valid_study_name: m.prop(''),\n            realstart: m.prop(''),\n\n            experiment_file: m.prop(''),\n            experiment_files: m.prop(''),\n            launch_confirmation: m.prop(''),\n            comments: m.prop('')   \n            \n        };\n        get_study_prop(m.route.param('studyId'))\n            .then(response =>{\n                ctrl.researcher_name(response.researcher_name);\n                ctrl.researcher_email(response.researcher_email);\n                ctrl.folder_location(response.folder);\n                ctrl.experiment_files(response.experiment_file.reduce((obj, row) => {obj[row.file_name] = row.file_name;\n                                                                                        return obj;\n                                                                                    }, {}));\n            })\n            .catch(error => {\n                throw error;\n            }).then(m.redraw);\n\t\n        return {ctrl, form, submit};\n        function submit(){\n            form.showValidation(true);\n            if (!form.isValid())\n            {\n                messages.alert({header:'Error', content:'not valid'});\n                return;\n            }\n            deploy(m.route.param('studyId'), ctrl)\n            .then((response) => {\n                ctrl.rule_file(response.rule_file);\n                ctrl.sent = true;\n            })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n        }\n    },\n    view({form, ctrl, submit}){\n        return ctrl.sent\n        ?\n        m('.deploy.centrify',[\n            m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n            m('h5', ['The Deploy form was sent successfully ', m('a', {href:'./deployList'}, 'View Deploy Requests')]),\n            m('h5', ['Rule File: ', 'editor/', m.route.param('studyId') ,'/file/', ctrl.rule_file()])\n        ])\n        :\n        m('.deploy.container', [\n            m('h3', 'Deploy'),\n            m('p', 'Researcher name: ', ctrl.researcher_name()),\n            m('p', 'Researcher email address: ', ctrl.researcher_email()),\n            m('p', 'Study folder location: ', ctrl.folder_location()),\n            radioInput({\n                label:m('span', ['Name of experiment file', ASTERIX]),\n                prop: ctrl.experiment_file,\n                values:ctrl.experiment_files(),\n                form, isStack:true\n            }),\n\n            textInput({help: 'For private studies (not in the Project Implicit research pool), enter n/a', label:['Target number of completed study sessions', ASTERIX],  placeholder: 'Target number of completed study sessions', prop: ctrl.target_number, form, required:true, isStack:true}),\n\n            m('h4', 'Participant restrictions'),\n                rulesEditor({value:ctrl.rulesValue, visual: ctrl.rulesVisual, comments: ctrl.rulesComments}),\n\n            m('h4', 'Acceptance checklist'),\n            checkboxInput({description: ['Did you make sure your study-id starts with your user name', ASTERIX], prop: ctrl.valid_study_name, form, required:true, isStack:true}),\n            checkboxInput({\n                description: m('span', [ 'This study has been approved by the appropriate IRB ', m('span.text-danger', '*') ]),\n                prop: ctrl.approved_by_irb,\n                required:true,\n                form, isStack:true\n            }),\n            checkboxInput({\n                description: m('span', [ 'All items on \"Study Testing\" and \"Study Approval\" from Project Implicit Study Development Checklist completed (items 9 - 17) ', ASTERIX]),\n                help: m('span', ['The checklist is available at ', m('a', {href:'http://peoplescience.org/node/105'}, 'http://peoplescience.org/node/105')]),\n                prop: ctrl.completed_checklist,\n                form, isStack:true,\n                required:true\n            }),\n            checkboxInput({\n                description: m('span', ['My study folder includes ZERO files that aren\\'t necessary for the study  ', ASTERIX]),\n                help: 'e.g., word documents, older versions of files, items that were dropped from the final version',\n                prop: ctrl.zero_unnecessary_files,\n                required:true,\n                form, isStack:true\n            }),\n            checkboxInput({description: ['Did you use a realstart and lastpage task?', ASTERIX], prop: ctrl.realstart, form, required:true, isStack:true}),\n\n            radioInput({\n                label:m('span', ['Study approved by a *User Experience* Reviewer (Calvin Lai):', ASTERIX]),\n                prop: ctrl.approved_by_a_reviewer,\n                values: {\n                    'No, this study is not for the Project Implicit pool.' : 'No, this study is not for the Project Implicit pool.',\n                    'Yes' : 'Yes'\n                },\n                form, isStack:true\n            }),\n\n            radioInput({\n                label: m('span', ['Has this study been confirmed for launch?', ASTERIX]),\n                help: m('span', ['If you are building this study for another researcher (e.g. a contract study), has the researcher received the standard final launch confirmation email and confirmed that the study is ready to be launched? The standard email can be found ', m('a', {href:'http://peoplescience.org/node/135'}, 'here'), '.']),\n                prop: ctrl.launch_confirmation,\n                values: {\n                    'No,this study is mine': 'No,this study is mine',\n                    'Yes' : 'Yes'\n                },\n                form, isStack:true\n            }),\n\n            textInput({isArea: true, label: m('span', 'Additional comments'),  placeholder: 'Additional comments', prop: ctrl.comments, form, isStack:true}),\n            m('button.btn.btn-primary', {onclick: submit}, 'Deploy')\n        ]);\n     }\n};","import {formFactory, textInput, radioInput} from 'utils/formHelpers';\nimport {study_removal, get_study_prop} from 'deploy/deployModel';\nexport default StudyRemovalComponent;\nconst ASTERIX = m('span.text-danger', '*');\n\nlet StudyRemovalComponent = {\n    controller(){\n        let form = formFactory();\n        let ctrl = {\n            sent:false,\n            researcher_name: m.prop(''),\n            researcher_email: m.prop(''),\n            study_name: m.prop(''),\n            study_names: m.prop(''),\n            completed_n: m.prop(''),\n            comments: m.prop('')\n        }\n        get_study_prop(m.route.param('studyId'))\n            .then(response =>{\n                ctrl.researcher_name(response.researcher_name);\n                ctrl.researcher_email(response.researcher_email);\n                ctrl.study_names(response.experiment_file.reduce((obj, row) => {\n                    obj[row.file_id] = row.file_id;\n                    return obj;\n                }, {}));\n            })\n            .catch(error => {\n                m.route('/');\n            })\n            .then(m.redraw);\n        return {ctrl, form, submit};\n        function submit(){\n            form.showValidation(true);\n            if (!form.isValid())\n            {\n                messages.alert({header:'Error', content:'not valid'});\n                return;\n            }\n            study_removal(m.route.param('studyId'), ctrl)\n                .then(() => {\n                    ctrl.sent = true;\n                })\n                .catch(error => {\n                    throw error;\n                })\n                .then(m.redraw);\n        };\n    },\n    view({form, ctrl, submit}){\n        return ctrl.sent\n        ?\n        m('.deploy.centrify',[\n            m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n            m('h5', ['The removal form was sent successfully ', m('a', {href:'./removalList'}, 'View removal requests')])\n        ])\n        :\n        m('.StudyRemoval.container', [\n            m('h1', 'Study Removal'),\n            m('p', 'Researcher name: ', ctrl.researcher_name()),                \n            m('p', 'Researcher email address: ', ctrl.researcher_email()),                \n            radioInput({\n                label:m('span', ['Study name', ASTERIX]), \n                prop: ctrl.study_name, \n                values:ctrl.study_names(),\n                help: 'This is the name you submitted to the RDE (e.g., colinsmith.elmcogload) ',\n                form, isStack:true\n            }),\n            textInput({label: m('span', ['Please enter your completed n below ', m('span.text-danger', ' *')]), help: m('span', ['you can use the following link: ', m('a', {href:'https://app-prod-03.implicit.harvard.edu/implicit/research/pitracker/PITracking.html#3'}, 'https://app-prod-03.implicit.harvard.edu/implicit/research/pitracker/PITracking.html#3')]),  placeholder: 'completed n', prop: ctrl.completed_n, form, required:true, isStack:true}),\n            textInput({isArea: true, label: m('span', 'Additional comments'), help: '(e.g., anything unusual about the data collection, consistent participant comments, etc.)',  placeholder: 'Additional comments', prop: ctrl.comments, form, isStack:true}),\n            m('button.btn.btn-primary', {onclick: submit}, 'Submit'), \n        ]);\n     }\n};","import {formFactory, textInput, checkboxInput, maybeInput, radioInput} from 'utils/formHelpers';\nimport {Study_change_request, get_study_prop} from 'deploy/deployModel';\nexport default studyChangeRequestComponent;\nconst ASTERIX = m('span.text-danger', '*');\n\nlet studyChangeRequestComponent = {\n    controller(){\n        let form = formFactory();\n        let ctrl = {\n            sent:false,\n            user_name: m.prop(''),\n            researcher_name: m.prop(''),\n            researcher_email: m.prop(''),\n            study_name: m.prop(''),\n            target_sessions: m.prop(''),\n            status: m.prop(''),\n            file_names: m.prop(''),\n            comments: m.prop('')\n        }\n        get_study_prop(m.route.param('studyId'))\n            .then(response =>{\n                ctrl.researcher_name(response.researcher_name);\n                ctrl.researcher_email(response.researcher_email);\n                ctrl.user_name(response.user_name);\n                ctrl.study_name(response.study_name);\n            })\n            .catch(error => {\n                m.route('/');\n            })\n            .then(m.redraw);\n        return {ctrl, form, submit};\n        function submit(){\n            form.showValidation(true);\n            if (!form.isValid())\n            {\n                messages.alert({header:'Error', content:'not valid'});\n                return;\n            }\n            Study_change_request(m.route.param('studyId'), ctrl)\n                .then(() => {\n                    ctrl.sent = true;\n                })\n                .catch(error => {\n                    throw error;\n                }).then(m.redraw);\n        };\n    },\n    view({form, ctrl, submit}){\n        let study_showfiles_link = 'http://app-prod-03.implicit.harvard.edu/implicit/showfiles.jsp?user=' + ctrl.user_name() + '&study=' + ctrl.study_name();\n\n        return ctrl.sent\n            ?\n            m('.deploy.centrify',[\n                m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                m('h5', ['The change request form was sent successfully ', m('a', {href:'./changeRequestList'}, 'View change request  requests')])\n            ])\n            :\n            m('.StudyChangeRequest.container', [\n            m('h1', 'Study Change Request'),\n            m('p', 'Researcher name: ', ctrl.researcher_name()),\n            m('p', 'Researcher email address: ', ctrl.researcher_email()),\n\n            m('p', ['Study showfiles link: ', m('a', {href:study_showfiles_link}, study_showfiles_link)]),\n\n            textInput({label: m('span', ['Target number of additional sessions (In addition to the sessions completed so far)', m('span.text-danger', ' *')]),  placeholder: 'Target number of additional sessions', prop: ctrl.target_sessions, form, required:true, isStack:true}),\n\n            radioInput({\n                label: m('span', ['What\\'s the current status of your study?', ASTERIX]),\n                prop: ctrl.status,\n                values: {\n                    'Currently collecting data and does not need to be unpaused': 'Currently collecting data and does not need to be unpaused',\n                    'Manually paused and needs to be unpaused' : 'Manually paused and needs to be unpaused',\n                    'Auto-paused due to low completion rates or meeting target N.' : 'Auto-paused due to low completion rates or meeting target N.'\n                },\n                form, isStack:true\n            }),\n            textInput({isArea: true, label: m('span', ['Change Request', m('span.text-danger', ' *')]), help: 'List all file names involved in the change request. Specify for each file whether file is being updated or added to production.)',  placeholder: 'Change Request', prop: ctrl.file_names, form, required:true, isStack:true}),\n            textInput({isArea: true, label: m('span', 'Additional comments'),  placeholder: 'Additional comments', prop: ctrl.comments, form, isStack:true}),\n            m('button.btn.btn-primary', {onclick: submit}, 'Submit'),\n        ]);\n     }\n};","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst add_userUrl = '/dashboard/dashboard/add_user';\n\nlet added = false;\n\nexport let isadded = () => added;\n\nexport let add = (username, first_name , last_name, email, iscu) => fetchJson(add_userUrl, {\n\tmethod: 'post',\n\tbody: {username, first_name , last_name, email, iscu}\n});\n\n","import {add} from './addUserModel';\nimport fullHeight from 'utils/fullHeight';\nexport default addComponent;\n\nlet addComponent = {\n\tcontroller(){\n\t\tconst username = m.prop('');\n\t\tconst first_name = m.prop('');\n\t\tconst last_name = m.prop('');\n\t\tconst email = m.prop('');\n\t\tconst iscu = m.prop(false);\n\t\tconst ctrl = {\n\t\t\tusername,\n\t\t\tfirst_name,\n\t\t\tlast_name,\n\t\t\temail,\n\t\t\tiscu,\n\t\t\terror: m.prop(''),\n                        added:false,\n\t\t\tadd: addAction\n\t\t};\n\t\treturn ctrl;\n\n\t\tfunction addAction(){\n\t\t\tconsole.log('va', username(), first_name(), last_name(), email())\n\t\t\tadd(username, first_name , last_name, email, iscu)\n\t\t\t\t.then(() => {\n\t\t\t\t\tctrl.added = true;\n\t\t\t\t})\n\t\t\t\t.catch(response => {\n\t\t\t\t\tctrl.error(response.message);\n\t\t\t\t\tm.redraw();\n\t\t\t\t})\n                                .then(() => {\n\t\t\t\t\tm.redraw();\n\t\t\t\t});\n\t\t}\n\t},\n\tview(ctrl){\n\t\treturn m('.add.centrify', {config:fullHeight},[\n\t\t\tctrl.added\n\t\t\t\t?\n\t\t\t\t[\n\t\t\t\t\tm('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n\t\t\t\t\tm('h5', [ctrl.username(), ' successfully added (email sent)!'])\n\t\t\t\t]\n\t\t\t\t:\n\t\t\t\tm('.card.card-inverse.col-md-4', [\n\t\t\t\t\tm('.card-block',[\n\t\t\t\t\t\tm('h4', 'Please fill the following details'),\n\t\t\t\t\t\tm('form', {onsubmit:ctrl.add}, [\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'username',\n\t\t\t\t\t\t\t\tplaceholder: 'User name',\n\t\t\t\t\t\t\t\tvalue: ctrl.username(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.username),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.username)\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'first_name',\n\t\t\t\t\t\t\t\tplaceholder: 'first name',\n\t\t\t\t\t\t\t\tvalue: ctrl.first_name(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.first_name),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.first_name),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.first_name)\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'last_name',\n\t\t\t\t\t\t\t\tplaceholder: 'last name',\n\t\t\t\t\t\t\t\tvalue: ctrl.last_name(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.last_name),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.last_name),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.last_name)\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\ttype:'email',\n\t\t\t\t\t\t\t\tplaceholder: 'email',\n\t\t\t\t\t\t\t\tvalue: ctrl.email(),\n\t\t\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.email),\n\t\t\t\t\t\t\t\tonchange: m.withAttr('value', ctrl.email),\n\t\t\t\t\t\t\t\tconfig: getStartValue(ctrl.email)\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tm('label.c-input.c-checkbox', [\n\t\t\t\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\t\tonclick: m.withAttr('checked', ctrl.iscu)}),\n\t\t\t\t\t\t\t\tm('span.c-indicator'),\n\t\t\t\t\t\t\t\tm.trust('&nbsp;'),\n\t\t\t\t\t\t\t\tm('span', 'contract user')\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\tctrl.error() ? m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()) : '',\n\t\t\t\t\t\tm('button.btn.btn-primary.btn-block', {onclick: ctrl.add},'Add')\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t]);\n\t}\n};\n\nfunction getStartValue(prop){\n\tconsole.log('horrible hack to manage chrome pw autocomplete')\n\treturn (element, isInit) => {// !isInit && prop(element.value);\n\t\tif (!isInit) setTimeout(()=>prop(element.value), 30);\n\t}\n}","import {fetchJson} from 'utils/modelHelpers';\n\nconst activation1_url = '/dashboard/dashboard/activation';\n\nfunction apiURL(code)\n{\t\n    return `${activation1_url}/${encodeURIComponent(code)}`;\n}\n\nexport let is_activation_code = (code) => fetchJson(apiURL(code), {\n\tmethod: 'get'\n});\n\nexport let set_password = (code, password, confirm) => fetchJson(apiURL(code), {\n\tmethod: 'post',\n\tbody: {password, confirm}\n});\n","export let body = ctrl => m('.card.card-inverse.col-md-4', [\n                m('.card-block',[\n                    m('h4', 'Select new password'),\n                        m('form', [\n                            m('input.form-control', {\n                                type:'password',\n                                placeholder: 'Password',\n                                value: ctrl.password(),\n                                onkeyup: m.withAttr('value', ctrl.password),\n                                onchange: m.withAttr('value', ctrl.password),\n                                config: getStartValue(ctrl.password)\n                            }),\n\n                            m('input.form-control', {\n                                type:'password',\n                                placeholder: 'Confirm password',\n                                value: ctrl.confirm(),\n                                onkeyup: m.withAttr('value', ctrl.confirm),\n                                onchange: m.withAttr('value', ctrl.confirm),\n                                config: getStartValue(ctrl.confirm)\n                            }),\n                        ]),\n                        ctrl.error() ? m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()) : '',\n                        m('button.btn.btn-primary.btn-block', {onclick: ctrl.set_password},'Update'),\n\n                    ])\n                ]);\n\nfunction getStartValue(prop){\n//\tconsole.log('horrible hack to manage chrome pw autocomplete')\n\treturn (element, isInit) => {// !isInit && prop(element.value);\n\t\tif (!isInit) setTimeout(()=>prop(element.value), 30);\n\t}\n}","import {is_activation_code, set_password} from './activationModel';\nimport fullHeight from 'utils/fullHeight';\nimport {body} from 'changePassword/changePasswordView';\n\nexport default activationComponent;\n\nlet activationComponent = {\n    controller(){\n        const password = m.prop('');\n        const confirm = m.prop('');\n        const iscu = m.prop(false);\n        const ctrl = {\n            password,\n            confirm,\n            error: m.prop(''),\n            activated:false,\n            set_password: update\n        };\n       \n        is_activation_code(m.route.param('code'))\n        .catch(response => {\n            m.route('/');\n        })\n        .then(() => {\n            m.redraw();\n        });\n        return ctrl;\n\n        function update(){\n            set_password(m.route.param('code'), password, confirm)\n                .then(() => {\n                    ctrl.activated = true;\n                })\n                .catch(response => {\n                        ctrl.error(response.message);\n                        m.redraw();\n                })\n                .then(() => {\n                        m.redraw();\n                });\n        }\n    },\n    view(ctrl){\n        return m('.activation.centrify', {config:fullHeight},[\n            ctrl.activated\n            ?\n            [\n                m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                m('h5', 'Password successfully updated!')\n            ]\n            :\n            body(ctrl)]);\n    }\n};\n","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst change_password_url = '/dashboard/dashboard/change_password';\n\nfunction apiURL(code)\n{\t\n    return `${change_password_url}/${encodeURIComponent(code)}`;\n}\n\nexport let is_recovery_code = (code) => fetchJson(apiURL(code), {\n\tmethod: 'get'\n});\n\n\nexport let set_password = (code, password, confirm) => fetchJson(apiURL(code), {\n\tmethod: 'post',\n\tbody: {password, confirm}\n});\n","import {set_password, is_recovery_code} from './changePasswordModel';\n\nimport fullHeight from 'utils/fullHeight';\nimport {body} from './changePasswordView';\n\nexport default changePasswordComponent;\n\nlet changePasswordComponent = {\n    controller(){\n        const password = m.prop('');\n        const confirm = m.prop('');\n        const ctrl = {\n            password,\n            confirm,\n            error: m.prop(''),\n            changed:false,\n            set_password: update\n        };\n        var code = m.route.param('code')!== undefined ? m.route.param('code') : \"\";\n        is_recovery_code(code)\n        .catch(response => {\n            m.route('/');\n        })\n        .then(() => {\n            m.redraw();\n        });    \n        return ctrl;\n        \n        function update(){\n            set_password(code, password, confirm)\n                .then(() => {\n                    ctrl.changed = true;\n                })\n                .catch(response => {\n                        ctrl.error(response.message);\n                        m.redraw();\n                })\n                .then(() => {\n                        m.redraw();\n                });\n        }\n    },\n    view(ctrl){\n        return m('.activation.centrify', {config:fullHeight},[\n            \n                ctrl.changed\n            ?\n            [\n                m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                m('h5', 'Password successfully updated!')\n            ]\n            :\n            body(ctrl)]);\n    }\n};\n","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\n\nconst recoveryUrl = '/dashboard/dashboard/recovery';\n\nexport let recovery = (username) => fetchJson(recoveryUrl, {\n\tmethod: 'post',\n\tbody: {username}\n});\n","import {recovery} from './recoveryModel';\nimport fullHeight from 'utils/fullHeight';\nexport default recoveryComponent;\n\nlet recoveryComponent = {\n\tcontroller(){\n\t\tconst username = m.prop('');\n\t\tconst ctrl = {\n\t\t\tusername,\n\t\t\terror: m.prop(''),\n\t\t\trecovery: recoveryAction\n\t\t};\n\t\treturn ctrl;\n\n\t\tfunction recoveryAction(){\n\t\t\trecovery(username)\n\t\t\t\t.then(() => {\n\t\t\t\t\tm.route('/');\n\t\t\t\t})\n\t\t\t\t.catch(response => {\n\t\t\t\t\tctrl.error(response.message);\n\t\t\t\t\tm.redraw();\n\t\t\t\t});\n\t\t}\n\t},\n\tview(ctrl){\n\t\treturn  m('.recovery.centrify', {config:fullHeight},[\n\t\t\t\t    m('.card.card-inverse.col-md-4', [\n                        m('.card-block',[\n                            m('h4', 'Password Reset Request'),\n                            m('p', 'Enter your username or your email address in the space below and we will mail you the password reset instructions'),\n\n                            m('form', {onsubmit:ctrl.recovery}, [\n                                m('input.form-control', {\n                                    type:'username',\n                                    placeholder: 'Username / Email',\n                                    value: ctrl.username(),\n                                    onkeyup: m.withAttr('value', ctrl.username),\n                                    onchange: m.withAttr('value', ctrl.username),\n                                    config: getStartValue(ctrl.username)\n                                })\n                            ]),\n\n                            ctrl.error() ? m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()) : '',\n                            m('button.btn.btn-primary.btn-block', {onclick: ctrl.recovery},'Request')\n                        ])\n                    ])\n                ]);\n\t}\n};\n\nfunction getStartValue(prop){\n\treturn (element, isInit) => {// !isInit && prop(element.value);\n\t\tif (!isInit) setTimeout(()=>prop(element.value), 30);\n\t}\n}\n","import studiesComponent from './study/studiesComponent';\nimport studyComponent from './study/studyComponent';\nimport poolComponent from './pool/poolComponent';\nimport historyComponent from './pool/historyComponent';\nimport downloadsComponent from './downloads/downloadsComponent';\nimport downloadsAccessComponent from './downloadsAccess/downloadsAccessComponent';\nimport loginComponent from './login/loginComponent';\nimport deployListComponent from './deployList/deployListComponent';\nimport changeRequestListComponent from './changeRequestList/changeRequestListComponent';\nimport removalListComponent from './removalList/removalListComponent';\nimport deployComponent from './deploy/deployComponent';\nimport studyRemovalComponent from './studyRemoval/studyRemovalComponent';\nimport studyChangeRequestComponent from './studyChangeRequest/studyChangeRequestComponent';\nimport addUserComponent from './addUser/addUserComponent';\nimport activationComponent from './activation/activationComponent';\nimport changePasswordComponent from './changePassword/changePasswordComponent';\nimport recoveryComponent from './recovery/recoveryComponent';\nexport default routes;\n\nlet routes = {\n\t'/recovery':  recoveryComponent,\n\t'/activation/:code':  activationComponent,\n\t'/change_password':  changePasswordComponent,\n\t'/change_password/:code':  changePasswordComponent,\n\t'/addUser':  addUserComponent,\n\t'/studyChangeRequest/:studyId':  studyChangeRequestComponent,\n\t'/studyRemoval/:studyId':  studyRemovalComponent,\n\t'/deploy/:studyId': deployComponent,\n\t'/deployList': deployListComponent,\n\t'/removalList': removalListComponent,\n\t'/changeRequestList': changeRequestListComponent,\n\t'/login': loginComponent,\n\t'/studies' : studiesComponent,\n\t'/editor/:studyId': studyComponent,\n\t'/editor/:studyId/:resource/:fileID': studyComponent,\n\t'/pool': poolComponent,\n\t'/pool/history': historyComponent,\n\t'/downloads': downloadsComponent,\n\t'/downloadsAccess': downloadsAccessComponent\n};\n\n","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport {authorize, isLoggedIn, logout} from 'login/authModel';\nexport default layout;\n\nlet layout = route => {\n\treturn {\n\t\tcontroller(){\n\t\t\tauthorize();\n\n\t\t\tif (!isLoggedIn() && m.route() !== '/login' && m.route() !== '/recovery' && m.route() !== '/activation/'+ m.route.param(\"code\") && m.route() !== '/change_password/'+ m.route.param(\"code\")) \n                            m.route('/login');\n\n\t\t\treturn {doLogout};\n\n\t\t\tfunction doLogout(){\n\t\t\t\tlogout().then(() => m.route('/login'));\n\t\t\t}\n\t\t},\n\t\tview(ctrl){\n\t\t\treturn  m('.dashboard-root', {class: window.top!=window.self ? 'is-iframe' : ''}, [\n\t\t\t\tm('nav.navbar.navbar-dark.navbar-fixed-top', [\n\t\t\t\t\tm('a.navbar-brand', {href:'/dashboard/dashboard'}, 'Dashboard'),\n\t\t\t\t\tm('ul.nav.navbar-nav',[\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/studies', config:m.route},'Studies')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/pool', config:m.route},'Pool')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/downloads', config:m.route},'Downloads')\n\t\t\t\t\t\t]),\n//\t\t\t\t\t\tm('li.nav-item',[\n//\t\t\t\t\t\t\tm('a.nav-link',{href:'/deploy', config:m.route},'Deploy')\n//\t\t\t\t\t\t]),\n//\t\t\t\t\t\tm('li.nav-item',[\n//\t\t\t\t\t\t\tm('a.nav-link',{href:'/studyRemoval', config:m.route}, 'Study Removal')\n//\t\t\t\t\t\t]),\n//\t\t\t\t\t\tm('li.nav-item',[\n//\t\t\t\t\t\t\tm('a.nav-link',{href:'/StudyChangeRequest', config:m.route}, 'Study Change Request')\n//\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/addUser', config:m.route}, 'Add User')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/change_password', config:m.route}, 'Change password')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item.pull-xs-right',\n                                                isLoggedIn()\n\t\t\t\t?\n                                                        [\n\t\t\t\t\t\t\tm('button.btn.btn-info', {onclick:ctrl.doLogout}, [\n\t\t\t\t\t\t\t\tm('i.fa.fa-sign-out'), '  Logout'\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]:[])\n\t\t\t\t\t])\n\t\t\t\t]),\n\n\t\t\t\tm('.main-content.container-fluid', [\n\t\t\t\t\troute\n\t\t\t\t]),\n\n\t\t\t\tm.component(contextMenu), // register context menu\n\t\t\t\tm.component(messages), // register modal\n\t\t\t\tm.component(spinner) // register spinner\n\t\t\t]);\n\t\t}\n\t};\n\n};\n","import routes from './routes';\nimport layoutWrapper from './layoutWrapper';\n\nlet wrappedRoutes = mapObject(routes, layoutWrapper);\nm.route(document.body, '/studies', wrappedRoutes);\n\n/**\n * Map Object\n * A utility function to transform objects\n * @param  {Object} \tobj \tThe object to transform\n * @param  {Function} \tcb \t\tThe transforming function\n * @return {Object}        [description]\n *\n * Signature:\n *\n * Object mapObject(Object obj, callbackFunction cb)\n *\n * where:\n * \tcallbackFunction :: any Function(any value, String key, Object object)\n */\nfunction mapObject(obj, cb) {\n\treturn Object.keys(obj)\n\t\t.reduce(function(result, key) {\n\t\t\tresult[key] = cb(obj[key], key, obj);\n\t\t\treturn result;\n\t\t}, {});\n}\n"],"names":["let","baseUrl","this","const","messages","noop","validate","pipValidate","questValidate","managerValidate","validator","arrayInput","selectInputComponent","formFactory","radioInputComponent","arrayInputSrc","questComponent","observerFactory","textMenu","validatorComponent","syntaxComponent","unknowEditor","arguments","pathProp","wizardHash","contextMenu","filesVM","viewModelMap","folderComponent","editorComponent","editComponent","focusConfig","play","PRODUCTION_URL","poolComponent","thConfig","studyFilter","url","STATUS_RUNNING","interceptErrors","createComponent","dayButtonView","remove","create","createMessage","unPropify","reportError","TABLE_WIDTH","deployComponent","ASTERIX","getStartValue","apiURL","set_password","addUserComponent","studyRemovalComponent","deployListComponent","studiesComponent","studyComponent","historyComponent","layoutWrapper"],"mappings":"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"}