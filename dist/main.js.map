{"version":3,"file":"main.js","sources":["utils/classNames.js","utils/contextMenuComponent.js","utils/messagesComponent.js","utils/spinnerComponent.js","login/authModel.js","layoutWrapper.js","utils/sortTable.js","utils/formatDate.js","utils/modelHelpers.js","downloads/downloadsModel.js","utils/dateRange.js","downloads/downloadsCreate.js","downloads/downloadsActions.js","downloads/downloadsComponent.js","pool/poolModel.js","pool/poolEditComponent.js","pool/poolCreateComponent.js","pool/poolActions.js","pool/poolComponent.js","study/fileModel.js","study/studyModel.js","study/editors/pdfEditor.js","study/fullHeight.js","study/editors/ace/aceComponent.js","study/editors/ace/editorComponent.js","study/editors/xmlEditor.js","study/editors/jstEditor.js","study/editors/imgEditor.js","study/editors/ace/syntaxComponent.js","study/editors/ace/parser/messages.js","study/editors/ace/parser/parser.js","study/editors/ace/parser/pipValidator.js","study/editors/ace/parser/questValidator.js","study/editors/ace/parser/managerValidator.js","study/editors/ace/parser/validator.js","study/editors/ace/validatorComponent.js","study/editors/jsEditor.js","study/editorComponent.js","study/sidebar/fileContext.js","study/sidebar/nodeComponent.js","study/sidebar/filesComponent.js","study/sidebar/wizards/pipWizard.js","study/sidebar/wizards/questWizard.js","study/sidebar/wizards/managerWizard.js","study/sidebar/sidebarButtons.js","study/sidebar/sidebarComponent.js","study/studyComponent.js","study/studiesComponent.js","login/loginComponent.js","routes.js","main.js"],"sourcesContent":["// taken from here:\n// https://github.com/JedWatson/classnames/blob/master/index.js\nvar hasOwn = {}.hasOwnProperty;\n\nfunction classNames () {\n\tvar classes = '';\n\n\tfor (var i = 0; i < arguments.length; i++) {\n\t\tvar arg = arguments[i];\n\t\tif (!arg) continue;\n\n\t\tvar argType = typeof arg;\n\n\t\tif (argType === 'string' || argType === 'number') {\n\t\t\tclasses += ' ' + arg;\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tclasses += ' ' + classNames.apply(null, arg);\n\t\t} else if (argType === 'object') {\n\t\t\tfor (var key in arg) {\n\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\tclasses += ' ' + key;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn classes.substr(1);\n}\n\nexport default classNames;\n","import classNames from './classNames';\nexport default contextMenuComponent;\n\n/**\n * Set this component into your layout then use any mouse event to open the context menu:\n * oncontextmenu: contextMenuComponent.open([...menu])\n *\n * Example menu:\n * [\n * \t{icon:'fa-play', text:'begone'},\n *\t{icon:'fa-play', text:'asdf'},\n *\t{separator:true},\n *\t{icon:'fa-play', text:'wertwert', menu: [\n *\t\t{icon:'fa-play', text:'asdf'}\n *\t]}\n * ]\n */\n\nlet contextMenuComponent = {\n\tvm: {\n\t\tshow: m.prop(false),\n\t\tstyle: m.prop({}),\n\t\tmenu: m.prop([\n\t\t])\n\t},\n\tview: () => {\n\t\treturn m(\n\t\t\t'.context-menu',\n\t\t\t{\n\t\t\t\tclass: classNames({'show-context-menu': contextMenuComponent.vm.show()}),\n\t\t\t\tstyle: contextMenuComponent.vm.style()\n\t\t\t},\n\t\t\tcontextMenuComponent.vm.menu().map(menuNode)\n\t\t);\n\t},\n\n\topen: menu => e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tcontextMenuComponent.vm.menu(menu);\n\t\tcontextMenuComponent.vm.show(true);\n\t\tcontextMenuComponent.vm.style({\n\t\t\tleft:e.pageX + 'px',\n\t\t\ttop:e.pageY + 'px'\n\t\t});\n\n\t\tdocument.addEventListener('mousedown', onClick, false);\n\t\tfunction onClick(){\n\t\t\tcontextMenuComponent.vm.show(false);\n\t\t\tdocument.removeEventListener('mousedown', onClick);\n\t\t\tm.redraw();\n\t\t}\n\t}\n};\n\nlet menuNode = (node, key) => {\n\treturn node.separator\n\t\t? m('.context-menu-separator', {key:key})\n\t\t: m('.context-menu-item', {class: classNames({disabled: node.disabled, submenu:node.menu, key: key})}, [\n\t\t\tm('button.context-menu-btn',{onmousedown: node.disabled || node.action}, [\n\t\t\t\tm('i.fa', {class:node.icon}),\n\t\t\t\tm('span.context-menu-text', node.text)\n\t\t\t]),\n\t\t\tnode.menu ? m('.context-menu', node.menu.map(menuNode)) : ''\n\t\t]);\n};","export default messages;\n\nlet noop = ()=>{};\n\nlet messages = {\n\tvm: {isOpen: false},\n\n\topen: (type, opts={}) => {\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\tmessages.vm = {resolve,reject,type, opts, isOpen:true};\n\t\t});\n\t\tm.redraw();\n\n\t\treturn promise;\n\t},\n\n\tclose: response => {\n\t\tlet vm = messages.vm;\n\t\tvm.isOpen = false;\n\t\tif (typeof vm.resolve === 'function') vm.resolve(response);\n\t\tm.redraw();\n\t},\n\n\tcustom: opts=>messages.open('custom', opts),\n\talert: opts => messages.open('alert', opts),\n\tconfirm: opts => messages.open('confirm', opts),\n\tprompt: opts => messages.open('prompt', opts),\n\n\tview: () => {\n\t\tlet vm = messages.vm;\n\t\tlet close = messages.close.bind(null, null);\n\t\tlet stopPropagation = e => e.stopPropagation();\n\t\treturn m('#messages.backdrop', [\n\t\t\t!vm || !vm.isOpen\n\t\t\t\t? ''\n\t\t\t\t:[\n\t\t\t\t\tm('.overlay', {config:messages.config()}),\n\t\t\t\t\tm('.backdrop-content', {onclick:close}, [\n\t\t\t\t\t\tm('.card', {class: vm.opts.wide ? 'col-sm-8' : 'col-sm-5'}, [\n\t\t\t\t\t\t\tm('.card-block', {onclick: stopPropagation}, [\n\t\t\t\t\t\t\t\tmessages.views[vm.type](vm.opts)\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t]);\n\n\t},\n\n\tconfig: () => {\n\t\treturn (element, isInitialized, context) => {\n\t\t\tif (!isInitialized) {\n\t\t\t\tlet handleKey = function(e) {\n\t\t\t\t\tif (e.keyCode == 27) {\n\t\t\t\t\t\tmessages.close(null);\n\t\t\t\t\t}\n\t\t\t\t\tif (e.keyCode == 13) {\n\t\t\t\t\t\tmessages.close(true);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tdocument.body.addEventListener('keyup', handleKey);\n\n\t\t\t\tcontext.onunload = function() {\n\t\t\t\t\tdocument.body.removeEventListener('keyup', handleKey);\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t},\n\n\tviews: {\n\t\tcustom: (opts={}) => opts.content,\n\n\t\talert: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('p.card-text', opts.content),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t},\n\n\t\tconfirm: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('p.card-text', opts.content),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(null)}, opts.okText || 'Cancel'),\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t},\n\n\t\t/**\n\t\t * Promise prompt(Object opts{header: String, content: String, name: Prop})\n\t\t *\n\t\t * where:\n\t\t *   any Prop(any value)\n\t\t */\n\t\tprompt: (opts={}) => {\n\t\t\tlet close = response => messages.close.bind(null, response);\n\t\t\treturn [\n\t\t\t\tm('h4', opts.header),\n\t\t\t\tm('.card-text', opts.content),\n\t\t\t\tm('.card-block', [\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tonchange: m.withAttr('value', opts.prop || noop),\n\t\t\t\t\t\tconfig: (element, isInitialized) => {\n\t\t\t\t\t\t\tif (!isInitialized) element.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t]),\n\t\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:close(null)}, opts.okText || 'Cancel'),\n\t\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n\t\t\t\t])\n\t\t\t];\n\t\t}\n\t}\n};","export default spinner;\n\nlet spinner = {\n\tdisplay: m.prop(false),\n\tshow(response){\n\t\tspinner.display(true);\n\t\tm.redraw();\n\t\treturn response;\n\t},\n\thide(response){\n\t\tspinner.display(false);\n\t\tm.redraw();\n\t\treturn response;\n\t},\n\tview(){\n\t\treturn m('.backdrop', {hidden:!spinner.display()}, // spinner.show()\n\t\t\tm('.overlay'),\n\t\t\tm('.backdrop-content.spinner.icon.fa.fa-cog.fa-spin')\n\t\t);\n\t}\n};","export function isLoggedIn(){\n\treturn true;\n}\n\nexport function login(args){\n\tconsole.log(JSON.stringify(args))\n}","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport {isLoggedIn} from 'login/authModel';\nexport default layout;\n\nlet layout = route => {\n\treturn {\n\t\tcontroller(){\n\t\t\tif (!isLoggedIn() && m.route() !== '/login') m.route('login');\n\t\t},\n\t\tview(){\n\t\t\treturn  m('div', [\n\t\t\t\tm('nav.navbar.navbar-dark.navbar-fixed-top', [\n\t\t\t\t\tm('a.navbar-brand', 'Dashboard'),\n\t\t\t\t\tm('ul.nav.navbar-nav',[\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/studies', config:m.route},'Studies')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/pool', config:m.route},'Pool')\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('li.nav-item',[\n\t\t\t\t\t\t\tm('a.nav-link',{href:'/downloads', config:m.route},'Downloads')\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\t\t\t\t]),\n\n\t\t\t\tm('.container-fluid', {style:{marginTop:'70px'}},[\n\t\t\t\t\troute\n\t\t\t\t]),\n\n\t\t\t\tm.component(contextMenu), // register context menu\n\t\t\t\tm.component(messages),\n\t\t\t\tm.component(spinner)\n\t\t\t]);\n\t\t}\n\t};\n\n};","export default function sortTable(listProp, sortByProp) {\n\treturn function(e) {\n\t\tlet prop = e.target.getAttribute('data-sort-by');\n\t\tlet list = listProp();\n\t\tif (prop) {\n\t\t\tif (typeof sortByProp == 'function') sortByProp(prop); // record property so that we can change style accordingly\n\t\t\tvar first = list[0];\n\t\t\tlist.sort(function(a, b) {\n\t\t\t\treturn a[prop] > b[prop] ? 1 : a[prop] < b[prop] ? -1 : 0;\n\t\t\t});\n\t\t\tif (first === list[0]) list.reverse();\n\t\t}\n\t};\n}\n","export default function formatDate(date){\n\tlet pad = num => num < 10 ? '0' + num : num;\n\treturn `${pad(date.getMonth() + 1)}\\\\${pad(date.getDate())}\\\\${date.getFullYear()}`;\n}\n","export let checkStatus = response => {\n\tif (response.status >= 200 && response.status < 300) {\n\t\treturn response;\n\t}\n\n\tlet error = new Error(response.statusText);\n\terror.response = response;\n\tthrow error;\n};\n\nexport let toJSON = response => response.json();\n\n// extract info from status error\nexport let catchJSON = err => (err.response ? err.response.json() : Promise.reject())\n\t.catch(() => Promise.reject(err))\n\t.then(json => Promise.reject(json));\n\n\nexport function fetchJson(url, options){\n\tlet opts = Object.assign({\n\t\tcredentials: 'same-origin',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json'\n\t\t}\n\t}, options);\n\n\topts.body = JSON.stringify(options.body);\n\n\treturn fetch(url, opts)\n\t\t.then(checkStatus)\n\t\t.then(toJSON)\n\t\t.catch(catchJSON);\n}","import {fetchJson} from 'utils/modelHelpers';\nconst url = '/dashboard/DashboardData';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_COMPLETE = 'C';\nexport const STATUS_ERROR = 'X';\n\nexport let getAllDownloads = () => fetchJson(url, {\n\tmethod:'post',\n\tbody: {action:'getAllDownloads'}\n}).then(interceptErrors);\n\nexport let removeDownload = download => fetchJson(url, {\n\tmethod:'post',\n\tbody: Object.assign({action:'removeDownload'}, download)\n}).then(interceptErrors);\n\nexport let createDownload = download => fetchJson(url, {\n\tmethod: 'post',\n\tbody: Object.assign({action:'download'}, download)\n}).then(interceptErrors);\n\n\n\nfunction interceptErrors(response){\n\tif (!response || !response.error){\n\t\treturn response;\n\t}\n\n\treturn Promise.reject({message: response.msg});\n}","// import $ from 'jquery';\nlet Pikaday = window.Pikaday;\n\nexport let datePicker = (prop, options) => m.component(pikaday, {prop,options});\nexport let dateRangePicker = args => m.component(pikadayRange, args);\n\nlet pikaday = {\n\tview(ctrl, {prop, options}){\n\t\treturn m('div', {config: pikaday.config(prop, options)});\n\t},\n\tconfig(prop, options){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tif (!isInitialized){\n\t\t\t\tctx.picker = new Pikaday(Object.assign({\n\t\t\t\t\tonSelect: prop,\n\t\t\t\t\tcontainer: element\n\t\t\t\t},options));\n\n\t\t\t\telement.appendChild(ctx.picker.el);\n\t\t\t}\n\n\t\t\tctx.picker.setDate(prop());\n\t\t};\n\t}\n};\n\n/**\n * args = {\n * \tstartValue: m.prop,\n *  endValue: m.prop,\n *  options: Object // specific daterange plugin options\n * }\n */\n\nlet pikadayRange = {\n\tview: function(ctrl, args){\n\t\treturn m('div',[\n\t\t\tm('.figure', [\n\t\t\t\tm('strong','Start Date'),\n\t\t\t\tm('br'),\n\t\t\t\tm('.figure', {config:pikadayRange.configStart(args)})\n\t\t\t]),\n\t\t\tm.trust('&nbsp;'),\n\t\t\tm('.figure', [\n\t\t\t\tm('strong','End Date'),\n\t\t\t\tm('br'),\n\t\t\t\tm('.figure', {config:pikadayRange.configEnd(args)})\n\t\t\t])\n\t\t]);\n\t},\n\tconfigStart({startDate, endDate}){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tlet picker = ctx.picker;\n\n\t\t\tif (!isInitialized){\n\t\t\t\tpicker = ctx.picker = new Pikaday({\n\t\t\t\t\tmaxDate: new Date(),\n\t\t\t\t\tonSelect: date => startDate(date) && m.redraw()\n\t\t\t\t});\n\t\t\t\telement.appendChild(picker.el);\n\n\t\t\t\tctx.onunload = picker.destroy.bind(picker);\n\t\t\t\tpicker.setDate(startDate());\n\t\t\t}\n\n\t\t\t// resset picker date only if the date has changed externaly\n\t\t\tif (startDate() !== picker.getDate()){\n\t\t\t\tpicker.setDate(startDate(),true);\n\t\t\t}\n\n\t\t\tpicker.setStartRange(startDate());\n\t\t\tpicker.setEndRange(endDate());\n\t\t\tpicker.setMaxDate(endDate());\n\t\t};\n\t},\n\tconfigEnd({startDate, endDate}){\n\t\treturn (element, isInitialized, ctx) => {\n\t\t\tlet picker = ctx.picker;\n\n\t\t\tif (!isInitialized){\n\t\t\t\tpicker = ctx.picker = new Pikaday({\n\t\t\t\t\tmaxDate: new Date(),\n\t\t\t\t\tonSelect: date => endDate(date) && m.redraw()\n\t\t\t\t});\n\t\t\t\telement.appendChild(picker.el);\n\n\t\t\t\tctx.onunload = picker.destroy.bind(picker);\n\t\t\t\tpicker.setDate(endDate());\n\t\t\t}\n\n\t\t\t// resset picker date only if the date has changed externaly\n\t\t\tif (endDate() !== picker.getDate()){\n\t\t\t\tpicker.setDate(endDate(),true);\n\t\t\t}\n\n\t\t\tpicker.setStartRange(startDate());\n\t\t\tpicker.setEndRange(endDate());\n\t\t\tpicker.setMinDate(startDate());\n\t\t};\n\t}\n};","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\n\nconst DAY_MS = 1000 * 60 ^ 60 * 24;\n\n\nexport default args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet download ={\n\t\t\tstudyId: m.prop(''),\n\t\t\tdb: m.prop('test'),\n\t\t\tstartDate: m.prop(new Date(0)),\n\t\t\tendDate: m.prop(new Date())\n\t\t};\n\n\t\t// export study to calling component\n\t\toutput(download);\n\n\n\t\tlet ctrl = {\n\t\t\tdownload,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyId: download.studyId()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet download = ctrl.download;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Request Download'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyId)}, [\n\t\t\t\t\tm('label', 'Study Id'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study Id',\n\t\t\t\t\t\tvalue: download.studyId(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', download.studyId),\n\t\t\t\t\t\tclass:inputClasses(validity.studyId)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyId, 'The study ID is required in order to request a download.')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label','Database'),\n\t\t\t\t\tm('select.form-control', {onchange: m.withAttr('value',download.db)}, [\n\t\t\t\t\t\tm('option',{value:'test', selected: download.db() === 'test'}, 'Development'),\n\t\t\t\t\t\tm('option',{value:'warehouse', selected: download.db() === 'warehouse'}, 'Production')\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Date Range'),\n\t\t\t\t\tdateRangePicker(download),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tdayButtonView(download, 'Last 7 Days', 7),\n\t\t\t\t\t\tdayButtonView(download, 'Last 30 Days', 30),\n\t\t\t\t\t\tdayButtonView(download, 'Last 90 Days', 90),\n\t\t\t\t\t\tdayButtonView(download, 'All times', 3650)\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n\nlet dayButtonView = (download, name, days) => m('button.btn.btn-secondary.btn-sm', {onclick: () => {\n\tlet d = new Date();\n\td.setDate(d.getDate() - days);\n\tdownload.startDate(d);\n\tdownload.endDate(new Date());\n}}, name);","import {getAllDownloads, removeDownload, createDownload, STATUS_RUNNING} from './downloadsModel';\nimport createMessage from './downloadsCreate';\nimport messages from 'utils/messagesComponent';\n\n/**\n * Get all downloads\n */\n\nexport let recursiveGetAll = debounce(getAll, 5000);\nexport function getAll({list, cancel}){\n\treturn getAllDownloads()\n\t\t.then(list)\n\t\t.then(response => {\n\t\t\tif (!cancel() && response.some(download => download.studyStatus === STATUS_RUNNING)) {\n\t\t\t\trecursiveGetAll({list, cancel});\n\t\t\t}\n\t\t})\n\t\t.then(m.redraw);\n}\n\n\n// debounce but call at first iteration\nfunction debounce(func, wait) {\n\tlet first = true;\n\tlet timeout;\n\treturn function() {\n\t\tvar context = this, args = arguments;\n\t\tvar later = function() {\n\t\t\ttimeout = null;\n\t\t\tfunc.apply(context, args);\n\t\t};\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (first) {\n\t\t\tfunc.apply(context, args);\n\t\t\tfirst = false;\n\t\t}\n\t};\n}\n\n\n/**\n * Remove download\n */\n\nexport function remove(download, list) {\n\treturn messages.confirm({\n\t\theader: 'Delete Request:',\n\t\tcontent: [\n\t\t\t'Are you sure you want to delete this request from your queue?',\n\t\t\tm('.text-xs-center',\n\t\t\t\tm('small.muted-text','(Don\\'t worry, the data will stay on our servers and you can request it again in the future)')\n\t\t\t)\n\t\t]\n\t})\n\t.then(function(response){\n\t\tif (response) return doRemove(download, list);\n\t});\n}\n\nfunction doRemove(download, list){\n\tlist(list().filter(el => el !== download));\n\tm.redraw();\n\tremoveDownload(download)\n\t\t.catch(err => {\n\t\t\tlist().push(download);\n\t\t\treturn messages.alert({\n\t\t\t\theader: 'Delete Request',\n\t\t\t\tcontent: err.message\n\t\t\t});\n\t\t});\n}\n\n/**\n * Create download\n */\n\nexport function create(list, cancel){\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response){\n\t\t\t\tlet download = unPropify(output());\n\t\t\t\tlist().unshift(Object.assign({\n\t\t\t\t\tstudyStatus: STATUS_RUNNING,\n\t\t\t\t\tcreationDate: new Date()\n\t\t\t\t},download));\n\t\t\t\tcancel(true);\n\t\t\t\treturn createDownload(download)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tcancel(false);\n\t\t\t\t\t\tgetAll({list, cancel});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reportError)\n\t\t\t\t\t.then(cancel.bind(null, false));\n\t\t\t}\n\t\t});\n}\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});\n\nlet reportError = header => err => messages.alert({header, content: err.message});","import sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nimport {getAll, remove, create} from './downloadsActions';\nexport default downloadsComponent;\n\nconst downloadsComponent = {\n\tcontroller(){\n\t\tlet list = m.prop([]);\n\t\tlet cancelDownload = m.prop(false);\n\n\t\tconst ctrl = {\n\t\t\tlist,\n\t\t\tcancelDownload,\n\t\t\tcreate,\n\t\t\tremove,\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop('studyId'),\n\t\t\tonunload(){\n\t\t\t\tcancelDownload(true);\n\t\t\t}\n\t\t};\n\n\t\tgetAll({list:ctrl.list, cancel: cancelDownload});\n\n\t\treturn ctrl;\n\t},\n\n\tview(ctrl) {\n\t\tlet list = ctrl.list;\n\t\treturn m('.downloads', [\n\t\t\tm('h2', 'Downloads'),\n\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\tm('thead', [\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th', {colspan:7}, [\n\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th.text-xs-center', {colspan:7}, [\n\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list, ctrl.cancelDownload)}, [\n\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Download request'\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\tm('th', 'Data file'),\n\t\t\t\t\t\tm('th', thConfig('db',ctrl.sortBy), 'Database'),\n\t\t\t\t\t\tm('th', thConfig('fileSize',ctrl.sortBy), 'File Size'),\n\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date Added'),\n\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('tbody', [\n\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(download => m('tr', [\n\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\tm('td', download.studyId),\n\n\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\tm('td',\n\t\t\t\t\t\t\tdownload.fileSize && download.studyUrl\n\t\t\t\t\t\t\t\t? m('a', {href:download.studyUrl, download:true, target: '_blank'}, 'Download')\n\t\t\t\t\t\t\t\t: m('i.text-muted', 'No Data')\n\t\t\t\t\t\t),\n\n\t\t\t\t\t\t// ### Database\n\t\t\t\t\t\tm('td', download.db),\n\n\t\t\t\t\t\t// ### Filesize\n\t\t\t\t\t\tm('td', download.fileSize !== 'unknown'\n\t\t\t\t\t\t\t? download.fileSize\n\t\t\t\t\t\t\t: m('i.text-muted', 'Unknown')\n\t\t\t\t\t\t),\n\n\t\t\t\t\t\t// ### Date Added\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tformatDate(new Date(download.creationDate)),\n\t\t\t\t\t\t\t'  ',\n\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\tm('.card-header', 'Creation Details'),\n\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Creation Date: '), formatDate(new Date(download.creationDate))\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Start Date: '), formatDate(new Date(download.startDate))\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'End Date: '), formatDate(new Date(download.endDate))\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Status\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tC: m('span.label.label-success', 'Complete'),\n\t\t\t\t\t\t\t\tR: m('span.label.label-info', 'Running'),\n\t\t\t\t\t\t\t\tX: m('span.label.label-danger', 'Error')\n\t\t\t\t\t\t\t}[download.studyStatus]\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\tm('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, download, list)}, [\n\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t]))\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\tlet search = ctrl.globalSearch();\n\treturn study =>\n\t\tincludes(study.studyId, search) ||\n\t\tincludes(study.studyUrl, search);\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}","import {fetchJson} from 'utils/modelHelpers';\nconst url = '/dashboard/StudyData';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_PAUSED = 'P';\nexport const STATUS_STOP = 'S';\n\nexport function createStudy(study){\n\tlet body = Object.assign({\n\t\taction:'insertRulesTable',\n\t\tcreationDate: new Date(),\n\t\tstudyStatus: STATUS_RUNNING\n\t}, study);\n\n\treturn fetchJson(url, {method: 'post', body: body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateStudy(study){\n\tlet body = Object.assign({\n\t\taction:'updateRulesTable'\n\t}, study);\n\n\treturn  fetchJson(url, {method: 'post',body:body})\n\t\t.then(interceptErrors);\n}\n\nexport function updateStatus(study, status){\n\treturn updateStudy(Object.assign({studyStatus:status}, study))\n\t\t.then(interceptErrors);\n}\n\nexport function getAllPoolStudies(){\n\treturn fetchJson(url, {method:'post', body: {action:'getAllPoolStudies'}})\n\t\t.then(interceptErrors);\n}\n\nexport function getStudyId(study){\n\tlet body = Object.assign({\n\t\taction:'getStudyId'\n\t}, study);\n\n\treturn  fetchJson(url, {method: 'post',body:body});\n}\n\nexport function resetStudy(study){\n\treturn fetchJson(url, {method:'post', body: Object.assign({action:'resetStudy'}, study)})\n\t\t.then(interceptErrors);\n}\n\nfunction interceptErrors(response){\n\tif (!response.error){\n\t\treturn response;\n\t}\n\n\tlet errors = {\n\t\t1: 'This ID already exists.',\n\t\t2: 'The study could not be found.',\n\t\t3: 'The rule file could not be found.',\n\t\t4: 'The rules file does not fit the \"research\" schema.'\n\t};\n\n\treturn Promise.reject({message: errors[response.error]});\n}","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default editMessage;\n\n/**\n * Create edit component\n * Promise editMessage({input:Object, output:Prop})\n */\nlet editMessage = args => messages.custom({\n\tcontent: m.component(editComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet editComponent = {\n\tcontroller({input, output, close}){\n\t\tlet study = ['rulesUrl', 'targetCompletions', 'autopauseUrl', 'userEmail'].reduce((study, prop)=>{\n\t\t\tstudy[prop] = m.prop(input[prop] || '');\n\t\t\treturn study;\n\t\t}, {});\n\n\t\t// export study to calling component\n\t\toutput(study);\n\n\n\t\tlet ctrl = {\n\t\t\tstudy,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet isEmail = str  => /\\S+@\\S+\\.\\S+/.test(str);\n\t\t\t\tlet isNormalInteger = str => /^\\+?(0|[1-9]\\d*)$/.test(str);\n\n\t\t\t\tlet response = {\n\t\t\t\t\trulesUrl: study.rulesUrl(),\n\t\t\t\t\ttargetCompletions: isNormalInteger(study.targetCompletions()),\n\t\t\t\t\tautopauseUrl: study.autopauseUrl(),\n\t\t\t\t\tuserEmail: isEmail(study.userEmail())\n\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl, {input}){\n\t\tlet study = ctrl.study;\n\t\tlet validity = ctrl.validity();\n\t\tlet miniButtonView = (prop, name, url) => m('button.btn.btn-secondary.btn-sm', {onclick: prop.bind(null,url)}, name);\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Study Editor'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Study ID'),\n\t\t\t\t\tm('p',[\n\t\t\t\t\t\tm('strong.form-control-static', input.studyId)\n\t\t\t\t\t])\n\n\t\t\t\t]),\n\t\t\t\tm('.form-group', [\n\t\t\t\t\tm('label', 'Study URL'),\n\t\t\t\t\tm('p',[\n\t\t\t\t\t\tm('strong.form-control-static', input.studyUrl)\n\t\t\t\t\t])\n\t\t\t\t]),\n\n\t\t\t\tm('.form-group', {class:groupClasses(validity.rulesUrl)}, [\n\t\t\t\t\tm('label', 'Rules File URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Rules file URL',\n\t\t\t\t\t\tvalue: study.rulesUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.rulesUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.rulesUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tminiButtonView(study.rulesUrl, 'Priority26', '/research/library/rules/Priority26.xml')\n\t\t\t\t\t]),\n\t\t\t\t\tvalidationView(validity.rulesUrl, 'This row is required')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.autopauseUrl)}, [\n\t\t\t\t\tm('label', 'Auto-pause file URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tplaceholder:'Auto pause file URL',\n\t\t\t\t\t\tvalue: study.autopauseUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.autopauseUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.autopauseUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tm('p.text-muted.btn-toolbar', [\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Default', '/research/library/pausefiles/pausedefault.xml'),\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Never', '/research/library/pausefiles/neverpause.xml'),\n\t\t\t\t\t\tminiButtonView(study.autopauseUrl, 'Low restrictions', '/research/library/pausefiles/pauselowrestrictions.xml')\n\t\t\t\t\t]),\n\t\t\t\t\tvalidationView(validity.autopauseUrl, 'This row is required')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.targetCompletions)}, [\n\t\t\t\t\tm('label','Target number of sessions'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'number',\n\t\t\t\t\t\tplaceholder:'Target Sessions',\n\t\t\t\t\t\tvalue: study.targetCompletions(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.targetCompletions),\n\t\t\t\t\t\tonclick: m.withAttr('value', study.targetCompletions),\n\t\t\t\t\t\tclass:inputClasses(validity.targetCompletions)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.targetCompletions, 'This row is required and has to be an integer above 0')\n\t\t\t\t]),\n\t\t\t\tm('.form-group', {class:groupClasses(validity.userEmail)}, [\n\t\t\t\t\tm('label','User Email'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'email',\n\t\t\t\t\t\tplaceholder:'Email',\n\t\t\t\t\t\tvalue: study.userEmail(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.userEmail),\n\t\t\t\t\t\tclass:inputClasses(validity.userEmail)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.userEmail, 'This row is required and must be a valid Email')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};\n","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default createMessage;\n\n/**\n * Create edit component\n * Promise editMessage({output:Prop})\n */\nlet createMessage = args => messages.custom({\n\tcontent: m.component(createComponent, Object.assign({close:messages.close}, args)),\n\twide: true\n});\n\nlet createComponent = {\n\tcontroller({output, close}){\n\t\tlet study = output({\n\t\t\tstudyUrl: m.prop('')\n\t\t});\n\n\t\tlet ctrl = {\n\t\t\tstudy,\n\t\t\tsubmitAttempt: false,\n\t\t\tvalidity(){\n\t\t\t\tlet response = {\n\t\t\t\t\tstudyUrl: study.studyUrl()\n\t\t\t\t};\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\tok(){\n\t\t\t\tctrl.submitAttempt = true;\n\t\t\t\tlet response = ctrl.validity();\n\t\t\t\tlet isValid = Object.keys(response).every(key => response[key]);\n\t\t\t\tif (isValid) close(true);\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tclose(null);\n\t\t\t}\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\tlet study = ctrl.study;\n\t\tlet validity = ctrl.validity();\n\t\tlet validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n\t\tlet groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'has-danger': !valid,\n\t\t\t'has-success' : valid\n\t\t});\n\t\tlet inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n\t\t\t'form-control-danger': !valid,\n\t\t\t'form-control-success': valid\n\t\t});\n\n\t\treturn m('div',[\n\t\t\tm('h4', 'Create Study'),\n\t\t\tm('.card-block', [\n\t\t\t\tm('.form-group', {class:groupClasses(validity.studyUrl)}, [\n\t\t\t\t\tm('label', 'Study URL'),\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\tconfig: focusConfig,\n\t\t\t\t\t\tplaceholder:'Study URL',\n\t\t\t\t\t\tvalue: study.studyUrl(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', study.studyUrl),\n\t\t\t\t\t\tclass:inputClasses(validity.studyUrl)\n\t\t\t\t\t}),\n\t\t\t\t\tvalidationView(validity.studyUrl, 'This row is required')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.text-xs-right.btn-toolbar',[\n\t\t\t\tm('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n\t\t\t\tm('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'Proceed')\n\t\t\t])\n\t\t]);\n\t}\n};\n\nlet focusConfig = (element, isInitialized) => {\n\tif (!isInitialized) element.focus();\n};","import {updateStudy, createStudy, updateStatus, getStudyId, resetStudy, STATUS_RUNNING, STATUS_PAUSED, STATUS_STOP} from './poolModel';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport editMessage from './poolEditComponent';\nimport createMessage from './poolCreateComponent';\n\n\nexport function play(study){\n\treturn messages.confirm({\n\t\theader: 'Continue Study:',\n\t\tcontent: `Are you sure you want to continue \"${study.studyId}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_RUNNING)\n\t\t\t\t.then(()=>study.studyStatus = STATUS_RUNNING)\n\t\t\t\t.catch(reportError('Continue Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n}\n\nexport function pause(study){\n\treturn messages.confirm({\n\t\theader: 'Pause Study:',\n\t\tcontent: `Are you sure you want to pause \"${study.studyId}\"?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_PAUSED)\n\t\t\t\t.then(()=>study.studyStatus = STATUS_PAUSED)\n\t\t\t\t.catch(reportError('Pause Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n}\n\nexport let remove  = (study, list) => {\n\treturn messages.confirm({\n\t\theader: 'Remove Study:',\n\t\tcontent: `Are you sure you want to remove \"${study.studyId}\" from the pool?`\n\t})\n\t.then(response => {\n\t\tif(response) {\n\t\t\tstudyPending(study, true)();\n\t\t\treturn updateStatus(study, STATUS_STOP)\n\t\t\t\t.then(() => list(list().filter(el => el !== study)))\n\t\t\t\t.catch(reportError('Remove Study'))\n\t\t\t\t.then(studyPending(study, false));\n\t\t}\n\t});\n};\n\nexport let edit  = (input) => {\n\tlet output = m.prop();\n\treturn editMessage({input, output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tstudyPending(input, true)();\n\t\t\t\tlet study = Object.assign({}, input, unPropify(output()));\n\t\t\t\treturn updateStudy(study)\n\t\t\t\t\t.then(() => Object.assign(input, study)) // update study in view\n\t\t\t\t\t.catch(reportError('Study Editor'))\n\t\t\t\t\t.then(studyPending(input, false));\n\t\t\t}\n\t\t});\n};\n\nexport let create = (list) => {\n\tlet output = m.prop();\n\treturn createMessage({output})\n\t\t.then(response => {\n\t\t\tif (response) {\n\t\t\t\tspinner.show();\n\t\t\t\tgetStudyId(output())\n\t\t\t\t\t.then(response => Object.assign(unPropify(output()), response)) // add response data to \"newStudy\"\n\t\t\t\t\t.then(spinner.hide)\n\t\t\t\t\t.then(editNewStudy);\n\t\t\t}\n\t\t});\n\n\tfunction editNewStudy(input){\n\t\tlet output = m.prop();\n\t\treturn editMessage({input, output})\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tlet study = Object.assign({\n\t\t\t\t\t\tstartedSessions: 0,\n\t\t\t\t\t\tcompletedSessions: 0,\n\t\t\t\t\t\tcreationDate:new Date(),\n\t\t\t\t\t\tstudyStatus: STATUS_RUNNING\n\t\t\t\t\t}, input, unPropify(output()));\n\t\t\t\t\treturn createStudy(study)\n\t\t\t\t\t\t.then(() => list().push(study))\n\t\t\t\t\t\t.then(m.redraw)\n\t\t\t\t\t\t.catch(reportError('Create Study'));\n\t\t\t\t}\n\t\t\t});\n\t}\n};\n\nexport let reset = study => {\n\tmessages.confirm({\n\t\theader: 'Restart study',\n\t\tcontent: 'Are you sure you want to restart this study? This action will reset all started and completed sessions.'\n\t}).then(response => {\n\t\tif (response) {\n\t\t\tlet old = {\n\t\t\t\tstartedSessions: study.startedSessions,\n\t\t\t\tcompletedSessions: study.completedSessions\n\t\t\t};\n\t\t\tstudy.startedSessions = study.completedSessions = 0;\n\t\t\tm.redraw();\n\t\t\treturn resetStudy(study)\n\t\t\t\t.catch(response => {\n\t\t\t\t\tObject.assign(study, old);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t})\n\t\t\t\t.catch(reportError('Restart study'));\n\t\t}\n\t});\n};\n\nlet reportError = header => err => messages.alert({header, content: err.message});\n\nlet studyPending = (study, state) => () => {\n\tstudy.$pending = state;\n\tm.redraw();\n};\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n\tresult[key] = obj[key]();\n\treturn result;\n}, {});","import {getAllPoolStudies, STATUS_PAUSED, STATUS_RUNNING} from './poolModel';\nimport {play, pause, remove, edit, create, reset} from './poolActions';\n// import classNames from 'utils/classNames';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default poolComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\n\nlet poolComponent = {\n\tcontroller: () => {\n\t\tconst ctrl = {\n\t\t\tplay: play,\n\t\t\tpause: pause,\n\t\t\tremove: remove,\n\t\t\tedit: edit,\n\t\t\treset: reset,\n\t\t\tcreate: create,\n\t\t\tlist: m.prop([]),\n\t\t\tglobalSearch: m.prop(''),\n\t\t\tsortBy: m.prop()\n\t\t};\n\n\t\tgetAllPoolStudies()\n\t\t\t.then(ctrl.list)\n\t\t\t.then(m.redraw);\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet list = ctrl.list;\n\t\treturn m('.pool', [\n\t\t\tm('h2', 'Study pool'),\n\t\t\tm('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n\t\t\t\tm('thead', [\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th', {colspan:8}, [\n\t\t\t\t\t\t\tm('input.form-control', {placeholder: 'Global Search ...', onkeyup: m.withAttr('value', ctrl.globalSearch)})\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th.text-xs-center', {colspan:8}, [\n\t\t\t\t\t\t\tm('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list)}, [\n\t\t\t\t\t\t\t\tm('i.fa.fa-plus'), '  Add new study'\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t]),\n\t\t\t\t\tm('tr', [\n\t\t\t\t\t\tm('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n\t\t\t\t\t\tm('th', thConfig('studyUrl',ctrl.sortBy), 'Study'),\n\t\t\t\t\t\tm('th', thConfig('rulesUrl',ctrl.sortBy), 'Rules'),\n\t\t\t\t\t\tm('th', thConfig('autopauseUrl',ctrl.sortBy), 'Autopause'),\n\t\t\t\t\t\tm('th', thConfig('completedSessions',ctrl.sortBy), 'Completion'),\n\t\t\t\t\t\tm('th', thConfig('creationDate',ctrl.sortBy), 'Date'),\n\t\t\t\t\t\tm('th','Status'),\n\t\t\t\t\t\tm('th','Actions')\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('tbody', [\n\t\t\t\t\tlist().filter(studyFilter(ctrl)).map(study => m('tr', [\n\t\t\t\t\t\t// ### ID\n\t\t\t\t\t\tm('td', study.studyId),\n\n\t\t\t\t\t\t// ### Study url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.studyUrl, target: '_blank'}, 'Study')\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Rules url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.rulesUrl, target: '_blank'}, 'Rules')\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Autopause url\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tm('a', {href:PRODUCTION_URL + study.autopauseUrl, target: '_blank'}, 'Autopause')\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Completions\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t(100 * study.completedSessions / study.targetCompletions).toFixed(1) + '% ',\n\t\t\t\t\t\t\tm('i.fa.fa-info-circle'),\n\t\t\t\t\t\t\tm('.card.info-box', [\n\t\t\t\t\t\t\t\tm('.card-header', 'Completion Details'),\n\t\t\t\t\t\t\t\tm('ul.list-group.list-group-flush',[\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Target Completions: '), study.targetCompletions\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Started Sessions: '), study.startedSessions\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('li.list-group-item', [\n\t\t\t\t\t\t\t\t\t\tm('strong', 'Completed Sessions: '), study.completedSessions\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Date\n\t\t\t\t\t\tm('td', formatDate(new Date(study.creationDate))),\n\n\t\t\t\t\t\t// ### Status\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tR: m('span.label.label-success', 'Running'),\n\t\t\t\t\t\t\t\tP: m('span.label.label-info', 'Paused'),\n\t\t\t\t\t\t\t\tS: m('span.label.label-danger', 'Stopped')\n\t\t\t\t\t\t\t}[study.studyStatus]\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\t// ### Actions\n\t\t\t\t\t\tm('td', [\n\t\t\t\t\t\t\tstudy.$pending\n\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\tm('.l', 'Loading...')\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\t\tstudy.studyStatus === STATUS_PAUSED ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.play.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-play')\n\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\tstudy.studyStatus === STATUS_RUNNING ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.pause.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-pause')\n\t\t\t\t\t\t\t\t\t]) : '',\n\t\t\t\t\t\t\t\t\tm('button.btn.btn-sm.btn-secondary', {onclick: ctrl.edit.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-edit')\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('button.btn.btn-sm.btn-secondary', {onclick: ctrl.reset.bind(null, study)}, [\n\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-refresh')\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tm('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, study, list)}, [\n\t\t\t\t\t\t\t\t\t\tm('i.fa.fa-close')\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t]))\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n\treturn study =>\n\t\tincludes(study.studyId, ctrl.globalSearch()) ||\n\t\tincludes(study.studyUrl, ctrl.globalSearch()) ||\n\t\tincludes(study.rulesUrl, ctrl.globalSearch());\n\n\tfunction includes(val, search){\n\t\treturn typeof val === 'string' && val.includes(search);\n\t}\n}","import {toJSON, catchJSON, checkStatus} from 'utils/modelHelpers';\nexport default fileFactory;\nlet baseUrl = '/dashboard/dashboard';\n\n/**\n * file = {\n * \tid: #hash,\n * \turl: URL\n * }\n */\n\nlet filePrototype = {\n\tapiUrl(){\n\t\treturn `${baseUrl}/files/${encodeURIComponent(this.studyID)}/file/${encodeURIComponent(this.id)}`;\n\t},\n\n\tget(){\n\t\treturn fetch(this.apiUrl(), {credentials: 'same-origin'})\n\t\t\t.then(checkStatus)\n\t\t\t.then(toJSON)\n\t\t\t.then(response => {\n\t\t\t\tthis.sourceContent(response.content);\n\t\t\t\tthis.content(response.content);\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.error = false;\n\t\t\t})\n\t\t\t.catch(reason => {\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.error = true;\n\t\t\t\treturn Promise.reject(reason); // do not swallow error\n\t\t\t});\n\t},\n\n\tsave(){\n\t\treturn fetch(this.apiUrl(), {\n\t\t\tcredentials: 'same-origin',\n\t\t\tmethod:'put',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tcontent: this.content\n\t\t\t})\n\t\t})\n\t\t\t.then(checkStatus)\n\t\t\t.then(response => {\n\t\t\t\tthis.sourceContent(this.content()); // update source content\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.catch(catchJSON);\n\t},\n\n\tdel(){\n\t\treturn fetch(this.apiUrl(), {method:'delete',credentials: 'same-origin'})\n\t\t\t.then(checkStatus);\n\t},\n\n\n\thasChanged() {\n\t\treturn this.sourceContent() === this.content();\n\t},\n\n\tdefine(context = window){\n\t\tvar requirejs = context.requirejs;\n\t\tvar name = this.url;\n\t\tvar content = this.content();\n\n\t\treturn new Promise((resolve) => {\n\t\t\trequirejs.undef(name);\n\t\t\tcontext.eval(content.replace(`define(`,`define('` + name + `',`));\n\t\t\tresolve();\n\t\t});\n\t},\n\n\trequire(context = window){\n\t\tvar requirejs = context.requirejs;\n\t\treturn new Promise((resolve, reject) => {\n\t\t\trequirejs([this.url], resolve,reject);\n\t\t});\n\t},\n\n\tcheckSyntax(){\n\t\tvar jshint = window.JSHINT;\n\t\tthis.syntaxValid = jshint(this.content(), jshintOptions);\n\t\tthis.syntaxData = jshint.data();\n\t\treturn this.syntaxValid;\n\t}\n};\n\nvar jshintOptions = {\n\t// JSHint Default Configuration File (as on JSHint website)\n\t// See http://jshint.com/docs/ for more details\n\n\t'curly'         : false,    // true: Require {} for every new block or scope\n\t'latedef'       : 'nofunc', // true: Require variables/functions to be defined before being used\n\t'undef'         : true,     // true: Require all non-global variables to be declared (prevents global leaks)\n\t'unused'        : 'vars',   // Unused variables:\n\t\t\t\t\t\t\t\t//   true     : all variables, last function parameter\n\t\t\t\t\t\t\t\t//   'vars'   : all variables only\n\t\t\t\t\t\t\t\t//   'strict' : all variables, all function parameters\n\t'strict'        : false,    // true: Requires all functions run in ES5 Strict Mode\n\n\t'browser'       : true,     // Web Browser (window, document, etc)\n\t'devel'         : true,     // Development/debugging (alert, confirm, etc)\n\n\t// Custom Globals\n\tpredef: ['piGlobal','define','require','requirejs','angular']\n};\n\nconst fileFactory = fileObj => {\n\tlet file = Object.create(filePrototype);\n\tlet url = fileObj.url;\n\n\tObject.assign(file, fileObj, {\n\t\tname\t\t\t: url.substring(url.lastIndexOf('/')+1),\n\t\ttype\t\t\t: url.substring(url.lastIndexOf('.')+1),\n\t\tid\t\t\t\t: fileObj.id,\n\t\tsourceContent\t: m.prop(fileObj.content || ''),\n\t\tcontent \t\t: contentProvider.call(file),\n\n\t\t// keep track of loaded state\n\t\tloaded\t\t\t: false,\n\t\terror \t\t\t: false,\n\n\t\t// these are defined when calling checkSyntax\n\t\tsyntaxValid \t: undefined,\n\t\tsyntaxData \t\t: undefined\n\t});\n\n\tfile.content(fileObj.content || '');\n\n\tif (fileObj.files) file.files = fileObj.files.map(fileFactory).map(file => Object.assign(file, {studyID: fileObj.studyID}));\n\n\treturn file;\n\n\n\tfunction contentProvider (store) {\n\t\tvar prop = (...args) => {\n\t\t\tif (args.length) {\n\t\t\t\tstore = args[0];\n\t\t\t\tthis.checkSyntax();\n\t\t\t}\n\t\t\treturn store;\n\t\t};\n\n\t\tprop.toJSON = () => store;\n\n\t\treturn prop;\n\t}\n};","import {toJSON, catchJSON, checkStatus} from 'utils/modelHelpers';\nimport fileFactory from './fileModel';\nexport default studyFactory;\n\nlet baseUrl = '/dashboard/dashboard';\n\nlet studyPrototype = {\n\tapiURL(){\n\t\treturn `${baseUrl}/files/${encodeURIComponent(this.id)}`;\n\t},\n\n\tget(){\n\n\t\treturn fetch(this.apiURL(),{credentials: 'same-origin'})\n\t\t\t.then(checkStatus)\n\t\t\t.then(toJSON)\n\t\t\t.then(study => {\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.files(study.files.map(file => {\n\t\t\t\t\tObject.assign(file, {studyID: this.id});\n\t\t\t\t\treturn fileFactory(file);\n\t\t\t\t}));\n\t\t\t})\n\t\t\t.catch(reason => {\n\t\t\t\tthis.error = true;\n\t\t\t\treturn Promise.reject(reason); // do not swallow error\n\t\t\t});\n\t},\n\n\tgetFile(id){\n\t\treturn getById(id, this.files());\n\n\t\tfunction getById(id, files){\n\t\t\tfor (let file of files){\n\t\t\t\tif (file.id == id) return file;\n\t\t\t\tif (file.files) return getById(id, file.files);\n\t\t\t}\n\t\t}\n\t},\n\n\tcreateFile(name, content=''){\n\t\treturn fetch(this.apiURL() + '/file', {\n\t\t\tmethod:'post',\n\t\t\tcredentials: 'same-origin',\n\t\t\tbody: JSON.stringify({name, content}),\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\t\t.then(checkStatus)\n\t\t\t.then(toJSON)\n\t\t\t.then(response => {\n\t\t\t\tObject.assign(response, {studyID: this.id, content});\n\t\t\t\tlet file = fileFactory(response);\n\t\t\t\tfile.loaded = true;\n\t\t\t\tthis.files().push(file);\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.catch(catchJSON);\n\t},\n\n\tdel(fileId){\n\t\treturn this.getFile(fileId).del()\n\t\t\t.then(() => {\n\t\t\t\tthis.files(filterById(fileId, this.files()));\n\n\t\t\t\tfunction filterById(id, files){\n\t\t\t\t\treturn files && files\n\t\t\t\t\t\t.filter(file => file.id !== id)\n\t\t\t\t\t\t.map(file => {\n\t\t\t\t\t\t\tif (Array.isArray(file.files)) file.files = filterById(id, file.files);\n\t\t\t\t\t\t\treturn file;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t}\n};\n\nlet studyFactory = \tid =>{\n\tlet study = Object.create(studyPrototype);\n\tObject.assign(study, {\n\t\tid \t\t: id,\n\t\tfiles \t: m.prop([]),\n\t\tloaded \t: false,\n\t\terror \t:false\n\t});\n\n\treturn study;\n};\n","export default pdfEditor;\n\nlet pdfEditor = {\n\tview: (ctrl, args) => {\n\t\tlet file = args.file;\n\t\treturn m('object', {\n\t\t\tdata: file.url,\n\t\t\ttype: 'application/pdf',\n\t\t\twidth: '100%',\n\t\t\theight: '100%'\n\t\t});\n\t}\n};","export default fullHeight;\nlet fullHeight = (element, isInitialized, ctx) => {\n\tif (!isInitialized){\n\t\tonResize();\n\n\t\twindow.addEventListener('resize', onResize, true);\n\n\t\tctx.onunload = function(){\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t};\n\n\t}\n\n\tfunction onResize(){\n\t\telement.style.height = document.documentElement.clientHeight - element.getBoundingClientRect().top + 'px';\n\t}\n\n};","import fullHeight from '../../fullHeight';\nexport default aceComponent;\n\nvar noop = function(){};\n\nvar aceComponent = {\n\tcontroller: function controller(args){\n\t\tvar ctrl = {\n\t\t\tcontent: args.content\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\n\tview: function editorView(ctrl, args){\n\t\treturn m('.editor', {config: aceComponent.config(ctrl, args)});\n\t},\n\n\tconfig: function(ctrl, args){\n\t\treturn function(element, isInitialized, ctx){\n\t\t\tvar editor;\n\t\t\tvar content = ctrl.content;\n\t\t\tvar settings = args.settings || {};\n\t\t\tlet mode = settings.mode || 'javascript';\n\n\t\t\tif (!isInitialized){\n\t\t\t\tfullHeight(element, isInitialized, ctx);\n\n\t\t\t\trequire(['ace/ace'], function(ace){\n\t\t\t\t\tace.config.set('packaged', true);\n\t\t\t\t\tace.config.set('basePath', require.toUrl('ace'));\n\n\t\t\t\t\teditor = ace.edit(element);\n\t\t\t\t\tvar commands = editor.commands;\n\n\t\t\t\t\teditor.setTheme('ace/theme/monokai');\n\t\t\t\t\teditor.getSession().setMode('ace/mode/' + mode);\n\t\t\t\t\tif (mode !== 'javascript') editor.getSession().setUseWorker(false);\n\t\t\t\t\teditor.setHighlightActiveLine(true);\n\t\t\t\t\teditor.setShowPrintMargin(false);\n\t\t\t\t\teditor.setFontSize('18px');\n\t\t\t\t\teditor.$blockScrolling = Infinity; // scroll to top\n\n\t\t\t\t\teditor.getSession().on('change', function(){\n\t\t\t\t\t\tm.startComputation();\n\t\t\t\t\t\tcontent(editor.getValue());\n\t\t\t\t\t\tm.endComputation();\n\t\t\t\t\t});\n\n\t\t\t\t\tcommands.addCommand({\n\t\t\t\t\t\tname: 'save',\n\t\t\t\t\t\tbindKey: {win: 'Ctrl-S', mac: 'Command-S'},\n\t\t\t\t\t\texec: ctrl.onSave || noop\n\t\t\t\t\t});\n\n\t\t\t\t\teditor.setValue(content());\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\teditor && editor.setValue(content());\n\t\t};\n\t}\n};","import messages from 'utils/messagesComponent';\nimport aceComponent from './aceComponent';\nexport default editorPage;\n\nvar editorPage = {\n\tcontroller: function(args){\n\t\tvar file = args.file;\n\t\tfile.loaded || file.get()\n\t\t\t.then(m.redraw)\n\t\t\t.catch(err => {\n\t\t\t\treturn messages.alert({\n\t\t\t\t\theader: 'Loading Error',\n\t\t\t\t\tcontent: err.message\n\t\t\t\t});\n\t\t\t});\n\n\n\n\n\t\tvar ctrl = {\n\t\t\tfile: file,\n\t\t\tcontent:file.content,\n\t\t\tplay: play,\n\t\t\tsave: save\n\t\t};\n\n\t\treturn ctrl;\n\n\t\tfunction play(){\n\t\t\tvar playground;\n\n\t\t\tplayground = window.open('playground.html', 'Playground');\n\n\t\t\tplayground.onload = function(){\n\t\t\t\t// first set the unload listener\n\t\t\t\tplayground.addEventListener('unload', function() {\n\t\t\t\t\t// get focus back here\n\t\t\t\t\twindow.focus();\n\t\t\t\t});\n\n\t\t\t\t// then activate the player (this ensures that when )\n\t\t\t\tplayground.activate(file);\n\t\t\t\tplayground.focus();\n\t\t\t};\n\t\t}\n\n\t\tfunction save(){\n\t\t\tfile.save().catch(err => messages.alert({\n\t\t\t\theader: 'Error Saving:',\n\t\t\t\tcontent: err.message\n\t\t\t}));\n\t\t}\n\t},\n\n\tview: function(ctrl, args){\n\t\tlet file = ctrl.file;\n\t\treturn m('.editor', [\n\t\t\t!file.loaded\n\t\t\t\t?\n\t\t\t\tm('.loader')\n\t\t\t\t:\n\t\t\t\tfile.error\n\t\t\t\t\t?\n\t\t\t\t\tm('div', {class:'alert alert-danger'}, [\n\t\t\t\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t\t\t\t`The file \"${file.url}\" was not found`\n\t\t\t\t\t])\n\t\t\t\t\t:\n\t\t\t\t\t[\n\t\t\t\t\t\tm('.btn-toolbar', [\n\t\t\t\t\t\t\tm('.btn-group', [\n\t\t\t\t\t\t\t\tctrl.file.type === 'js'\n\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\tm('a.btn.btn-secondary', {onclick: ctrl.play},[\n\t\t\t\t\t\t\t\t\t\tm('strong.fa.fa-play')\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\tm('a.btn.btn-secondary', {onclick: ctrl.save},[\n\t\t\t\t\t\t\t\t\tm('strong.fa.fa-save')\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm.component(aceComponent, {content:ctrl.content, settings: args.settings})\n\t\t\t\t\t]\n\t\t]);\n\t}\n};","import editorComponent from './ace/editorComponent';\nimport classNames from 'utils/classNames';\n\nexport default xmlEditor;\n\nlet xmlEditor = {\n\tcontroller: args => {\n\t\treturn {\n\t\t\tfile: args.file,\n\t\t\tactiveTab: m.prop('edit')\n\t\t};\n\t},\n\tview: ctrl => {\n\t\tlet file = ctrl.file;\n\t\tlet activeTab = ctrl.activeTab;\n\t\treturn m('div',[\n\t\t\tm('ul.nav.nav-tabs',[\n\t\t\t\tm('li.nav-item', [\n\t\t\t\t\tm('a[data-tab=\"edit\"].nav-link', {onclick:m.withAttr('data-tab', activeTab), class: classNames({active: activeTab() == 'edit'})}, 'Edit')\n\t\t\t\t]),\n\t\t\t\tm('li.nav-item',[\n\t\t\t\t\tm('a.nav-link.disabled', 'Syntax')\n\t\t\t\t]),\n\t\t\t\tm('li.nav-item',[\n\t\t\t\t\tm('a.nav-link.disabled', 'Vaildate')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.tab-content', [\n\t\t\t\tactiveTab() == 'edit' ? m.component(editorComponent, {file:file, settings: {mode:'xml'}}) : ''\n\t\t\t])\n\t\t]);\n\t}\n};","import editorComponent from './ace/editorComponent';\nimport classNames from 'utils/classNames';\n\nexport default jsEditor;\n\nlet jsEditor = {\n\tcontroller: args => {\n\t\treturn {\n\t\t\tfile: args.file,\n\t\t\tactiveTab: m.prop('edit')\n\t\t};\n\t},\n\tview: ctrl => {\n\t\tlet file = ctrl.file;\n\t\tlet activeTab = ctrl.activeTab;\n\t\treturn m('div',[\n\t\t\tm('ul.nav.nav-tabs',[\n\t\t\t\tm('li.nav-item', [\n\t\t\t\t\tm('a[data-tab=\"edit\"].nav-link', {onclick:m.withAttr('data-tab', activeTab), class: classNames({active: activeTab() == 'edit'})}, 'Edit')\n\t\t\t\t]),\n\t\t\t\tm('li.nav-item',[\n\t\t\t\t\tm('a.nav-link.disabled', 'Syntax')\n\t\t\t\t]),\n\t\t\t\tm('li.nav-item',[\n\t\t\t\t\tm('a.nav-link.disabled', 'Vaildate')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.tab-content', [\n\t\t\t\tactiveTab() == 'edit' ? m.component(editorComponent, {file:file, settings: {mode:'ejs'}}) : ''\n\t\t\t])\n\t\t]);\n\t}\n};","export default imgEditor;\n\nlet imgEditor = {\n\tview: (ctrl, args) => {\n\t\tlet file = args.file;\n\t\treturn m('div.img-editor.centrify', [\n\t\t\tm('img', {src:file.url})\n\t\t]);\n\t}\n};","export default syntax;\n\n/**\n * Syntax component\n * Takes an argument as follows:\n *\n * {valid: Boolean, data: jshint(script).data()}\n */\nvar syntax = {\n\n\t/**\n\t * Analyze script\n\t * @param  {String} script A script to analyze\n\t * @return {Object}\n\t * {\n\t *      isValid: Boolean,\n\t *      data: Object, // raw data\n\t *      errors: Array, // an array of analyzed errors\n\t *      errorCount: Number, // the number of errors\n\t *      warningCount: Number // the number of warnings\n\t * }\n\t */\n\tanalize: (isValid, data) => {\n\t\tvar errorCount = 0;\n\t\tvar warningCount = 0;\n\t\tvar errors = isValid ? [] : data.errors\n\t\t\t.filter(e => e) // clean null values\n\t\t\t.map(err => {\n\t\t\t\tvar isError = err.code && (err.code[0] === 'E');\n\n\t\t\t\tisError ? errorCount++ : warningCount++;\n\n\t\t\t\treturn {\n\t\t\t\t\tisError: isError,\n\t\t\t\t\tline: err.line,\n\t\t\t\t\tcol: err.character,\n\t\t\t\t\treason: err.reason,\n\t\t\t\t\tevidence: err.evidence\n\t\t\t\t};\n\t\t\t});\n\t\treturn {\n\t\t\tisValid: isValid,\n\t\t\tdata: data,\n\t\t\terrors : errors,\n\t\t\terrorCount: errorCount,\n\t\t\twarningCount: warningCount\n\t\t};\n\t},\n\n\tjshintOptions: {\n\t\t// JSHint Default Configuration File (as on JSHint website)\n\t\t// See http://jshint.com/docs/ for more details\n\n\t\t'curly'         : false,    // true: Require {} for every new block or scope\n\t\t'latedef'       : 'nofunc', // true: Require variables/functions to be defined before being used\n\t\t'undef'         : true,     // true: Require all non-global variables to be declared (prevents global leaks)\n\t\t'unused'        : 'vars',   // Unused variables:\n\t\t\t\t\t\t\t\t\t//   true     : all variables, last function parameter\n\t\t\t\t\t\t\t\t\t//   'vars'   : all variables only\n\t\t\t\t\t\t\t\t\t//   'strict' : all variables, all function parameters\n\t\t'strict'        : false,    // true: Requires all functions run in ES5 Strict Mode\n\n\t\t'browser'       : true,     // Web Browser (window, document, etc)\n\t\t'devel'         : true,     // Development/debugging (alert, confirm, etc)\n\n\t\t// Custom Globals\n\t\tpredef: ['piGlobal','define','require','requirejs','angular']\n\t},\n\n\tcontroller:  args => {\n\t\tvar file = args.file;\n\t\treturn syntax.analize(file.syntaxValid, file.syntaxData);\n\t},\n\n\tview: ctrl => {\n\t\treturn m('div', [\n\t\t\tctrl.isValid\n\t\t\t\t?\n\t\t\t\tm('div', {class:'alert alert-success'}, [\n\t\t\t\t\tm('strong','Well done!'),\n\t\t\t\t\t'Your script is squeaky clean'\n\t\t\t\t])\n\t\t\t\t:\n\t\t\t\tm('div', [\n\t\t\t\t\tm('table.table', [\n\t\t\t\t\t\tm('tbody', ctrl.errors.map(err => {\n\t\t\t\t\t\t\treturn m('tr',[\n\t\t\t\t\t\t\t\tm('td.text-muted', `line ${err.line}`),\n\t\t\t\t\t\t\t\tm('td.text-muted', `col ${err.col}`),\n\t\t\t\t\t\t\t\tm('td', {class: err.isError ? 'text-danger' : 'text-info'}, err.reason),\n\t\t\t\t\t\t\t\tm('td',err.evidence)\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t}))\n\t\t\t\t\t]),\n\n\t\t\t\t\tm('.row',[\n\t\t\t\t\t\tm('.col-md-6', [\n\t\t\t\t\t\t\tm('div', {class:'alert alert-danger'}, [\n\t\t\t\t\t\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t\t\t\t\t\t`You have ${ctrl.errorCount} critical errors.`\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]),\n\t\t\t\t\t\tm('.col-md-6', [\n\t\t\t\t\t\t\tm('div', {class:'alert alert-info'}, [\n\t\t\t\t\t\t\t\tm('strong',{class:'glyphicon glyphicon-warning-sign'}),\n\t\t\t\t\t\t\t\t`You have ${ctrl.warningCount} non standard syntax errors.`\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\n\t\t\t\t])\n\t\t]);\n\t}\n};\n","export function warn(message, test){\n\treturn {level:'warn', message: message, test:test};\n}\n\nexport function error(message, test){\n\treturn {level:'error', message: message, test:test};\n}\n\nexport function row(element, testArr){\n\tvar messages = flatten(testArr)\n\t\t.filter(msg => msg) // clean empty\n\t\t.filter(msg => typeof msg.test == 'function' ? msg.test(element) : !!msg.test); // run test...\n\n\treturn !messages.length ? null : {\n\t\telement: element,\n\t\tmessages: messages\n\t};\n}\n\nfunction flatten(arr) {\n\treturn arr.reduce(function (flat, toFlatten) {\n\t\treturn flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n\t}, []);\n}","function multiPick(arr, propArr){\n\treturn arr\n\t\t.map(e=> e && [].concat(e[propArr[0]], e[propArr[1]], e[propArr[2]])) // gather all stim arrays\n\t\t.reduce((previous, current)=>previous.concat(current),[]) // flatten arrays\n\t\t.filter(t=>t); // remove all undefined stim\n}\n\nfunction flattenSequence(sequence){\n\tfunction unMix(e){\n\t\treturn flattenSequence([].concat(e.data, e.elseData, (e.branches || []).map(e=>e.data)));\n\t}\n\n\treturn sequence\n\t\t.reduce((previous, current) => {return previous.concat(current && current.mixer ? unMix(current) : current);},[])\n\t\t.filter(t=>t); // remove all undefined stim;\n}\n\nfunction concatClean(){\n\tvar args = [].splice.call(arguments,0);\n\treturn [].concat.apply([], args).filter(e=>e);\n}\n\nexport function pipElements(script){\n\tvar trials, stimuli, media;\n\n\ttrials = concatClean(flattenSequence(script.sequence), script.trialSets);\n\tstimuli = concatClean(\n\t\tscript.stimulusSets,\n\t\tmultiPick(trials,['stimuli', 'layout'])\n\t);\n\tmedia = concatClean(\n\t\tscript.mediaSets,\n\t\tmultiPick(stimuli,['media','touchMedia'])\n\t);\n\n\treturn {trials:trials, stimuli:stimuli, media:media};\n}\n\nexport function questElements(script){\n\tvar pages, questions;\n\n\tpages = [].concat(\n\t\tflattenSequence(script.sequence),\n\t\tscript.pagesSets\n\t).filter(t=>t);\n\n\tquestions = [].concat(\n\t\tscript.questionsSets,\n\t\tflattenSequence(multiPick(pages,['questions']))\n\t).filter(t=>t);\n\n\treturn {pages:pages, questions:questions};\n}\n\nexport function managerElements(script){\n\tvar tasks;\n\n\ttasks = [].concat(\n\t\tflattenSequence(script.sequence),\n\t\tscript.pagesSets\n\t).filter(t=>t);\n\n\treturn {tasks:tasks};\n}","import {warn, error, row} from './messages';\nimport {pipElements} from './parser';\n\nexport default pipValidator;\n\nfunction pipValidator(script, url){\n\tvar errors = [];\n\tvar elements = pipElements(script);\n\n\terrors.push({type:'Settings',errors: checkSettings(script, url)});\n\terrors.push({type:'Trials',errors: filterMap(elements.trials, trialTest)});\n\t// errors.push({type:'Stimuli',errors: filterMap(elements.stimuli, stimuliTest)});\n\t// errors.push({type:'Media',errors: filterMap(elements.media, mediaTest)});\n\n\treturn errors;\n}\n\nfunction filterMap(arr, fn){\n\treturn arr.map(fn).filter(e=>e);\n}\n\n/**\n * Check settings\n * @param  {Object} script The script to be tested\n * @param  {String} url    The script origin URL\n * @return {Array}        Array of error rows\n */\nfunction checkSettings(script, url){\n\tvar settings = script.settings || {};\n\n\tvar w = byProp(warn);\n\t// var e = byProp(error);\n\n\tvar errors = [\n\t\tr('base_url', [\n\t\t\tw('Your base_url is not in the same directory as your script.', e => {\n\t\t\t\t// use this!!!\n\t\t\t\t// http://stackoverflow.com/questions/4497531/javascript-get-url-path\n\t\t\t\tvar getPath = url => {\n\t\t\t\t\tvar a = document.createElement('a');\n\t\t\t\t\ta.href = url;\n\t\t\t\t\treturn a.pathname;\n\t\t\t\t};\n\n\t\t\t\tvar path = getPath(url).substring(0, url.lastIndexOf('/') + 1); // get path but remove file name\n\t\t\t\tvar t = s => (!s || getPath(s).indexOf(path) !== 0);\n\n\t\t\t\treturn (typeof e == 'object') ? t(e.image) && t(e.template) : t(e);\n\t\t\t})\n\t\t])\n\t];\n\n\treturn errors.filter(function(err){return !!err;});\n\n\tfunction r(prop, arr){\n\t\tvar el = {};\n\t\tel[prop] = settings[prop];\n\t\treturn prop in settings && row(el, arr);\n\t}\n\n\t// wrap warn/error so that I don't have to individually\n\tfunction byProp(fn){\n\t\treturn function(msg, test){\n\t\t\treturn fn(msg, e => {\n\t\t\t\tfor (var prop in e) {\n\t\t\t\t\treturn test(e[prop]);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t}\n}\n\nfunction trialTest(trial) {\n\tvar tests = [\n\t\ttestInteractions(trial.interactions),\n\t\ttestInput(trial.input)\n\t];\n\n\treturn row(trial, tests);\n\n\tfunction testInteractions(interactions){\n\t\tif (!interactions) {return;}\n\n\t\tif (!Array.isArray(interactions)){\n\t\t\treturn [error('Interactions must be an array.', true)];\n\t\t}\n\n\t\treturn  interactions.map((interaction, index) => {\n\t\t\treturn [\n\t\t\t\t!interaction.conditions ? error(`Interaction [${index}] must have conditions`, true) : [\n\t\t\t\t\terror(`Interaction conditon [${index}] must have a type`, toArray(interaction.conditions).some(c=>!c.type))\n\t\t\t\t],\n\t\t\t\t!interaction.actions ? error(`Interaction [${index}] must have actions`, true) : [\n\t\t\t\t\terror(`Interaction action [${index}] must have a type`, toArray(interaction.actions).some(a=>!a.type))\n\t\t\t\t]\n\t\t\t];\n\t\t});\n\n\n\t\tfunction toArray(arr){\n\t\t\treturn Array.isArray(arr) ? arr : [arr];\n\t\t}\n\n\t}\n\n\tfunction testInput(input){\n\t\tif (!input) {return;}\n\n\t\tif (!Array.isArray(trial.input)){\n\t\t\treturn [error('Input must be an Array', true)];\n\t\t}\n\n\t\treturn [\n\t\t\terror('Input must always have a handle', input.some(i=>!i.handle)),\n\t\t\terror('Input must always have an on attribute', input.some(i=>!i.on))\n\t\t];\n\t}\n}\n\nfunction stimuliTest(stim){\n\tvar tests = [];\n\treturn row(stim, tests);\n}\n\nfunction mediaTest(media){\n\tvar tests = [\n\n\t];\n\treturn row(media, tests);\n}","import messages from './messages';\nimport {questElements} from './parser';\n\nexport default function questValidator(script){\n\tvar errors = [];\n\n\terrors.push({type:'Settings', errors:[]});\n\terrors.push({type:'Pages', errors:[]});\n\terrors.push({type:'Questions', errors:[]});\n\n\treturn errors;\n}","\nimport {warn, error} from './messages';\nimport {managerElements} from './parser';\n\nexport default function managerValidator(script){\n\tvar errors = [];\n\tvar elements = managerElements(script);\n\n\terrors.push({type:'Settings', errors:[]});\n\terrors.push({type:'Tasks', errors:[]});\n\n\treturn errors;\n}\n\n\n\n","import pipValidate from './pipValidator';\nimport questValidate from './questValidator';\nimport managerValidate from './managerValidator';\n\nexport default function validate(script){\n\tvar type = script.type && script.type.toLowerCase();\n\tswitch (type){\n\tcase 'pip' : return pipValidate.apply(null, arguments);\n\tcase 'quest' : return questValidate.apply(null, arguments);\n\tcase 'manager' : return managerValidate.apply(null, arguments);\n\tdefault:\n\t\tthrow new Error('Unknown script.type: ' + type);\n\t}\n}\n\nexport function dd(){\n\treturn [\n\t\t{\n\t\t\ttype: 'task',\n\t\t\terrosrs:[],\n\t\t\terrors: [\n\t\t\t\t{\n\t\t\t\t\telement: {name:'myName', content: [1,2,3]},\n\t\t\t\t\tmessages: [\n\t\t\t\t\t\t{level:'error', message: 'error message1'},\n\t\t\t\t\t\t{level:'warn', message: 'warn message2'},\n\t\t\t\t\t\t{level:'warn', message: 'warn message3'},\n\t\t\t\t\t\t{level:'error', message: 'error message4'}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\telement: {name:'otherName', content: [1,2,3]},\n\t\t\t\t\tmessages: [\n\t\t\t\t\t\t{level:'warn', message: 'warn message1'},\n\t\t\t\t\t\t{level:'error', message: 'error message2'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\n\t];\n}\n","import validator from './parser/validator';\nexport default validateComponent;\n\nvar validateComponent = {\n\tcontroller: args => {\n\t\tvar file = args.file;\n\t\tvar ctrl = {\n\t\t\tvalidations : m.prop([]),\n\t\t\tisError: false\n\t\t};\n\n\t\tm.startComputation();\n\t\tfile\n\t\t\t.define()\n\t\t\t.then(()=>{\n\t\t\t\treturn file.require();\n\t\t\t})\n\t\t\t.then(script => {\n\t\t\t\tctrl.validations(validator(script, file.url));\n\t\t\t\tm.endComputation();\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tctrl.isError = true;\n\t\t\t\tm.endComputation();\n\t\t\t});\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\treturn  m('div', [\n\t\t\t!ctrl.isError ? '' :\tm('div', {class:'alert alert-danger'}, [\n\t\t\t\tm('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n\t\t\t\t`There was a problem parsing this script. Are you sure that it is a valid PI script? Make sure you fix all syntax errors.`\n\t\t\t]),\n\n\t\t\tctrl.validations().map(validationReport => {\n\t\t\t\treturn [\n\t\t\t\t\tm('h4', validationReport.type),\n\t\t\t\t\t!validationReport.errors.length\n\t\t\t\t\t\t?\n\t\t\t\t\t\tm('div', {class:'alert alert-success'}, [\n\t\t\t\t\t\t\tm('strong','Well done!'),\n\t\t\t\t\t\t\t'Your script is squeaky clean'\n\t\t\t\t\t\t])\n\t\t\t\t\t\t:\n\t\t\t\t\t\tvalidationReport.errors.map(err => {\n\t\t\t\t\t\t\treturn m('.row',[\n\t\t\t\t\t\t\t\tm('.col-md-4.stringified',\n\t\t\t\t\t\t\t\t\tm('div', {class:'pre'}, m.trust(stringify(err.element)))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tm('.col-md-8',[\n\t\t\t\t\t\t\t\t\tm('ul', err.messages.map(msg => {\n\t\t\t\t\t\t\t\t\t\treturn m('li.list-unstyled', {class: msg.level == 'error' ? 'text-danger' : 'text-info'}, [\n\t\t\t\t\t\t\t\t\t\t\tm('strong', msg.level),\n\t\t\t\t\t\t\t\t\t\t\tmsg.message\n\t\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t})\n\n\t\t]);\n\t}\n};\n\n\nfunction stringify(value, pretty) {\n\tif (value == null) { // null || undefined\n\t\treturn '<i class=\"text-muted\">undefined</i>';\n\t}\n\tif (value === '') {\n\t\treturn '<i class=\"text-muted\">an empty string</i>';\n\t}\n\n\tswitch (typeof value) {\n\t\tcase 'string':\n\t\t\tbreak;\n\t\tcase 'number':\n\t\t\tvalue = '' + value;\n\t\t\tbreak;\n\t\tcase 'object':\n\t\t\t// display the error message not the full thing...\n\t\t\tif (value instanceof Error){\n\t\t\t\tvalue = value.message;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t/* fall through */\n\t\tdefault:\n\t\t\t// @TODO: implement this: http://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript\n\t\t\tvalue = syntaxHighlight(JSON.stringify(value, null, 4));\n\t}\n\n\treturn value;\n}\n\n\nfunction syntaxHighlight(json) {\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n            if (/:$/.test(match)) {\n                cls = 'key';\n            } else {\n                cls = 'string';\n            }\n        } else if (/true|false/.test(match)) {\n            cls = 'boolean';\n        } else if (/null/.test(match)) {\n            cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n    });\n}\n","import editorComponent from './ace/editorComponent';\nimport syntaxComponent from './ace/syntaxComponent';\nimport validatorComponent from './ace/validatorComponent';\nimport classNames from 'utils/classNames';\n\nexport default jsEditor;\n\nlet jsEditor = {\n\tcontroller: args => {\n\t\treturn {\n\t\t\tfile: args.file,\n\t\t\tactiveTab: m.prop('edit')\n\t\t};\n\t},\n\tview: ctrl => {\n\t\tlet file = ctrl.file;\n\t\tlet activeTab = ctrl.activeTab;\n\t\treturn m('div',[\n\t\t\t!file.loaded ? '' : m('ul.nav.nav-tabs',[\n\t\t\t\tm('li.nav-item', [\n\t\t\t\t\tm('a[data-tab=\"edit\"].nav-link', {onclick:m.withAttr('data-tab', activeTab), class: classNames({active: activeTab() == 'edit'})}, 'Edit')\n\t\t\t\t]),\n\t\t\t\tm('li.nav-item', [\n\t\t\t\t\tm('a[data-tab=\"syntax\"].nav-link', {onclick:m.withAttr('data-tab', activeTab), class: classNames({active: activeTab() == 'syntax'})}, [\n\t\t\t\t\t\t'Syntax ',\n\t\t\t\t\t\tm('span.badge.alert-danger',file.syntaxValid ? '' : file.syntaxData.errors.length)\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tm('li.nav-item', [\n\t\t\t\t\tm('a[data-tab=\"validate\"].nav-link', {onclick:m.withAttr('data-tab', activeTab), class: classNames({active: activeTab() == 'validate'})}, 'Validate')\n\t\t\t\t])\n\t\t\t]),\n\t\t\tm('.tab-content', [\n\t\t\t\tactiveTab() == 'edit' ? m.component(editorComponent, {file:file}) : '',\n\t\t\t\tactiveTab() == 'syntax' ? m.component(syntaxComponent, {file:file}) : '',\n\t\t\t\tactiveTab() == 'validate' ? m.component(validatorComponent, {file:file}) : ''\n\t\t\t])\n\t\t]);\n\t}\n};","import fullHeight from './fullHeight';\nimport jsEditor from './editors/jsEditor';\nimport jstEditor from './editors/jstEditor';\nimport xmlEditor from './editors/xmlEditor';\nimport imgEditor from './editors/imgEditor';\nimport pdfEditor from './editors/pdfEditor';\n\nexport default fileEditorComponent;\n\nlet editors = {\n\tjs: jsEditor,\n\tjpg: imgEditor,\n\tbmp: imgEditor,\n\tpng: imgEditor,\n\thtml: jstEditor,\n\tjst: jstEditor,\n\txml: xmlEditor,\n\tpdf: pdfEditor\n};\n\nlet fileEditorComponent = {\n\tcontroller: function({study}) {\n\t\tvar id = m.route.param('fileID');\n\t\tvar file = study.getFile(id);\n\t\tvar ctrl = {\n\t\t\tfile: file\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\n\tview: (ctrl, args = {}) => {\n\t\tvar file = ctrl.file;\n\n\t\treturn m('div', {config:fullHeight}, [\n\t\t\tfile\n\t\t\t\t? editors[file.type]\n\t\t\t\t\t? m.component(editors[file.type], {file:file, settings: args.settings})\n\t\t\t\t\t: m('.centrify', [\n\t\t\t\t\t\t!file.isDir\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tm('i.fa.fa-file.fa-5x'),\n\t\t\t\t\t\t\t\tm('h5', 'Unknow file type')\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tm('i.fa.fa-folder-open-o.fa-5x'),\n\t\t\t\t\t\t\t\tm('h5', 'Sub directories are not supported yet.'),\n\t\t\t\t\t\t\t\tm('p', 'We have a team of monkeys hacking at it as we speak...')\n\t\t\t\t\t\t\t]\n\t\t\t\t\t])\n\t\t\t\t: m('.centrify', [\n\t\t\t\t\tm('i.fa.fa-smile-o.fa-5x'),\n\t\t\t\t\tm('h5', 'Please select a file to start working')\n\t\t\t\t])\n\t\t]);\n\t}\n};","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nexport default fileContext;\n\n// download support according to modernizer\nlet downloadSupport = !window.externalHost && 'download' in document.createElement('a');\n\nlet fileContext = (file, study) => {\n\tlet menu = [\n\t\t{icon:'fa-copy', text:'Duplicate', action: () => messages.alert({header:'Duplicate: ' + file.name, content:'Duplicate has not been implemented yet'})},\n\t\t{separator:true},\n\t\t{icon:'fa-download', text:'Download', action: downloadFile},\n\t\t// {icon:'fa-clipboard', text:'Copy Url', action: () => alert('copy')},\n\t\t{icon:'fa-close', text:'Delete', action: deleteFile}\n\t];\n\treturn contextMenu.open(menu);\n\n\tfunction downloadFile(){\n\t\tif (downloadSupport){\n\t\t\tlet link = document.createElement('a');\n\t\t\tlink.href = file.url;\n\t\t\tlink.download = file.name;\n\t\t\tlink.target = '_blank';\n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\t\t\tdocument.body.removeChild(link);\n\t\t} else {\n\t\t\tlet win = window.open(file.url, '_blank');\n\t\t\twin.focus();\n\t\t}\n\t}\n\n\tfunction deleteFile(){\n\t\tmessages.confirm({\n\t\t\theader:['Delete ',m('small', file.name)],\n\t\t\tcontent: 'Are you sure you want to delete this file? This action is permanent!'\n\t\t})\n\t\t.then(ok => {\n\t\t\tif (ok) return study.del(file.id);\n\t\t})\n\t\t.then(m.redraw)\n\t\t.catch( err => {\n\t\t\terr.response.json()\n\t\t\t\t.then(response => {\n\t\t\t\t\tmessages.alert({\n\t\t\t\t\t\theader: 'Delete failed:',\n\t\t\t\t\t\tcontent: response.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\treturn err;\n\t\t});\n\t} // end delete file\n};\n\n","import filesComponent from './filesComponent';\nimport classNames from 'utils/classNames';\nimport fileContext from './fileContext';\n\nexport default nodeComponent;\n\nlet nodeComponent = {\n\tcontroller: ({file}) => {\n\t\treturn {\n\t\t\tisCurrent: m.route.param('fileID') === file.id\n\t\t};\n\t},\n\tview: (ctrl, {file, study, filesVM}) => {\n\t\tlet vm = filesVM(file.id); // vm is created by the study component, it exposes a \"isOpen\" and \"isChanged\" properties\n\t\treturn m('li.file-node',\n\t\t\t{\n\t\t\t\tkey: file.id,\n\t\t\t\tclass: classNames({\n\t\t\t\t\topen : vm.isOpen()\n\t\t\t\t}),\n\t\t\t\tonclick: file.isDir ? () => vm.isOpen(!vm.isOpen()) : choose(file),\n\t\t\t\toncontextmenu: fileContext(file, study)\n\t\t\t},\n\t\t\t[\n\t\t\t\tm('a.wholerow', {\n\t\t\t\t\tunselectable:'on',\n\t\t\t\t\tclass:classNames({\n\t\t\t\t\t\t'current': ctrl.isCurrent\n\t\t\t\t\t})\n\t\t\t\t}, m.trust('&nbsp;')),\n\t\t\t\tm('i.fa.fa-fw', {\n\t\t\t\t\tclass: classNames({\n\t\t\t\t\t\t'fa-caret-right' : file.isDir && !vm.isOpen(),\n\t\t\t\t\t\t'fa-caret-down': file.isDir && vm.isOpen()\n\t\t\t\t\t})\n\t\t\t\t}),\n\n\t\t\t\tm('a', [\n\t\t\t\t\tm('i.fa.fa-fw.fa-file-o', {\n\t\t\t\t\t\tclass: classNames({\n\t\t\t\t\t\t\t'fa-file-code-o': /(js)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-text-o': /(jst|html|xml)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-image-o': /(jpg|png|bmp)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-file-pdf-o': /(pdf)$/.test(file.type),\n\t\t\t\t\t\t\t'fa-folder-o': file.isDir\n\t\t\t\t\t\t})\n\t\t\t\t\t}),\n\t\t\t\t\t` ${file.name}`,\n\t\t\t\t\tfile.isDir ? m.component(filesComponent, {study, filesVM, files: file.files || []}) : ''\n\t\t\t\t])\n\t\t\t]\n\t\t);\n\t}\n};\n\nlet choose = (file) => e => {\n\te.stopPropagation();\n\te.preventDefault();\n\tm.route(`/editor/${file.studyID}/${encodeURIComponent(file.id)}`);\n};","import nodeComponent from './nodeComponent';\nexport default filesComponent;\n\nlet filesComponent = {\n\tview(ctrl, {study,filesVM, files}){\n\t\treturn m('.files', [\n\t\t\tm('ul', files.map(file => m.component(nodeComponent, {file, study, key:file.id, filesVM})))\n\t\t]);\n\t}\n};\n","import messages from 'utils/messagesComponent';\nexport default pipWizard;\nlet pipWizard = ({name, content}) => {\n\treturn messages.prompt({\n\t\theader: 'Create PIP',\n\t\tcontent: 'Please insert the file name:',\n\t\tprop: name\n\t})\n\t.then(response => {\n\t\tif (response) {\n\t\t\tcontent(template());\n\t\t}\n\t\treturn response;\n\t});\n};\n\nlet template = () => `define(['pipAPI','pipScorer'], function(APIConstructor,Scorer) {\n\n\tvar API = new APIConstructor();\n\tvar scorer = new Scorer();\n\n\t// add something to the current object\n\tAPI.addCurrent({});\n\n\t// set the base urls for images and templates\n\tAPI.addSettings('base_url',{\n\t\timage : '/my/folder/images',\n\t\ttemplate : '/my/folder/templates'\n\t});\n\n\t// base trial\n\tAPI.addTrialSets('base',{\n\t\tinput: [\n\t\t\t{handle:'space',on:'space'}\n\t\t],\n\n\t\tstimuli: [\n\t\t\t{media: 'Hello World!!'}\n\t\t],\n\n\t\tinteractions: [\n\t\t\t{\n\t\t\t\tconditions: [\n\t\t\t\t\t{type:'begin'}\n\t\t\t\t],\n\t\t\t\tactions: [\n\t\t\t\t\t{type:'showStim',handle:'All'}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tconditions: [\n\t\t\t\t\t{type:'inputEquals',value:'space'}\n\t\t\t\t],\n\t\t\t\tactions: [\n\t\t\t\t\t{type:'endTrial'}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t});\n\n\tAPI.addSequence([\n\t\t{\n\t\t\tmixer: 'random',\n\t\t\tdata: [\n\t\t\t\t{\n\t\t\t\t\tmixer: 'repeat',\n\t\t\t\t\ttimes: 10,\n\t\t\t\t\tdata: [\n\t\t\t\t\t\t{inherit:'base'}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]);\n\n\treturn API.script;\n});`\n","import messages from 'utils/messagesComponent';\nexport default questWizard;\nlet questWizard = ({name, content}) => {\n\treturn messages.prompt({\n\t\theader: 'Create piQuest',\n\t\tcontent: 'Please insert the file name:',\n\t\tprop: name\n\t})\n\t.then(response => {\n\t\tif (response) {\n\t\t\tcontent(template());\n\t\t}\n\t\treturn response;\n\t});\n};\n\nlet template = () => `define(['questAPI'], function(Quest){\n\n\tvar API = new Quest();\n\n\tAPI.addSequence([\n\t\t{\n\t\t\theader: 'Hello World',\n\t\t\tquestions: [\n\t\t\t\t{\n\t\t\t\t\tname: 'pickaname',\n\t\t\t\t\ttype: 'selectOne',\n\t\t\t\t\tstem: 'What is you favorite color?',\n\t\t\t\t\tanswers: ['red', 'blue', 'green']\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]);\n\n\treturn API.script;\n});`;\n","import messages from 'utils/messagesComponent';\nexport default managerWizard;\nlet managerWizard = ({name, content}) => {\n\treturn messages.prompt({\n\t\theader: 'Create piManager',\n\t\tcontent: 'Please insert the file name:',\n\t\tprop: name\n\t})\n\t.then(response => {\n\t\tif (response) {\n\t\t\tcontent(template());\n\t\t}\n\t\treturn response;\n\t});\n};\n\nlet template = () => `define(['managerAPI'], function(Manager){\n\n    var API = new Manager();\n\n    API.addSequence([\n        {type:'message', template:'<h1>Hellow world</h1>', keys: ' '}\n    ]);\n\n    return API.script;\n});`;\n","import messages from 'utils/messagesComponent';\nimport pipWizard from './wizards/pipWizard';\nimport questWizard from './wizards/questWizard';\nimport managerWizard from './wizards/managerWizard';\nexport default sidebarButtons;\n\nlet sidebarButtons = {\n\tcontroller: ({study}) => {\n\t\tlet ctrl = {\n\t\t\tnewOpen: false,\n\t\t\ttoggleNew: () => ctrl.newOpen = !ctrl.newOpen,\n\t\t\tcreateEmpty: createEmpty,\n\t\t\tcreatePIP: createPIP,\n\t\t\tcreateQuest: createQuest,\n\t\t\tcreateManager: createManager\n\t\t};\n\n\t\treturn ctrl;\n\n\t\tfunction create(name, content){\n\t\t\treturn response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tstudy.createFile(name(), content())\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tm.route(`/editor/${study.id}/${response.id}`);\n\t\t\t\t\t\t\treturn response;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => messages.alert({\n\t\t\t\t\t\t\theaser: 'Failed to create file:',\n\t\t\t\t\t\t\tcontent: err.message\n\t\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfunction createEmpty(){\n\t\t\tlet name = m.prop();\n\t\t\tlet content = ()=>'';\n\n\t\t\tmessages.prompt({\n\t\t\t\theader: 'Create file',\n\t\t\t\tcontent: 'Please insert the file name:',\n\t\t\t\tprop: name\n\t\t\t}).then(create(name,content));\n\t\t}\n\n\t\tfunction createPIP(){\n\t\t\tlet name = m.prop();\n\t\t\tlet content = m.prop();\n\t\t\tpipWizard({name, content}).then(create(name, content));\n\t\t}\n\n\t\tfunction createQuest(){\n\t\t\tlet name = m.prop();\n\t\t\tlet content = m.prop();\n\t\t\tquestWizard({name, content}).then(create(name, content));\n\t\t}\n\n\t\tfunction createManager(){\n\t\t\tlet name = m.prop();\n\t\t\tlet content = m.prop();\n\t\t\tmanagerWizard({name, content}).then(create(name, content));\n\t\t}\n\n\n\t},\n\n\tview: ctrl => {\n\t\treturn m('.btn-group', {class: ctrl.newOpen ? 'open' : ''}, [\n\t\t\tm('.btn.btn-sm.btn-secondary', {onclick:ctrl.createEmpty}, [\n\t\t\t\tm('i.fa.fa-plus'), ' New'\n\t\t\t]),\n\t\t\tm('.btn.btn-sm.btn-secondary.dropdown-toggle', {onclick:ctrl.toggleNew}),\n\t\t\tm('.dropdown-menu', {onclick: ctrl.toggleNew}, [\n\t\t\t\tm('a.dropdown-item', {onclick: ctrl.createPIP}, 'piPlayer'),\n\t\t\t\tm('a.dropdown-item', {onclick: ctrl.createQuest}, 'piQuest'),\n\t\t\t\tm('a.dropdown-item', {onclick: ctrl.createManager}, 'piManager')\n\t\t\t])\n\t\t]);\n\t}\n};","import filesComponent from './filesComponent';\nimport sidebarButtons from './sidebarButtons';\nexport default sidebarComponent;\n\nlet sidebarComponent = {\n\tview: (ctrl , {study, filesVM}) => {\n\t\treturn m('.sidebar', [\n\t\t\tm('h5', study.id),\n\t\t\tm.component(sidebarButtons, {study}),\n\t\t\tm.component(filesComponent, {study,filesVM, files: study.files() || []})\n\t\t]);\n\t}\n};","export default editorLayoutComponent;\nimport studyFactory from './studyModel';\nimport editorComponent from './editorComponent';\nimport sidebarComponent from './sidebar/sidebarComponent';\n\nlet study, filesVM;\n\nlet editorLayoutComponent = {\n\tcontroller: ()=>{\n\t\tlet id = m.route.param('studyID');\n\t\tif (!study || (study.id !== id)){\n\t\t\tstudy = studyFactory(id);\n\t\t\tstudy\n\t\t\t\t.get()\n\t\t\t\t.then(m.redraw);\n\t\t}\n\n\t\tif (!filesVM) filesVM = viewModelMap({\n\t\t\tisOpen: m.prop(false),\n\t\t\tisChanged: m.prop(false)\n\t\t});\n\n\t\tlet ctrl = {study, filesVM};\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\tlet study = ctrl.study;\n\t\tlet filesVM = ctrl.filesVM;\n\t\treturn m('.row.study', [\n\t\t\tstudy.loaded\n\t\t\t\t? [\n\t\t\t\t\tm('.col-md-2', [\n\t\t\t\t\t\tm.component(sidebarComponent, {study, filesVM})\n\t\t\t\t\t]),\n\t\t\t\t\tm('.col-md-10',[\n\t\t\t\t\t\tm.component(editorComponent, {study, filesVM})\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t\t\t:\n\t\t\t\t''\n\t\t]);\n\t}\n};\n\n// http://lhorie.github.io/mithril-blog/mapping-view-models.html\nvar viewModelMap = function(signature) {\n\tvar map = {};\n\treturn function(key) {\n\t\tif (!map[key]) {\n\t\t\tmap[key] = {};\n\t\t\tfor (var prop in signature) map[key][prop] = m.prop(signature[prop]());\n\t\t}\n\t\treturn map[key];\n\t};\n};","import {toJSON, checkStatus} from 'utils/modelHelpers';\nexport default mainComponent;\n\nvar mainComponent = {\n\tcontroller: function(){\n\t\tvar ctrl = {\n\t\t\tstudies:m.prop(),\n\t\t\tloaded:false\n\t\t};\n\t\tfetch('/dashboard/dashboard/studies', {credentials: 'same-origin'})\n\t\t\t.then(checkStatus)\n\t\t\t.then(toJSON)\n\t\t\t.then(ctrl.studies)\n\t\t\t.then(()=>ctrl.loaded = true)\n\t\t\t.then(m.redraw);\n\n\n\n\t\treturn ctrl;\n\t},\n\tview: ctrl => {\n\t\treturn m('.container', [\n\t\t\tm('h3', 'My studies'),\n\t\t\t!ctrl.loaded\n\t\t\t\t?\n\t\t\t\tm('.loader')\n\t\t\t\t:\n\t\t\t\tm('.list-group',ctrl.studies().studies.map(study => m('a.list-group-item',{\n\t\t\t\t\thref: `/editor/${study.id}`,\n\t\t\t\t\tconfig: m.route\n\t\t\t\t}, study.name)))\n\t\t]);\n\t}\n};","import {login} from './authModel';\nexport default loginComponent;\n\nlet loginComponent = {\n\tcontroller(){\n\t\tconst email = m.prop('');\n\t\tconst password = m.prop('');\n\t\tconst ctrl = {\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tlogin: login.bind(null, {email, password})\n\t\t};\n\n\t\treturn ctrl;\n\t},\n\tview(ctrl){\n\t\treturn m('.login.centrify', [\n\t\t\tm('.card.card-inverse.col-md-4', [\n\t\t\t\tm('.card-block',[\n\t\t\t\t\tm('h4', 'Please sign in'),\n\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'email',\n\t\t\t\t\t\tplaceholder: 'Email',\n\t\t\t\t\t\tvalue: ctrl.email(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.email)\n\t\t\t\t\t}),\n\n\t\t\t\t\tm('input.form-control', {\n\t\t\t\t\t\ttype:'password',\n\t\t\t\t\t\tplaceholder: 'Password',\n\t\t\t\t\t\tvalue: ctrl.password(),\n\t\t\t\t\t\tonkeyup: m.withAttr('value', ctrl.password)\n\t\t\t\t\t}),\n\n\t\t\t\t\tm('button.btn.btn-primary.btn-block', {onclick: ctrl.login},'Sign in'),\n\n\t\t\t\t\tm('p.text-center',\n\t\t\t\t\t\tm('a', m('small.text-muted','Lost your password?'))\n\t\t\t\t\t)\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n};\n\n","import studiesComponent from './study/studiesComponent';\nimport studyComponent from './study/studyComponent';\nimport poolComponent from './pool/poolComponent';\nimport downloadsComponent from './downloads/downloadsComponent';\nimport loginComponent from './login/loginComponent';\nexport default routes;\n\nlet routes = {\n\t'/login': loginComponent,\n\t'/studies' : studiesComponent,\n\t'/editor/:studyID': studyComponent,\n\t'/editor/:studyID/:fileID': studyComponent,\n\t'/pool': poolComponent,\n\t'/downloads': downloadsComponent\n};\n\n","import routes from './routes';\nimport layoutWrapper from './layoutWrapper';\n\nlet wrappedRoutes = mapObject(routes, layoutWrapper);\nm.route(document.body, 'studies', wrappedRoutes);\n\n/**\n * Map Object\n * A utility function to transform objects\n * @param  {Object} \tobj \tThe object to transform\n * @param  {Function} \tcb \t\tThe transforming function\n * @return {Object}        [description]\n *\n * Signature:\n *\n * Object mapObject(Object obj, callbackFunction cb)\n *\n * where:\n * \tcallbackFunction :: any Function(any value, String key, Object object)\n */\nfunction mapObject(obj, cb) {\n\treturn Object.keys(obj)\n\t\t.reduce(function(result, key) {\n\t\t\tresult[key] = cb(obj[key], key, obj);\n\t\t\treturn result;\n\t\t}, {});\n}\n"],"names":["contextMenu","url","STATUS_RUNNING","interceptErrors","createComponent","focusConfig","remove","create","createMessage","unPropify","reportError","thConfig","studyFilter","baseUrl","noop","editorComponent","jsEditor","pipValidate","questValidate","managerValidate","validator","syntaxComponent","validatorComponent","jstEditor","template","studiesComponent","studyComponent","layoutWrapper"],"mappings":"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","sourceRoot":"/source/"}